(window.webpackJsonp=window.webpackJsonp||[]).push([[12,13],{"/dP6":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),c=a("FiBj"),i=a("1Yd/");t.default=function(e){var t=e.path,a=e.pageContext,n=e.preview,m=void 0!==n&&n,l=a.main,o=l.modules,s=l.slug,p=a.meta,u="home"===s.current?"":t;return r.a.createElement("div",{className:"mt1 x ac"},m&&r.a.createElement("div",{className:"bcblue ac cw x p1"},"This is a Preview"),r.a.createElement(i.a,{metaInfo:p,pagePath:u}),r.a.createElement("div",{className:"container--1000 mt2 pt6--800 mxa x al"},Object(c.a)(o)))}},"1Yd/":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("q1tI"),r=a.n(n),c=a("TJpk"),i=a.n(c),m="https://midway-starter.netlify.com",l=function(e){var t=e.pagePath,a=e.metaInfo,n=a&&a.metaTitle?a.metaTitle:"Midway",c=a&&a.metaDescription?a.metaDescription:"Midway is an Open source Headless  Shopify + Sanity starter.",l=a&&a.openImage?a.openImage.asset.url:"",o=a&&a.twitterImage?a.twitterImage.asset.url:"",s=a&&a.openTitle?a.openTitle:n,p=a&&a.openGraphDescription?a.openGraphDescription:c,u=a&&a.twitterTitle?a.twitterTitle:n,d=a&&a.twitterDescription?a.twitterDescription:c;return r.a.createElement(i.a,{title:n},r.a.createElement("html",{lang:"en"}),r.a.createElement("meta",{"http-equiv":"Accept-CH",content:"DPR, Width, Viewport-Width"}),r.a.createElement("meta",{property:"og:locale",content:"en_US"}),r.a.createElement("meta",{name:"description",content:c}),r.a.createElement("meta",{name:"keywords",content:"midway, sanity, shopify, graphql, starter"}),r.a.createElement("meta",{property:"og:url",content:m+"/"+(t||"")}),r.a.createElement("meta",{property:"og:image",content:l}),r.a.createElement("meta",{property:"og:title",content:""+s}),r.a.createElement("meta",{property:"og:site_name",content:"Midway"}),r.a.createElement("meta",{property:"og:description",content:p}),r.a.createElement("meta",{name:"twitter:site",content:"@Midway"}),r.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),r.a.createElement("meta",{name:"twitter:title",content:""+u}),r.a.createElement("meta",{name:"twitter:image:src",content:o}),r.a.createElement("meta",{name:"twitter:description",content:d}),r.a.createElement("meta",{name:"twitter:url",content:m+"/"+(t||"")}))}},gO0e:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),c=a("YwZP"),i=a("+Ibb"),m=a("/dP6"),l=a("TSYQ"),o=a.n(l),s=a("FiBj"),p=a("osSN"),u=a.n(p),d=a("vHb1"),h=a("CVOh"),f=a("8tZl"),g=function(e){var t=e.product,a=e.main,n=a.title,c=a.productDescription,i=a.linkedSite,m=a.linkedSiteName,l=a.mainImage;return r.a.createElement("div",{className:"product__hero"},r.a.createElement("div",{className:"container--xl p1 outer mxa"},r.a.createElement("div",{className:"row df aic"},r.a.createElement("div",{className:"col c12 c6--800 x"},r.a.createElement(h.a,{className:"x",imageId:l.asset._id,alt:n})),r.a.createElement("div",{className:"col c12 c6--800"},r.a.createElement("div",{className:"p4--800"},r.a.createElement("h1",{className:"mb2"},n),c&&r.a.createElement(u.a,{blocks:c,serializers:d.a}),i&&m&&r.a.createElement("div",{className:"callout bg--blue color--white p1 my1"},"Shop the real product on the ",r.a.createElement("a",{href:i,className:"cw underline",target:"_blank"},m)," Website."),r.a.createElement(f.a,Object.assign({},t,{showQuantity:!0})))))))};var E=function(e,t){var a;return{"@context":"https://schema.org/","@type":"Product",name:e.title,image:e.mainImage&&e.mainImage.asset.url,description:e.productDescription&&(a=e.productDescription,void 0===a&&(a=[]),a.map((function(e){return"block"===e._type&&e.children?e.children.map((function(e){return e.text})).join(""):""})).join("\n\n")),sku:t.defaultVariant.sku,mpn:t.defaultVariant.sku,price:t.defaultVariant.price,brand:{"@type":"Thing",name:"Midway"},offers:{"@type":"Offer",url:"https://midway-starter.netlify.com/products/"+e.slug.current,priceCurrency:"USD",price:t.defaultVariant.price,itemCondition:"https://schema.org/UsedCondition",availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:"Midway"}}}},w=a("Vj9l"),v=a("1Yd/"),y=function(e){var t=e.pageContext,a=e.preview,c=void 0!==a&&a,i=Object(w.j)(),m=t.main,l=t.main,p=l.modules,u=l.slug,d=t.meta,h=t.shopify;Object(n.useEffect)((function(){i(t.main.slug.current)}),[0]);var f="products/"+u.current;return r.a.createElement("div",{className:"ac x"},c&&r.a.createElement("div",{className:"bcblue ac cw x p1"},"This is a Preview"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:'\n            <script type="application/ld+json">\n              '+JSON.stringify(E(m,h))+"\n            <\/script>\n          "}}),r.a.createElement(v.a,{metaInfo:d,pagePath:f}),r.a.createElement("div",{className:o()("mxa x al site__main",t.main.slug.current)},r.a.createElement(g,{main:t.main,product:h}),Object(s.a)(p)))},b=a("/dyv"),N=a.n(b),j=a("y9dM"),x=N()({projectId:"k924jh0b",dataset:"production",useCdn:!1,withCredentials:!0}),I=function(e){var t=e.document,a=Object(n.useState)(null),c=a[0],l=a[1],o='*[_id == "'+t+'"]  {\n    ...,\n  }',s='*[_id == "'+t+'"]  {\n    '+j.pageQuery+"\n  }",p='*[_id == "'+t+'"]  {\n    '+j.productQuery+"\n  }",u=Object(n.useCallback)((function(){return x.fetch(o).then((function(e){switch(e[0]._type){case"page":x.fetch(s).then((function(e){l(e[0])}));break;case"product":x.fetch(p).then((function(e){l(e[0])}))}}))}),[]),d=Object(i.b)("handlePreviewFetch",u,{defer:!0}),h=(d.error,d.isResolved),f=d.isPending,g=d.isReloading,E=d.load;Object(n.useEffect)((function(){E()}),[0]);return r.a.createElement(r.a.Fragment,null,(f||g)&&r.a.createElement("div",{className:"ac"},r.a.createElement("span",null,"Loading")),h&&!f&&function(){if(c)switch(c._type){case"page":return r.a.createElement(m.default,{pageContext:c.content,preview:!0});case"product":return r.a.createElement(y,{pageContext:c.content,preview:!0})}}())};t.default=function(){return r.a.createElement("div",null,r.a.createElement(c.Router,null,r.a.createElement(I,{path:"/previews/:document"})))}}}]);
//# sourceMappingURL=component---src-pages-previews-tsx-9a9bd8be2ab030621824.js.map