{"version":3,"sources":["webpack:///./node_modules/is-plain-object/index.js","webpack:///./node_modules/@sanity/client/lib/sanityClient.js","webpack:///./node_modules/get-it/lib/middleware/progress/index.js","webpack:///./node_modules/eventsource-polyfill/dist/eventsource.js","webpack:///./node_modules/rxjs/internal/operators/defaultIfEmpty.js","webpack:///./node_modules/@sanity/client/lib/assets/assetsClient.js","webpack:///./node_modules/@sanity/client/lib/config.js","webpack:///./node_modules/rxjs/internal/operators/filter.js","webpack:///./node_modules/@sanity/client/lib/users/usersClient.js","webpack:///./node_modules/rxjs/internal/operators/takeLast.js","webpack:///./node_modules/nano-pubsub/index.js","webpack:///./node_modules/get-it/lib/middleware/jsonRequest.js","webpack:///./node_modules/rxjs/internal/util/pipe.js","webpack:///./node_modules/get-it/lib/util/global.js","webpack:///./node_modules/@sanity/client/lib/http/requestOptions.js","webpack:///./node_modules/@sanity/client/lib/util/pick.js","webpack:///./node_modules/get-it/lib/middleware/defaultOptionsProcessor.js","webpack:///./node_modules/rxjs/internal/Subscriber.js","webpack:///./node_modules/rxjs/internal/util/isObject.js","webpack:///./node_modules/rxjs/internal/Observer.js","webpack:///./node_modules/deep-assign/index.js","webpack:///./node_modules/rxjs/internal/util/ArgumentOutOfRangeError.js","webpack:///./node_modules/@sanity/client/lib/projects/projectsClient.js","webpack:///./node_modules/rxjs/internal/util/UnsubscriptionError.js","webpack:///./node_modules/@sanity/client/lib/util/getSelection.js","webpack:///./node_modules/@sanity/client/lib/http/errors.js","webpack:///./node_modules/rxjs/internal/util/hostReportError.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/observable/minimal.js","webpack:///./node_modules/rxjs/internal/Observable.js","webpack:///./node_modules/get-it/lib/middleware/jsonResponse.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/observable/lib/SanityObservableMinimal.js","webpack:///./node_modules/@sanity/client/lib/validators.js","webpack:///./node_modules/rxjs/internal/util/toSubscriber.js","webpack:///./node_modules/@sanity/client/lib/http/queryString.js","webpack:///./node_modules/rxjs/internal/operators/reduce.js","webpack:///./node_modules/parse-headers/parse-headers.js","webpack:///./node_modules/get-it/lib/request/browser-request.js","webpack:///./node_modules/rxjs/internal/observable/empty.js","webpack:///./node_modules/make-error/index.js","webpack:///./node_modules/get-it/lib/index.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/generate-help-url/index.js","webpack:///./node_modules/get-it/lib/middleware/progress/browser-progress.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/observable/operators/reduce.js","webpack:///./node_modules/same-origin/index.js","webpack:///./node_modules/@sanity/client/lib/datasets/datasetsClient.js","webpack:///./node_modules/@sanity/client/lib/data/listen.js","webpack:///./node_modules/get-it/lib/middleware/observable.js","webpack:///./node_modules/@sanity/client/lib/http/browserMiddleware.js","webpack:///./node_modules/same-origin/url-parser.js","webpack:///./node_modules/get-it/lib/middleware/defaultOptionsValidator.js","webpack:///./node_modules/@sanity/client/lib/data/transaction.js","webpack:///./node_modules/rxjs/internal/util/isArray.js","webpack:///./node_modules/rxjs/internal/config.js","webpack:///./node_modules/is-obj/index.js","webpack:///./node_modules/rxjs/internal/symbol/rxSubscriber.js","webpack:///./node_modules/get-it/lib/request/index.js","webpack:///./node_modules/@sanity/client/lib/util/once.js","webpack:///./node_modules/get-it/lib/util/middlewareReducer.js","webpack:///./node_modules/rxjs/internal/util/isFunction.js","webpack:///./node_modules/rxjs/internal/operators/map.js","webpack:///./node_modules/isobject/index.js","webpack:///./node_modules/@sanity/client/lib/data/dataMethods.js","webpack:///./node_modules/@sanity/client/lib/util/defaults.js","webpack:///./node_modules/@sanity/client/lib/data/patch.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/observable/operators/map.js","webpack:///./node_modules/@sanity/client/lib/auth/authClient.js","webpack:///./node_modules/rxjs/internal/operators/scan.js","webpack:///./node_modules/get-it/index.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/observable/operators/filter.js","webpack:///./node_modules/@sanity/client/lib/http/request.js","webpack:///./node_modules/@sanity/client/lib/data/encodeQueryString.js","webpack:///./src/utils/queries.ts","webpack:///./node_modules/rxjs/internal/util/identity.js","webpack:///./node_modules/@sanity/client/node_modules/@sanity/eventsource/browser.js","webpack:///./node_modules/rxjs/internal/util/canReportError.js","webpack:///./node_modules/rxjs/internal/Subscription.js","webpack:///./node_modules/rxjs/internal/symbol/observable.js"],"names":["isObject","isObjectObject","o","Object","prototype","toString","call","module","exports","ctor","prot","constructor","hasOwnProperty","assign","filter","map","Patch","Transaction","dataMethods","DatasetsClient","ProjectsClient","AssetsClient","UsersClient","AuthClient","httpRequest","getRequestOptions","_require3","defaultConfig","initConfig","SanityClient","config","arguments","length","undefined","this","assets","datasets","projects","users","auth","clientConfig","isPromiseAPI","observableConfig","observable","clone","newConfig","getUrl","uri","canUseCdn","base","cdnUrl","url","concat","replace","_requestObservable","options","useCdn","indexOf","method","reqOptions","requester","request","pipe","event","type","body","toPromise","ClientError","ServerError","defaultRequester","global","EventSource","_eventSourceImportPrefix","evsImportName","SyntaxError","URL","setOptions","evs","setTimeout","poll","CONNECTING","OPEN","CLOSED","defaultOptions","loggingEnabled","loggingPrefix","interval","bufferSizeLimit","silentTimeout","getArgs","xhrHeaders","option","defaults","console","log","message","readyState","cleanup","cursor","cache","_xhr","XHR","resetNoActivityTimer","e","dispatchEvent","data","pollAgain","_pollTimer","clearInterval","_noActivityTimer","abort","close","ondata","isReady","hasError","buffer","getBuffer","substring","lastMessageIndex","newcursor","toparse","parseStream","isDone","chunk","i","j","eventType","datas","line","retry","events","normalizeToLF","split","parts","trimWhiteSpace","parseInt","isNaN","push","lastEventId","MessageEvent","join","window","location","origin","handlers","addEventListener","handler","removeEventListener","splice","_noactivityTimer","onerror","onmessage","onopen","urlWithParams","baseURL","params","encodedArgs","key","urlarg","urlize","encodeURIComponent","text","ln2","lastIndexOf","lr2","lrln2","Math","max","str","XDomainRequest","XMLHttpRequest","responseType","isPolyfill","_request","onprogress","_ready","onload","_loaded","_failed","ontimeout","reqGetArgs","defaultArgs","open","send","useXDomainRequest","rv","responseText","onreadystatechange","status","headers","header","setRequestHeader","bubbles","cancelBubble","cancelable","_extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","__","create","defineProperty","value","Subscriber_1","defaultIfEmpty","defaultValue","source","lift","DefaultIfEmptyOperator","subscriber","subscribe","DefaultIfEmptySubscriber","_super","destination","_this","isEmpty","_next","next","_complete","complete","Subscriber","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","queryString","validators","client","toDocument","document","enumerable","get","warn","optionsFromFile","opts","file","File","filename","preserveFilename","name","contentType","upload","assetType","validateAssetType","meta","extract","dataset","hasDataset","assetEndpoint","label","title","description","creditLine","query","sourceId","id","sourceName","sourceUrl","timeout","delete","docId","test","_id","getImageUrl","ref","_ref","Error","_id$split2","assetId","size","format","_this$client$clientCo","projectId","qs","generateHelpUrl","validate","once","apiHost","useProjectHostname","gradientMode","LOCALHOSTS","createWarningPrinter","printCdnWarning","printBrowserTokenWarning","printCdnTokenWarning","prevConfig","projectBased","Promise","helpUrl","namespace","isBrowser","hostname","isLocalhost","host","isLocal","token","ignoreBrowserTokenWarning","isDefaultApi","Boolean","withCredentials","hostParts","protocol","cdnHost","predicate","thisArg","FilterOperator","FilterSubscriber","count","result","error","getById","ArgumentOutOfRangeError_1","empty_1","takeLast","empty","TakeLastOperator","total","ArgumentOutOfRangeError","TakeLastSubscriber","ring","idx","subscribers","publish","apply","_typeof","obj","objectAssign","isPlainObject","serializeTypes","processOptions","isBuffer","JSON","stringify","identity_1","pipeFromArray","fns","identity","input","reduce","prev","fn","self","overrides","Authorization","useGlobalApi","json","props","selection","prop","urlParse","isReactNative","navigator","product","has","stringifyQueryString","pairs","val","forEach","item","normalizeTimeout","time","connect","socket","delay","Number","target","removeUndefined","toUpperCase","isFunction_1","Observer_1","Subscription_1","rxSubscriber_1","config_1","hostReportError_1","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","add","SafeSubscriber","rxSubscriber","_error","unsubscribe","closed","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","observerOrNext","context","isFunction","bind","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","hostReportError","wrappedComplete","parent","_unsubscribe","x","isObj","propIsEnumerable","propertyIsEnumerable","toObject","assignKey","to","from","getOwnPropertySymbols","symbols","s","ArgumentOutOfRangeErrorImpl","list","UnsubscriptionErrorImpl","errors","UnsubscriptionError","sel","selectionOpts","makeError","res","extractErrorProps","super","response","statusCode","responseBody","stringifyBody","details","statusMessage","httpErrorMessage","toLowerCase","canReportError_1","toSubscriber_1","observable_1","pipe_1","Observable","_isScalar","_subscribe","operator","sink","toSubscriber","_trySubscribe","canReportError","promiseCtor","getPromiseCtor","resolve","reject","subscription","operations","tryParse","parse","onResponse","shouldDecode","force","Accept","SanityObservableMinimal","createDeprecatedMemberOp","op","hasWarned","writable","configurable","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","validateObject","requireDocumentId","doc","validateDocumentId","validateInsert","at","selector","items","signature","valid","loc","nextOrObserver","scan_1","takeLast_1","defaultIfEmpty_1","accumulator","seed","scan","acc","index","trim","string","arg","headersArr","row","slice","sameOrigin","parseHeaders","win","XmlHttpRequest","callback","applyMiddleware","timers","cors","href","injectedResponse","adapter","cbTimer","clearTimeout","xhr","isXdr","aborted","loaded","timedOut","onError","onabort","delays","stopTimers","timeoutRequest","resetTimers","statusText","getAllResponseHeaders","reduceResponse","onLoad","rawBody","code","channels","isNetworkError","Observable_1","EMPTY","scheduler","schedule","emptyScheduled","construct","Reflect","captureStackTrace","BaseError","cname","container","stack","set","setFunctionName","f","_","super_","properties","pubsub","middlewareReducer","validateOptions","channelNames","middlehooks","createRequester","initMiddleware","loadedMiddleware","middleware","ware","ongoingRequest","ctx","reqErr","returnValue","use","newMiddleware","onReturn","slug","onRequest","evt","handleProgress","stage","percent","lengthComputable","progress","uri1","uri2","ieMode","url1","url2","url1Port","port","url2Port","match","proto","_modify","edit","polyfilledEventSource","pick","encodeQueryString","tokenWarning","printTokenWarning","isWindowEventSource","possibleOptions","includeResult","parseEvent","cooerceError","extractErrorMessage","listenOpts","_this$clientConfig","getDataUrl","listenFor","shouldEmitReconnect","esOptions","observer","reconnectTimer","es","getEventSource","stopped","onChannelError","onMessage","onDisconnect","implementation","regex","exec","validUrl","_defineProperty","defaultMutateOptions","returnDocuments","transactionId","trxId","_add","createIfNotExists","createOrReplace","documentId","patch","patchOps","isBuilder","serialize","toJSON","commit","mutate","reset","mut","_enable_super_gross_mode_that_will_cause_bad_things","random","$$rxSubscriber","didCall","hook","_len","args","_key","bailEarly","project","MapOperator","MapSubscriber","getSelection","listen","excludeFalsey","param","defValue","getMutationQuery","returnIds","visibility","isResponse","getBody","operation","path","catalog","baseUri","fetch","mapResponse","filterResponse","_dataRequest","getDocument","documents","getDocuments","ids","docs","attr","indexed","_create","dataRequest","mutations","muts","transaction","endpoint","isMutation","strQuery","useGet","stringQuery","returnFirst","results","mutation","keys","deepAssign","merge","_assign","diffMatchPatch","unset","attrs","setIfMissing","_set","$","inc","dec","insert","_this$_assign","append","prepend","start","deleteCount","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","getLoginProviders","logout","hasSeed","ScanOperator","ScanSubscriber","_seed","_tryNext","getIt","jsonRequest","jsonResponse","_require","httpError","maxRedirects","enc","_ref$params","_ref$options","qString","pageQuery","productQuery","_a","closed_1","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","_ctorUnsubscribe","remove","flattenUnsubscriptionErrors","len","sub","teardown","tmp","subscriptions","subscriptionIndex","errs"],"mappings":"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","file":"9f12ea78a1051811df3fd20aa004934bf6a8a530-ace6ee91d71c50dccc83.js","sourcesContent":["/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require3 = require('./config'),\n    defaultConfig = _require3.defaultConfig,\n    initConfig = _require3.initConfig;\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  getUrl: function getUrl(uri) {\n    var canUseCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = canUseCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var uri = options.url || options.uri;\n    var canUseCdn = this.clientConfig.useCdn && ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0;\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, canUseCdn)\n    }));\n    return httpRequest(reqOptions, this.clientConfig.requester);\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","'use strict';\n\nmodule.exports = require('./node-progress');","/*\n   * EventSource polyfill version 0.9.6\n   * Supported by sc AmvTek srl\n   * :email: devel@amvtek.com\n */\n;\n\n(function (global) {\n  if (global.EventSource && !global._eventSourceImportPrefix) {\n    return;\n  }\n\n  var evsImportName = (global._eventSourceImportPrefix || '') + \"EventSource\";\n\n  var EventSource = function EventSource(url, options) {\n    if (!url || typeof url != 'string') {\n      throw new SyntaxError('Not enough arguments');\n    }\n\n    this.URL = url;\n    this.setOptions(options);\n    var evs = this;\n    setTimeout(function () {\n      evs.poll();\n    }, 0);\n  };\n\n  EventSource.prototype = {\n    CONNECTING: 0,\n    OPEN: 1,\n    CLOSED: 2,\n    defaultOptions: {\n      loggingEnabled: false,\n      loggingPrefix: \"eventsource\",\n      interval: 500,\n      // milliseconds\n      bufferSizeLimit: 256 * 1024,\n      // bytes\n      silentTimeout: 300000,\n      // milliseconds\n      getArgs: {\n        'evs_buffer_size_limit': 256 * 1024\n      },\n      xhrHeaders: {\n        'Accept': 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    },\n    setOptions: function setOptions(options) {\n      var defaults = this.defaultOptions;\n      var option; // set all default options...\n\n      for (option in defaults) {\n        if (defaults.hasOwnProperty(option)) {\n          this[option] = defaults[option];\n        }\n      } // override with what is in options\n\n\n      for (option in options) {\n        if (option in defaults && options.hasOwnProperty(option)) {\n          this[option] = options[option];\n        }\n      } // if getArgs option is enabled\n      // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n\n\n      if (this.getArgs && this.bufferSizeLimit) {\n        this.getArgs['evs_buffer_size_limit'] = this.bufferSizeLimit;\n      } // if console is not available, force loggingEnabled to false\n\n\n      if (typeof console === \"undefined\" || typeof console.log === \"undefined\") {\n        this.loggingEnabled = false;\n      }\n    },\n    log: function log(message) {\n      if (this.loggingEnabled) {\n        console.log(\"[\" + this.loggingPrefix + \"]:\" + message);\n      }\n    },\n    poll: function poll() {\n      try {\n        if (this.readyState == this.CLOSED) {\n          return;\n        }\n\n        this.cleanup();\n        this.readyState = this.CONNECTING;\n        this.cursor = 0;\n        this.cache = '';\n        this._xhr = new this.XHR(this);\n        this.resetNoActivityTimer();\n      } catch (e) {\n        // in an attempt to silence the errors\n        this.log('There were errors inside the pool try-catch');\n        this.dispatchEvent('error', {\n          type: 'error',\n          data: e.message\n        });\n      }\n    },\n    pollAgain: function pollAgain(interval) {\n      // schedule poll to be called after interval milliseconds\n      var evs = this;\n      evs.readyState = evs.CONNECTING;\n      evs.dispatchEvent('error', {\n        type: 'error',\n        data: \"Reconnecting \"\n      });\n      this._pollTimer = setTimeout(function () {\n        evs.poll();\n      }, interval || 0);\n    },\n    cleanup: function cleanup() {\n      this.log('evs cleaning up');\n\n      if (this._pollTimer) {\n        clearInterval(this._pollTimer);\n        this._pollTimer = null;\n      }\n\n      if (this._noActivityTimer) {\n        clearInterval(this._noActivityTimer);\n        this._noActivityTimer = null;\n      }\n\n      if (this._xhr) {\n        this._xhr.abort();\n\n        this._xhr = null;\n      }\n    },\n    resetNoActivityTimer: function resetNoActivityTimer() {\n      if (this.silentTimeout) {\n        if (this._noActivityTimer) {\n          clearInterval(this._noActivityTimer);\n        }\n\n        var evs = this;\n        this._noActivityTimer = setTimeout(function () {\n          evs.log('Timeout! silentTImeout:' + evs.silentTimeout);\n          evs.pollAgain();\n        }, this.silentTimeout);\n      }\n    },\n    close: function close() {\n      this.readyState = this.CLOSED;\n      this.log('Closing connection. readyState: ' + this.readyState);\n      this.cleanup();\n    },\n    ondata: function ondata() {\n      var request = this._xhr;\n\n      if (request.isReady() && !request.hasError()) {\n        // reset the timer, as we have activity\n        this.resetNoActivityTimer(); // move this EventSource to OPEN state...\n\n        if (this.readyState == this.CONNECTING) {\n          this.readyState = this.OPEN;\n          this.dispatchEvent('open', {\n            type: 'open'\n          });\n        }\n\n        var buffer = request.getBuffer();\n\n        if (buffer.length > this.bufferSizeLimit) {\n          this.log('buffer.length > this.bufferSizeLimit');\n          this.pollAgain();\n        }\n\n        if (this.cursor == 0 && buffer.length > 0) {\n          // skip byte order mark \\uFEFF character if it starts the stream\n          if (buffer.substring(0, 1) == \"\\uFEFF\") {\n            this.cursor = 1;\n          }\n        }\n\n        var lastMessageIndex = this.lastMessageIndex(buffer);\n\n        if (lastMessageIndex[0] >= this.cursor) {\n          var newcursor = lastMessageIndex[1];\n          var toparse = buffer.substring(this.cursor, newcursor);\n          this.parseStream(toparse);\n          this.cursor = newcursor;\n        } // if request is finished, reopen the connection\n\n\n        if (request.isDone()) {\n          this.log('request.isDone(). reopening the connection');\n          this.pollAgain(this.interval);\n        }\n      } else if (this.readyState !== this.CLOSED) {\n        this.log('this.readyState !== this.CLOSED');\n        this.pollAgain(this.interval); //MV: Unsure why an error was previously dispatched\n      }\n    },\n    parseStream: function parseStream(chunk) {\n      // normalize line separators (\\r\\n,\\r,\\n) to \\n\n      // remove white spaces that may precede \\n\n      chunk = this.cache + this.normalizeToLF(chunk);\n      var events = chunk.split('\\n\\n');\n      var i, j, eventType, datas, line, retry;\n\n      for (i = 0; i < events.length - 1; i++) {\n        eventType = 'message';\n        datas = [];\n        parts = events[i].split('\\n');\n\n        for (j = 0; j < parts.length; j++) {\n          line = this.trimWhiteSpace(parts[j]);\n\n          if (line.indexOf('event') == 0) {\n            eventType = line.replace(/event:?\\s*/, '');\n          } else if (line.indexOf('retry') == 0) {\n            retry = parseInt(line.replace(/retry:?\\s*/, ''));\n\n            if (!isNaN(retry)) {\n              this.interval = retry;\n            }\n          } else if (line.indexOf('data') == 0) {\n            datas.push(line.replace(/data:?\\s*/, ''));\n          } else if (line.indexOf('id:') == 0) {\n            this.lastEventId = line.replace(/id:?\\s*/, '');\n          } else if (line.indexOf('id') == 0) {\n            // this resets the id\n            this.lastEventId = null;\n          }\n        }\n\n        if (datas.length) {\n          // dispatch a new event\n          var event = new MessageEvent(eventType, datas.join('\\n'), window.location.origin, this.lastEventId);\n          this.dispatchEvent(eventType, event);\n        }\n      }\n\n      this.cache = events[events.length - 1];\n    },\n    dispatchEvent: function dispatchEvent(type, event) {\n      var handlers = this['_' + type + 'Handlers'];\n\n      if (handlers) {\n        for (var i = 0; i < handlers.length; i++) {\n          handlers[i].call(this, event);\n        }\n      }\n\n      if (this['on' + type]) {\n        this['on' + type].call(this, event);\n      }\n    },\n    addEventListener: function addEventListener(type, handler) {\n      if (!this['_' + type + 'Handlers']) {\n        this['_' + type + 'Handlers'] = [];\n      }\n\n      this['_' + type + 'Handlers'].push(handler);\n    },\n    removeEventListener: function removeEventListener(type, handler) {\n      var handlers = this['_' + type + 'Handlers'];\n\n      if (!handlers) {\n        return;\n      }\n\n      for (var i = handlers.length - 1; i >= 0; --i) {\n        if (handlers[i] === handler) {\n          handlers.splice(i, 1);\n          break;\n        }\n      }\n    },\n    _pollTimer: null,\n    _noactivityTimer: null,\n    _xhr: null,\n    lastEventId: null,\n    cache: '',\n    cursor: 0,\n    onerror: null,\n    onmessage: null,\n    onopen: null,\n    readyState: 0,\n    // ===================================================================\n    // helpers functions\n    // those are attached to prototype to ease reuse and testing...\n    urlWithParams: function urlWithParams(baseURL, params) {\n      var encodedArgs = [];\n\n      if (params) {\n        var key, urlarg;\n        var urlize = encodeURIComponent;\n\n        for (key in params) {\n          if (params.hasOwnProperty(key)) {\n            urlarg = urlize(key) + '=' + urlize(params[key]);\n            encodedArgs.push(urlarg);\n          }\n        }\n      }\n\n      if (encodedArgs.length > 0) {\n        if (baseURL.indexOf('?') == -1) return baseURL + '?' + encodedArgs.join('&');\n        return baseURL + '&' + encodedArgs.join('&');\n      }\n\n      return baseURL;\n    },\n    lastMessageIndex: function lastMessageIndex(text) {\n      var ln2 = text.lastIndexOf('\\n\\n');\n      var lr2 = text.lastIndexOf('\\r\\r');\n      var lrln2 = text.lastIndexOf('\\r\\n\\r\\n');\n\n      if (lrln2 > Math.max(ln2, lr2)) {\n        return [lrln2, lrln2 + 4];\n      }\n\n      return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2];\n    },\n    trimWhiteSpace: function trimWhiteSpace(str) {\n      // to remove whitespaces left and right of string\n      var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g;\n      return str.replace(reTrim, '');\n    },\n    normalizeToLF: function normalizeToLF(str) {\n      // replace \\r and \\r\\n with \\n\n      return str.replace(/\\r\\n|\\r/g, '\\n');\n    }\n  };\n\n  if (!isOldIE()) {\n    EventSource.isPolyfill = \"XHR\"; // EventSource will send request using XMLHttpRequest\n\n    EventSource.prototype.XHR = function (evs) {\n      request = new XMLHttpRequest();\n      this._request = request;\n      evs._xhr = this; // set handlers\n\n      request.onreadystatechange = function () {\n        if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n          if (request.status == 200 || request.status >= 300 && request.status < 400) {\n            evs.ondata();\n          } else {\n            request._failed = true;\n            evs.readyState = evs.CLOSED;\n            evs.dispatchEvent('error', {\n              type: 'error',\n              data: \"The server responded with \" + request.status\n            });\n            evs.close();\n          }\n        }\n      };\n\n      request.onprogress = function () {};\n\n      request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true);\n      var headers = evs.xhrHeaders; // maybe null\n\n      for (var header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          request.setRequestHeader(header, headers[header]);\n        }\n      }\n\n      if (evs.lastEventId) {\n        request.setRequestHeader('Last-Event-Id', evs.lastEventId);\n      }\n\n      request.send();\n    };\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: false,\n      _request: null,\n      _failed: false,\n      // true if we have had errors...\n      isReady: function isReady() {\n        return this._request.readyState >= 2;\n      },\n      isDone: function isDone() {\n        return this._request.readyState == 4;\n      },\n      hasError: function hasError() {\n        return this._failed || this._request.status >= 400;\n      },\n      getBuffer: function getBuffer() {\n        var rv = '';\n\n        try {\n          rv = this._request.responseText || '';\n        } catch (e) {}\n\n        return rv;\n      },\n      abort: function abort() {\n        if (this._request) {\n          this._request.abort();\n        }\n      }\n    };\n  } else {\n    EventSource.isPolyfill = \"IE_8-9\"; // patch EventSource defaultOptions\n\n    var defaults = EventSource.prototype.defaultOptions;\n    defaults.xhrHeaders = null; // no headers will be sent\n\n    defaults.getArgs['evs_preamble'] = 2048 + 8; // EventSource will send request using Internet Explorer XDomainRequest\n\n    EventSource.prototype.XHR = function (evs) {\n      request = new XDomainRequest();\n      this._request = request; // set handlers\n\n      request.onprogress = function () {\n        request._ready = true;\n        evs.ondata();\n      };\n\n      request.onload = function () {\n        this._loaded = true;\n        evs.ondata();\n      };\n\n      request.onerror = function () {\n        this._failed = true;\n        evs.readyState = evs.CLOSED;\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: \"XDomainRequest error\"\n        });\n      };\n\n      request.ontimeout = function () {\n        this._failed = true;\n        evs.readyState = evs.CLOSED;\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: \"XDomainRequest timed out\"\n        });\n      }; // XDomainRequest does not allow setting custom headers\n      // If EventSource has enabled the use of GET arguments\n      // we add parameters to URL so that server can adapt the stream...\n\n\n      var reqGetArgs = {};\n\n      if (evs.getArgs) {\n        // copy evs.getArgs in reqGetArgs\n        var defaultArgs = evs.getArgs;\n\n        for (var key in defaultArgs) {\n          if (defaultArgs.hasOwnProperty(key)) {\n            reqGetArgs[key] = defaultArgs[key];\n          }\n        }\n\n        if (evs.lastEventId) {\n          reqGetArgs['evs_last_event_id'] = evs.lastEventId;\n        }\n      } // send the request\n\n\n      request.open('GET', evs.urlWithParams(evs.URL, reqGetArgs));\n      request.send();\n    };\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: true,\n      _request: null,\n      _ready: false,\n      // true when progress events are dispatched\n      _loaded: false,\n      // true when request has been loaded\n      _failed: false,\n      // true if when request is in error\n      isReady: function isReady() {\n        return this._request._ready;\n      },\n      isDone: function isDone() {\n        return this._request._loaded;\n      },\n      hasError: function hasError() {\n        return this._request._failed;\n      },\n      getBuffer: function getBuffer() {\n        var rv = '';\n\n        try {\n          rv = this._request.responseText || '';\n        } catch (e) {}\n\n        return rv;\n      },\n      abort: function abort() {\n        if (this._request) {\n          this._request.abort();\n        }\n      }\n    };\n  }\n\n  function MessageEvent(type, data, origin, lastEventId) {\n    this.bubbles = false;\n    this.cancelBubble = false;\n    this.cancelable = false;\n    this.data = data || null;\n    this.origin = origin || '';\n    this.lastEventId = lastEventId || '';\n    this.type = type || 'message';\n  }\n\n  function isOldIE() {\n    //return true if we are in IE8 or IE9\n    return window.XDomainRequest && window.XMLHttpRequest && new XMLHttpRequest().responseType === undefined ? true : false;\n  }\n\n  global[evsImportName] = EventSource;\n})(this);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction defaultIfEmpty(defaultValue) {\n  if (defaultValue === void 0) {\n    defaultValue = null;\n  }\n\n  return function (source) {\n    return source.lift(new DefaultIfEmptyOperator(defaultValue));\n  };\n}\n\nexports.defaultIfEmpty = defaultIfEmpty;\n\nvar DefaultIfEmptyOperator = function () {\n  function DefaultIfEmptyOperator(defaultValue) {\n    this.defaultValue = defaultValue;\n  }\n\n  DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  };\n\n  return DefaultIfEmptyOperator;\n}();\n\nvar DefaultIfEmptySubscriber = function (_super) {\n  __extends(DefaultIfEmptySubscriber, _super);\n\n  function DefaultIfEmptySubscriber(destination, defaultValue) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.defaultValue = defaultValue;\n    _this.isEmpty = true;\n    return _this;\n  }\n\n  DefaultIfEmptySubscriber.prototype._next = function (value) {\n    this.isEmpty = false;\n    this.destination.next(value);\n  };\n\n  DefaultIfEmptySubscriber.prototype._complete = function () {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n\n    this.destination.complete();\n  };\n\n  return DefaultIfEmptySubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/map'),\n    map = _require.map;\n\nvar _require2 = require('@sanity/observable/operators/filter'),\n    filter = _require2.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction toDocument(body) {\n  // todo: rewrite to just return body.document in a while\n  var document = body.document;\n  Object.defineProperty(document, 'document', {\n    enumerable: false,\n    get: function get() {\n      // eslint-disable-next-line no-console\n      console.warn('The promise returned from client.asset.upload(...) now resolves with the asset document');\n      return document;\n    }\n  });\n  return document;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return toDocument(event.body);\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction filter(predicate, thisArg) {\n  return function filterOperatorFunction(source) {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nexports.filter = filter;\n\nvar FilterOperator = function () {\n  function FilterOperator(predicate, thisArg) {\n    this.predicate = predicate;\n    this.thisArg = thisArg;\n  }\n\n  FilterOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  };\n\n  return FilterOperator;\n}();\n\nvar FilterSubscriber = function (_super) {\n  __extends(FilterSubscriber, _super);\n\n  function FilterSubscriber(destination, predicate, thisArg) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.predicate = predicate;\n    _this.thisArg = thisArg;\n    _this.count = 0;\n    return _this;\n  }\n\n  FilterSubscriber.prototype._next = function (value) {\n    var result;\n\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (result) {\n      this.destination.next(value);\n    }\n  };\n\n  return FilterSubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nvar ArgumentOutOfRangeError_1 = require(\"../util/ArgumentOutOfRangeError\");\n\nvar empty_1 = require(\"../observable/empty\");\n\nfunction takeLast(count) {\n  return function takeLastOperatorFunction(source) {\n    if (count === 0) {\n      return empty_1.empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\n\nexports.takeLast = takeLast;\n\nvar TakeLastOperator = function () {\n  function TakeLastOperator(total) {\n    this.total = total;\n\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();\n    }\n  }\n\n  TakeLastOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n  };\n\n  return TakeLastOperator;\n}();\n\nvar TakeLastSubscriber = function (_super) {\n  __extends(TakeLastSubscriber, _super);\n\n  function TakeLastSubscriber(destination, total) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.total = total;\n    _this.ring = new Array();\n    _this.count = 0;\n    return _this;\n  }\n\n  TakeLastSubscriber.prototype._next = function (value) {\n    var ring = this.ring;\n    var total = this.total;\n    var count = this.count++;\n\n    if (ring.length < total) {\n      ring.push(value);\n    } else {\n      var index = count % total;\n      ring[index] = value;\n    }\n  };\n\n  TakeLastSubscriber.prototype._complete = function () {\n    var destination = this.destination;\n    var count = this.count;\n\n    if (count > 0) {\n      var total = this.count >= this.total ? this.total : this.count;\n      var ring = this.ring;\n\n      for (var i = 0; i < total; i++) {\n        var idx = count++ % total;\n        destination.next(ring[idx]);\n      }\n    }\n\n    destination.complete();\n  };\n\n  return TakeLastSubscriber;\n}(Subscriber_1.Subscriber);","module.exports = function Pubsub() {\n  var subscribers = [];\n  return {\n    subscribe: subscribe,\n    publish: publish\n  };\n\n  function subscribe(subscriber) {\n    subscribers.push(subscriber);\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber);\n\n      if (idx > -1) {\n        subscribers.splice(idx, 1);\n      }\n    };\n  }\n\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments);\n    }\n  }\n};","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar objectAssign = require('object-assign');\n\nvar isPlainObject = require('is-plain-object');\n\nvar serializeTypes = ['boolean', 'string', 'number'];\n\nvar isBuffer = function isBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n};\n\nmodule.exports = function () {\n  return {\n    processOptions: function processOptions(options) {\n      var body = options.body;\n\n      if (!body) {\n        return options;\n      }\n\n      var isStream = typeof body.pipe === 'function';\n      var shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body === 'undefined' ? 'undefined' : _typeof(body)) !== -1 || Array.isArray(body) || isPlainObject(body));\n\n      if (!shouldSerialize) {\n        return options;\n      }\n\n      return objectAssign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: objectAssign({}, options.headers, {\n          'Content-Type': 'application/json'\n        })\n      });\n    }\n  };\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar identity_1 = require(\"./identity\");\n\nfunction pipe() {\n  var fns = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    fns[_i] = arguments[_i];\n  }\n\n  return pipeFromArray(fns);\n}\n\nexports.pipe = pipe;\n\nfunction pipeFromArray(fns) {\n  if (fns.length === 0) {\n    return identity_1.identity;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input) {\n    return fns.reduce(function (prev, fn) {\n      return fn(prev);\n    }, input);\n  };\n}\n\nexports.pipeFromArray = pipeFromArray;","'use strict';\n/* eslint-disable no-negated-condition */\n\nif (typeof window !== 'undefined') {\n  module.exports = window;\n} else if (typeof global !== 'undefined') {\n  module.exports = global;\n} else if (typeof self !== 'undefined') {\n  module.exports = self;\n} else {\n  module.exports = {};\n}","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","'use strict';\n\nvar objectAssign = require('object-assign');\n\nvar urlParse = require('url-parse');\n\nvar isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative';\nvar has = Object.prototype.hasOwnProperty;\nvar defaultOptions = {\n  timeout: isReactNative ? 60000 : 120000\n};\n\nmodule.exports = function (opts) {\n  var options = typeof opts === 'string' ? objectAssign({\n    url: opts\n  }, defaultOptions) : objectAssign({}, defaultOptions, opts); // Parse URL into parts\n\n  var url = urlParse(options.url, {}, // Don't use current browser location\n  true // Parse query strings\n  ); // Normalize timeouts\n\n  options.timeout = normalizeTimeout(options.timeout); // Shallow-merge (override) existing query params\n\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query));\n  } // Implicit POST if we have not specified a method but have a body\n\n\n  options.method = options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase(); // Stringify URL\n\n  options.url = url.toString(stringifyQueryString);\n  return options;\n};\n\nfunction stringifyQueryString(obj) {\n  var pairs = [];\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key]);\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : '';\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(function (item) {\n        return push(key, item);\n      });\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='));\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false;\n  }\n\n  if (time.connect || time.socket) {\n    return time;\n  }\n\n  var delay = Number(time);\n\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout);\n  }\n\n  return {\n    connect: delay,\n    socket: delay\n  };\n}\n\nfunction removeUndefined(obj) {\n  var target = {};\n\n  for (var key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key];\n    }\n  }\n\n  return target;\n}","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isFunction_1 = require(\"./util/isFunction\");\n\nvar Observer_1 = require(\"./Observer\");\n\nvar Subscription_1 = require(\"./Subscription\");\n\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\n\nvar config_1 = require(\"./config\");\n\nvar hostReportError_1 = require(\"./util/hostReportError\");\n\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(destinationOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this.syncErrorValue = null;\n    _this.syncErrorThrown = false;\n    _this.syncErrorThrowable = false;\n    _this.isStopped = false;\n\n    switch (arguments.length) {\n      case 0:\n        _this.destination = Observer_1.empty;\n        break;\n\n      case 1:\n        if (!destinationOrNext) {\n          _this.destination = Observer_1.empty;\n          break;\n        }\n\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            _this.destination = destinationOrNext;\n            destinationOrNext.add(_this);\n          } else {\n            _this.syncErrorThrowable = true;\n            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n          }\n\n          break;\n        }\n\n      default:\n        _this.syncErrorThrowable = true;\n        _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n        break;\n    }\n\n    return _this;\n  }\n\n  Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () {\n    return this;\n  };\n\n  Subscriber.create = function (next, error, complete) {\n    var subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.isStopped = true;\n\n    _super.prototype.unsubscribe.call(this);\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    this.destination.error(err);\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._complete = function () {\n    this.destination.complete();\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._unsubscribeAndRecycle = function () {\n    var _parentOrParents = this._parentOrParents;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  };\n\n  return Subscriber;\n}(Subscription_1.Subscription);\n\nexports.Subscriber = Subscriber;\n\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this._parentSubscriber = _parentSubscriber;\n    var next;\n    var context = _this;\n\n    if (isFunction_1.isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n\n      if (observerOrNext !== Observer_1.empty) {\n        context = Object.create(observerOrNext);\n\n        if (isFunction_1.isFunction(context.unsubscribe)) {\n          _this.add(context.unsubscribe.bind(context));\n        }\n\n        context.unsubscribe = _this.unsubscribe.bind(_this);\n      }\n    }\n\n    _this._context = context;\n    _this._next = next;\n    _this._error = error;\n    _this._complete = complete;\n    return _this;\n  }\n\n  SafeSubscriber.prototype.next = function (value) {\n    if (!this.isStopped && this._next) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n\n        hostReportError_1.hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError_1.hostReportError(err);\n        }\n\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.complete = function () {\n    var _this = this;\n\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (this._complete) {\n        var wrappedComplete = function wrappedComplete() {\n          return _this._complete.call(_this._context);\n        };\n\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError_1.hostReportError(err);\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n    if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError_1.hostReportError(err);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  SafeSubscriber.prototype._unsubscribe = function () {\n    var _parentSubscriber = this._parentSubscriber;\n    this._context = null;\n    this._parentSubscriber = null;\n\n    _parentSubscriber.unsubscribe();\n  };\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexports.SafeSubscriber = SafeSubscriber;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isObject(x) {\n  return x !== null && typeof x === 'object';\n}\n\nexports.isObject = isObject;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar config_1 = require(\"./config\");\n\nvar hostReportError_1 = require(\"./util/hostReportError\");\n\nexports.empty = {\n  closed: true,\n  next: function next(value) {},\n  error: function error(err) {\n    if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError_1.hostReportError(err);\n    }\n  },\n  complete: function complete() {}\n};","'use strict';\n\nvar isObj = require('is-obj');\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Sources cannot be null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction assignKey(to, from, key) {\n  var val = from[key];\n\n  if (val === undefined || val === null) {\n    return;\n  }\n\n  if (hasOwnProperty.call(to, key)) {\n    if (to[key] === undefined || to[key] === null) {\n      throw new TypeError('Cannot convert undefined or null to object (' + key + ')');\n    }\n  }\n\n  if (!hasOwnProperty.call(to, key) || !isObj(val)) {\n    to[key] = val;\n  } else {\n    to[key] = assign(Object(to[key]), from[key]);\n  }\n}\n\nfunction assign(to, from) {\n  if (to === from) {\n    return to;\n  }\n\n  from = Object(from);\n\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      assignKey(to, from, key);\n    }\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(from);\n\n    for (var i = 0; i < symbols.length; i++) {\n      if (propIsEnumerable.call(from, symbols[i])) {\n        assignKey(to, from, symbols[i]);\n      }\n    }\n  }\n\n  return to;\n}\n\nmodule.exports = function deepAssign(target) {\n  target = toObject(target);\n\n  for (var s = 1; s < arguments.length; s++) {\n    assign(target, arguments[s]);\n  }\n\n  return target;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ArgumentOutOfRangeErrorImpl = function () {\n  function ArgumentOutOfRangeErrorImpl() {\n    Error.call(this);\n    this.message = 'argument out of range';\n    this.name = 'ArgumentOutOfRangeError';\n    return this;\n  }\n\n  ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n  return ArgumentOutOfRangeErrorImpl;\n}();\n\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar UnsubscriptionErrorImpl = function () {\n  function UnsubscriptionErrorImpl(errors) {\n    Error.call(this);\n    this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) {\n      return i + 1 + \") \" + err.toString();\n    }).join('\\n  ') : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n  return UnsubscriptionErrorImpl;\n}();\n\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction hostReportError(err) {\n  setTimeout(function () {\n    throw err;\n  }, 0);\n}\n\nexports.hostReportError = hostReportError;","module.exports = require('./lib/SanityObservableMinimal');","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar canReportError_1 = require(\"./util/canReportError\");\n\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\n\nvar observable_1 = require(\"./symbol/observable\");\n\nvar pipe_1 = require(\"./util/pipe\");\n\nvar config_1 = require(\"./config\");\n\nvar Observable = function () {\n  function Observable(subscribe) {\n    this._isScalar = false;\n\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  Observable.prototype.lift = function (operator) {\n    var observable = new Observable();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  };\n\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var operator = this.operator;\n    var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(this.source || config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n    }\n\n    if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  };\n\n  Observable.prototype._trySubscribe = function (sink) {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n\n      if (canReportError_1.canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  };\n\n  Observable.prototype.forEach = function (next, promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var subscription;\n      subscription = _this.subscribe(function (value) {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    });\n  };\n\n  Observable.prototype._subscribe = function (subscriber) {\n    var source = this.source;\n    return source && source.subscribe(subscriber);\n  };\n\n  Observable.prototype[observable_1.observable] = function () {\n    return this;\n  };\n\n  Observable.prototype.pipe = function () {\n    var operations = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      operations[_i] = arguments[_i];\n    }\n\n    if (operations.length === 0) {\n      return this;\n    }\n\n    return pipe_1.pipeFromArray(operations)(this);\n  };\n\n  Observable.prototype.toPromise = function (promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var value;\n\n      _this.subscribe(function (x) {\n        return value = x;\n      }, function (err) {\n        return reject(err);\n      }, function () {\n        return resolve(value);\n      });\n    });\n  };\n\n  Observable.create = function (subscribe) {\n    return new Observable(subscribe);\n  };\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nfunction getPromiseCtor(promiseCtor) {\n  if (!promiseCtor) {\n    promiseCtor = config_1.config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}","'use strict';\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (opts) {\n  return {\n    onResponse: function onResponse(response) {\n      var contentType = response.headers['content-type'] || '';\n      var shouldDecode = opts && opts.force || contentType.indexOf('application/json') !== -1;\n\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n\n      return objectAssign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: function processOptions(options) {\n      return objectAssign({}, options, {\n        headers: objectAssign({\n          Accept: 'application/json'\n        }, options.headers)\n      });\n    }\n  };\n};\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body);\n  } catch (err) {\n    err.message = 'Failed to parsed response body as JSON: ' + err.message;\n    throw err;\n  }\n}","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar assign = require('object-assign');\n\nvar _require2 = require('../operators/map'),\n    map = _require2.map;\n\nvar _require3 = require('../operators/filter'),\n    filter = _require3.filter;\n\nvar _require4 = require('../operators/reduce'),\n    reduce = _require4.reduce;\n/*\n A minimal rxjs based observable that align as closely as possible with the current es-observable spec,\n without the static factory methods\n */\n\n\nfunction SanityObservableMinimal() {\n  Observable.apply(this, arguments); // eslint-disable-line prefer-rest-params\n}\n\nSanityObservableMinimal.prototype = Object.create(assign(Object.create(null), Observable.prototype));\nObject.defineProperty(SanityObservableMinimal.prototype, 'constructor', {\n  value: SanityObservableMinimal,\n  enumerable: false,\n  writable: true,\n  configurable: true\n});\n\nSanityObservableMinimal.prototype.lift = function lift(operator) {\n  var observable = new SanityObservableMinimal();\n  observable.source = this;\n  observable.operator = operator;\n  return observable;\n};\n\nfunction createDeprecatedMemberOp(name, op) {\n  var hasWarned = false;\n  return function deprecatedOperator() {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.warn(new Error(\"Calling observable.\".concat(name, \"(...) is deprecated. Please use observable.pipe(\").concat(name, \"(...)) instead\")));\n    }\n\n    return this.pipe(op.apply(this, arguments));\n  };\n}\n\nSanityObservableMinimal.prototype.map = createDeprecatedMemberOp('map', map);\nSanityObservableMinimal.prototype.filter = createDeprecatedMemberOp('filter', filter);\nSanityObservableMinimal.prototype.reduce = createDeprecatedMemberOp('filter', reduce);\nmodule.exports = SanityObservableMinimal;","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^[-\\w]{1,128}$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.gradientMode && !config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\n\nvar Observer_1 = require(\"../Observer\");\n\nfunction toSubscriber(nextOrObserver, error, complete) {\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n      return nextOrObserver;\n    }\n\n    if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n      return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber_1.Subscriber(Observer_1.empty);\n  }\n\n  return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\n\nexports.toSubscriber = toSubscriber;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar scan_1 = require(\"./scan\");\n\nvar takeLast_1 = require(\"./takeLast\");\n\nvar defaultIfEmpty_1 = require(\"./defaultIfEmpty\");\n\nvar pipe_1 = require(\"../util/pipe\");\n\nfunction reduce(accumulator, seed) {\n  if (arguments.length >= 2) {\n    return function reduceOperatorFunctionWithSeed(source) {\n      return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);\n    };\n  }\n\n  return function reduceOperatorFunction(source) {\n    return pipe_1.pipe(scan_1.scan(function (acc, value, index) {\n      return accumulator(acc, value, index + 1);\n    }), takeLast_1.takeLast(1))(source);\n  };\n}\n\nexports.reduce = reduce;","var trim = function trim(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n},\n    isArray = function isArray(arg) {\n  return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\nmodule.exports = function (headers) {\n  if (!headers) return {};\n  var result = {};\n  var headersArr = trim(headers).split('\\n');\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i];\n    var index = row.indexOf(':'),\n        key = trim(row.slice(0, index)).toLowerCase(),\n        value = trim(row.slice(index + 1));\n\n    if (typeof result[key] === 'undefined') {\n      result[key] = value;\n    } else if (isArray(result[key])) {\n      result[key].push(value);\n    } else {\n      result[key] = [result[key], value];\n    }\n  }\n\n  return result;\n};","'use strict';\n/* eslint max-depth: [\"error\", 4] */\n\nvar sameOrigin = require('same-origin');\n\nvar parseHeaders = require('parse-headers');\n\nvar noop = function noop() {\n  /* intentional noop */\n};\n\nvar win = window;\nvar XmlHttpRequest = win.XMLHttpRequest || noop;\nvar hasXhr2 = ('withCredentials' in new XmlHttpRequest());\nvar XDomainRequest = hasXhr2 ? XmlHttpRequest : win.XDomainRequest;\nvar adapter = 'xhr';\n\nmodule.exports = function (context, callback) {\n  var opts = context.options;\n  var options = context.applyMiddleware('finalizeOptions', opts);\n  var timers = {}; // Deep-checking window.location because of react native, where `location` doesn't exist\n\n  var cors = win && win.location && !sameOrigin(win.location.href, options.url); // Allow middleware to inject a response, for instance in the case of caching or mocking\n\n  var injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter: adapter,\n    context: context\n  }); // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n\n  if (injectedResponse) {\n    var cbTimer = setTimeout(callback, 0, null, injectedResponse);\n\n    var cancel = function cancel() {\n      return clearTimeout(cbTimer);\n    };\n\n    return {\n      abort: cancel\n    };\n  } // We'll want to null out the request on success/failure\n\n\n  var xhr = cors ? new XDomainRequest() : new XmlHttpRequest();\n  var isXdr = win.XDomainRequest && xhr instanceof win.XDomainRequest;\n  var headers = options.headers; // Request state\n\n  var aborted = false;\n  var loaded = false;\n  var timedOut = false; // Apply event handlers\n\n  xhr.onerror = onError;\n  xhr.ontimeout = onError;\n\n  xhr.onabort = function () {\n    aborted = true;\n  }; // IE9 must have onprogress be set to a unique function\n\n\n  xhr.onprogress = function () {\n    /* intentional noop */\n  };\n\n  var loadEvent = isXdr ? 'onload' : 'onreadystatechange';\n\n  xhr[loadEvent] = function () {\n    // Prevent request from timing out\n    resetTimers();\n\n    if (aborted || xhr.readyState !== 4 && !isXdr) {\n      return;\n    } // Will be handled by onError\n\n\n    if (xhr.status === 0) {\n      return;\n    }\n\n    onLoad();\n  }; // @todo two last options to open() is username/password\n\n\n  xhr.open(options.method, options.url, true // Always async\n  ); // Some options need to be applied after open\n\n  xhr.withCredentials = !!options.withCredentials; // Set headers\n\n  if (headers && xhr.setRequestHeader) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object');\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer';\n  } // Let middleware know we're about to do a request\n\n\n  context.applyMiddleware('onRequest', {\n    options: options,\n    adapter: adapter,\n    request: xhr,\n    context: context\n  });\n  xhr.send(options.body || null); // Figure out which timeouts to use (if any)\n\n  var delays = options.timeout;\n\n  if (delays) {\n    timers.connect = setTimeout(function () {\n      return timeoutRequest('ETIMEDOUT');\n    }, delays.connect);\n  }\n\n  return {\n    abort: abort\n  };\n\n  function abort() {\n    aborted = true;\n\n    if (xhr) {\n      xhr.abort();\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true;\n    xhr.abort();\n    var error = new Error(code === 'ESOCKETTIMEDOUT' ? 'Socket timed out on request to ' + options.url : 'Connection timed out on request to ' + options.url);\n    error.code = code;\n    context.channels.error.publish(error);\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return;\n    }\n\n    stopTimers();\n    timers.socket = setTimeout(function () {\n      return timeoutRequest('ESOCKETTIMEDOUT');\n    }, delays.socket);\n  }\n\n  function stopTimers() {\n    // Only clear the connect timeout if we've got a connection\n    if (aborted || xhr.readyState >= 2 && timers.connect) {\n      clearTimeout(timers.connect);\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket);\n    }\n  }\n\n  function onError() {\n    if (loaded) {\n      return;\n    } // Clean up\n\n\n    stopTimers();\n    loaded = true;\n    xhr = null; // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n\n    var err = new Error('Network error while attempting to reach ' + options.url);\n    err.isNetworkError = true;\n    err.request = options;\n    callback(err);\n  }\n\n  function reduceResponse() {\n    var statusCode = xhr.status;\n    var statusMessage = xhr.statusText;\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200;\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError();\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status;\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage;\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    };\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return;\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'));\n      return;\n    } // Prevent being called twice\n\n\n    stopTimers();\n    loaded = true;\n    callback(null, reduceResponse());\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Observable_1 = require(\"../Observable\");\n\nexports.EMPTY = new Observable_1.Observable(function (subscriber) {\n  return subscriber.complete();\n});\n\nfunction empty(scheduler) {\n  return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;\n}\n\nexports.empty = empty;\n\nfunction emptyScheduled(scheduler) {\n  return new Observable_1.Observable(function (subscriber) {\n    return scheduler.schedule(function () {\n      return subscriber.complete();\n    });\n  });\n}","// ISC @ Julien Fontanet\n\"use strict\"; // ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty; // -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\n\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack; // Replace property with value for faster future accesses.\n\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true\n        });\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true\n        });\n      }\n    });\n  };\n} // -------------------------------------------------------------------\n\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true\n    });\n  }\n\n  var cname = this.constructor.name;\n\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true\n  }\n}); // -------------------------------------------------------------------\n// Sets the name of a function if possible (depends of the JS engine).\n\nvar setFunctionName = function () {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name\n    });\n  }\n\n  try {\n    var f = function f() {};\n\n    setFunctionName(f, \"foo\");\n\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n}(); // -------------------------------------------------------------------\n\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor = construct !== undefined ? function () {\n      return construct(super_, arguments, this.constructor);\n    } : function () {\n      super_.apply(this, arguments);\n    }; // If the name can be set, do it once and for all.\n\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  } // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n\n\n  constructor.super_ = constructor[\"super\"] = super_;\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true\n    }\n  }; // If the name could not be set on the constructor, set it on the\n  // prototype.\n\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true\n    };\n  }\n\n  constructor.prototype = Object.create(super_.prototype, properties);\n  return constructor;\n}\n\nexports = module.exports = makeError;\nexports.BaseError = BaseError;","'use strict';\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nvar pubsub = require('nano-pubsub');\n\nvar middlewareReducer = require('./util/middlewareReducer');\n\nvar processOptions = require('./middleware/defaultOptionsProcessor');\n\nvar validateOptions = require('./middleware/defaultOptionsValidator');\n\nvar httpRequest = require('./request'); // node-request in node, browser-request in browsers\n\n\nvar channelNames = ['request', 'response', 'progress', 'error', 'abort'];\nvar middlehooks = ['processOptions', 'validateOptions', 'interceptRequest', 'finalizeOptions', 'onRequest', 'onResponse', 'onError', 'onReturn', 'onHeaders'];\n\nmodule.exports = function createRequester() {\n  var initMiddleware = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var loadedMiddleware = [];\n  var middleware = middlehooks.reduce(function (ware, name) {\n    ware[name] = ware[name] || [];\n    return ware;\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  });\n\n  function request(opts) {\n    var channels = channelNames.reduce(function (target, name) {\n      target[name] = pubsub();\n      return target;\n    }, {}); // Prepare a middleware reducer that can be reused throughout the lifecycle\n\n    var applyMiddleware = middlewareReducer(middleware); // Parse the passed options\n\n    var options = applyMiddleware('processOptions', opts); // Validate the options\n\n    applyMiddleware('validateOptions', options); // Build a context object we can pass to child handlers\n\n    var context = {\n      options: options,\n      channels: channels,\n      applyMiddleware: applyMiddleware // We need to hold a reference to the current, ongoing request,\n      // in order to allow cancellation. In the case of the retry middleware,\n      // a new request might be triggered\n\n    };\n    var ongoingRequest = null;\n    var unsubscribe = channels.request.subscribe(function (ctx) {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, function (err, res) {\n        return onResponse(err, res, ctx);\n      });\n    }); // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n\n    channels.abort.subscribe(function () {\n      unsubscribe();\n\n      if (ongoingRequest) {\n        ongoingRequest.abort();\n      }\n    }); // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n\n    var returnValue = applyMiddleware('onReturn', channels, context); // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n\n    if (returnValue === channels) {\n      channels.request.publish(context);\n    }\n\n    return returnValue;\n\n    function onResponse(reqErr, res, ctx) {\n      var error = reqErr;\n      var response = res; // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx);\n        } catch (err) {\n          response = null;\n          error = err;\n        }\n      } // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n\n\n      error = error && applyMiddleware('onError', error, ctx); // Figure out if we should publish on error/response channels\n\n      if (error) {\n        channels.error.publish(error);\n      } else if (response) {\n        channels.response.publish(response);\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value');\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error('Tried to add middleware that was a function. It probably expects you to pass options to it.');\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error('Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event');\n    }\n\n    middlehooks.forEach(function (key) {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key]);\n      }\n    });\n    loadedMiddleware.push(newMiddleware);\n    return request;\n  };\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware);\n  };\n\n  initMiddleware.forEach(request.use);\n  return request;\n};","var baseUrl = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug;\n};","'use strict';\n\nmodule.exports = function () {\n  return {\n    onRequest: function onRequest(evt) {\n      if (evt.adapter !== 'xhr') {\n        return;\n      }\n\n      var xhr = evt.request;\n      var context = evt.context;\n\n      if ('upload' in xhr && 'onprogress' in xhr.upload) {\n        xhr.upload.onprogress = handleProgress('upload');\n      }\n\n      if ('onprogress' in xhr) {\n        xhr.onprogress = handleProgress('download');\n      }\n\n      function handleProgress(stage) {\n        return function (event) {\n          var percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage: stage,\n            percent: percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n};","require(\"core-js/modules/es.array.reduce\");\n\nexports.reduce = require('rxjs/internal/operators/reduce').reduce;","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function (uri1, uri2, ieMode) {\n  if (uri1 === uri2) {\n    return true;\n  }\n\n  var url1 = url.parse(uri1, false, true);\n  var url2 = url.parse(uri2, false, true);\n  var url1Port = url1.port | 0 || (url1.protocol === 'https' ? 443 : 80);\n  var url2Port = url2.port | 0 || (url2.protocol === 'https' ? 443 : 80);\n  var match = {\n    proto: url1.protocol === url2.protocol,\n    hostname: url1.hostname === url2.hostname,\n    port: url1Port === url2Port\n  };\n  return match.proto && match.hostname && (match.port || ieMode);\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar once = require('../util/once');\n\nvar tokenWarning = ['Using token with listeners is not supported in browsers. ', \"For more info, see \".concat(generateHelpUrl('js-client-listener-tokens-browser'), \".\")]; // eslint-disable-next-line no-console\n\nvar printTokenWarning = once(function () {\n  return console.warn(tokenWarning.join(' '));\n});\nvar isWindowEventSource = Boolean(typeof window !== 'undefined' && window.EventSource);\nvar EventSource = isWindowEventSource ? window.EventSource // Native browser EventSource\n: polyfilledEventSource; // Node.js, IE etc\n\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var options = defaults(opts, defaultOptions);\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts\n  });\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials;\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n\n  if (token && isWindowEventSource) {\n    printTokenWarning();\n  }\n\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","'use strict';\n\nvar global = require('../util/global');\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var Observable = opts.implementation || global.Observable;\n\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed');\n  }\n\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(objectAssign({\n            type: 'progress'\n          }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(objectAssign({\n            type: 'response'\n          }, response));\n          observer.complete();\n        });\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};","\"use strict\";\n\nmodule.exports = [];","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\nmodule.exports = {\n  regex: regex,\n  parse: function parse(url) {\n    var match = regex.exec(url);\n\n    if (!match) {\n      return {};\n    }\n\n    return {\n      protocol: (match[1] || '').toLowerCase() || undefined,\n      hostname: (match[5] || '').toLowerCase() || undefined,\n      port: match[6] || undefined\n    };\n  }\n};","\"use strict\";\n\nvar validUrl = /^https?:\\/\\//i;\n\nmodule.exports = function (options) {\n  if (!validUrl.test(options.url)) {\n    throw new Error(\"\\\"\" + options.url + \"\\\" is not a valid URL\");\n  }\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.isArray = function () {\n  return Array.isArray || function (x) {\n    return x && typeof x.length === 'number';\n  };\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n  Promise: undefined,\n\n  set useDeprecatedSynchronousErrorHandling(value) {\n    if (value) {\n      var error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  }\n\n};","'use strict';\n\nmodule.exports = function (x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.rxSubscriber = function () {\n  return typeof Symbol === 'function' ? Symbol('rxSubscriber') : '@@rxSubscriber_' + Math.random();\n}();\n\nexports.$$rxSubscriber = exports.rxSubscriber;","'use strict';\n\nmodule.exports = require('./node-request');","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","'use strict';\n\nmodule.exports = function (middleware) {\n  var applyMiddleware = function applyMiddleware(hook, defaultValue) {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var bailEarly = hook === 'onError';\n    var value = defaultValue;\n\n    for (var i = 0; i < middleware[hook].length; i++) {\n      var handler = middleware[hook][i];\n      value = handler.apply(undefined, [value].concat(args));\n\n      if (bailEarly && !value) {\n        break;\n      }\n    }\n\n    return value;\n  };\n\n  return applyMiddleware;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nexports.isFunction = isFunction;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction map(project, thisArg) {\n  return function mapOperation(source) {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexports.map = map;\n\nvar MapOperator = function () {\n  function MapOperator(project, thisArg) {\n    this.project = project;\n    this.thisArg = thisArg;\n  }\n\n  MapOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  };\n\n  return MapOperator;\n}();\n\nexports.MapOperator = MapOperator;\n\nvar MapSubscriber = function (_super) {\n  __extends(MapSubscriber, _super);\n\n  function MapSubscriber(destination, project, thisArg) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.project = project;\n    _this.count = 0;\n    _this.thisArg = thisArg || _this;\n    return _this;\n  }\n\n  MapSubscriber.prototype._next = function (value) {\n    var result;\n\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  };\n\n  return MapSubscriber;\n}(Subscriber_1.Subscriber);","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync'\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = config.gradientMode ? config.namespace : validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return (this.clientConfig.gradientMode ? uri : \"/data\".concat(uri)).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      token: token\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar deepAssign = require('deep-assign');\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  merge: function merge(props) {\n    validateObject('merge', props);\n    var stack = new Error().stack.toString().split('\\n').filter(function (str) {\n      return str.trim();\n    }).slice(2);\n    console.warn(\"The \\\"merge\\\" patch has been deprecated and will be removed in the future\\n\".concat(stack.join('\\n')));\n    return this._assign('merge', deepAssign(this.operations.merge || {}, props));\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","exports.map = require('rxjs/internal/operators/map').map;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction scan(accumulator, seed) {\n  var hasSeed = false;\n\n  if (arguments.length >= 2) {\n    hasSeed = true;\n  }\n\n  return function scanOperatorFunction(source) {\n    return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n  };\n}\n\nexports.scan = scan;\n\nvar ScanOperator = function () {\n  function ScanOperator(accumulator, seed, hasSeed) {\n    if (hasSeed === void 0) {\n      hasSeed = false;\n    }\n\n    this.accumulator = accumulator;\n    this.seed = seed;\n    this.hasSeed = hasSeed;\n  }\n\n  ScanOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n  };\n\n  return ScanOperator;\n}();\n\nvar ScanSubscriber = function (_super) {\n  __extends(ScanSubscriber, _super);\n\n  function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.accumulator = accumulator;\n    _this._seed = _seed;\n    _this.hasSeed = hasSeed;\n    _this.index = 0;\n    return _this;\n  }\n\n  Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n    get: function get() {\n      return this._seed;\n    },\n    set: function set(value) {\n      this.hasSeed = true;\n      this._seed = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ScanSubscriber.prototype._next = function (value) {\n    if (!this.hasSeed) {\n      this.seed = value;\n      this.destination.next(value);\n    } else {\n      return this._tryNext(value);\n    }\n  };\n\n  ScanSubscriber.prototype._tryNext = function (value) {\n    var index = this.index++;\n    var result;\n\n    try {\n      result = this.accumulator(this.seed, value, index);\n    } catch (err) {\n      this.destination.error(err);\n    }\n\n    this.seed = result;\n    this.destination.next(result);\n  };\n\n  return ScanSubscriber;\n}(Subscriber_1.Subscriber);","module.exports = require('./lib-node');","exports.filter = require('rxjs/internal/operators/filter').filter;","\"use strict\";\n/* eslint-disable no-empty-function, no-process-env */\n\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar _require = require('./errors'),\n    ClientError = _require.ClientError,\n    ServerError = _require.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  var base = \"?query=\".concat(enc(query));\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(options).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","const moduleQuery = `\r\n  _type == 'nestedPages' => {\r\n    ...,\r\n    page[] {\r\n      ...,\r\n      linkedPage->\r\n    }\r\n  }\r\n`\r\n\r\nconst pageQuery = `\r\n  ...,\r\n  content {\r\n    ...,\r\n    main {\r\n      ...,\r\n      modules[] {\r\n        ...,\r\n        ${moduleQuery}\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst productQuery = `\r\n  ...,\r\n  content {\r\n    ...,\r\n    main {\r\n      ...,\r\n      mainImage {\r\n        asset-> {\r\n          _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nmodule.exports = {\r\n  pageQuery,\r\n  productQuery\r\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction identity(x) {\n  return x;\n}\n\nexports.identity = identity;","/* eslint-disable no-var */\nvar evs = require('eventsource-polyfill/dist/eventsource');\n\nmodule.exports = window.EventSource || evs.EventSource;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction canReportError(observer) {\n  while (observer) {\n    var _a = observer,\n        closed_1 = _a.closed,\n        destination = _a.destination,\n        isStopped = _a.isStopped;\n\n    if (closed_1 || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber_1.Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n\n  return true;\n}\n\nexports.canReportError = canReportError;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isArray_1 = require(\"./util/isArray\");\n\nvar isObject_1 = require(\"./util/isObject\");\n\nvar isFunction_1 = require(\"./util/isFunction\");\n\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\n\nvar Subscription = function () {\n  function Subscription(unsubscribe) {\n    this.closed = false;\n    this._parentOrParents = null;\n    this._subscriptions = null;\n\n    if (unsubscribe) {\n      this._ctorUnsubscribe = true;\n      this._unsubscribe = unsubscribe;\n    }\n  }\n\n  Subscription.prototype.unsubscribe = function () {\n    var errors;\n\n    if (this.closed) {\n      return;\n    }\n\n    var _a = this,\n        _parentOrParents = _a._parentOrParents,\n        _ctorUnsubscribe = _a._ctorUnsubscribe,\n        _unsubscribe = _a._unsubscribe,\n        _subscriptions = _a._subscriptions;\n\n    this.closed = true;\n    this._parentOrParents = null;\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (var index = 0; index < _parentOrParents.length; ++index) {\n        var parent_1 = _parentOrParents[index];\n        parent_1.remove(this);\n      }\n    }\n\n    if (isFunction_1.isFunction(_unsubscribe)) {\n      if (_ctorUnsubscribe) {\n        this._unsubscribe = undefined;\n      }\n\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray_1.isArray(_subscriptions)) {\n      var index = -1;\n      var len = _subscriptions.length;\n\n      while (++index < len) {\n        var sub = _subscriptions[index];\n\n        if (isObject_1.isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n\n            if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n    }\n  };\n\n  Subscription.prototype.add = function (teardown) {\n    var subscription = teardown;\n\n    if (!teardown) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(teardown);\n\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          var tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n\n        break;\n\n      default:\n        {\n          throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n    }\n\n    var _parentOrParents = subscription._parentOrParents;\n\n    if (_parentOrParents === null) {\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        return subscription;\n      }\n\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      _parentOrParents.push(this);\n    } else {\n      return subscription;\n    }\n\n    var subscriptions = this._subscriptions;\n\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  };\n\n  Subscription.prototype.remove = function (subscription) {\n    var subscriptions = this._subscriptions;\n\n    if (subscriptions) {\n      var subscriptionIndex = subscriptions.indexOf(subscription);\n\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  };\n\n  Subscription.EMPTY = function (empty) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription());\n\n  return Subscription;\n}();\n\nexports.Subscription = Subscription;\n\nfunction flattenUnsubscriptionErrors(errors) {\n  return errors.reduce(function (errs, err) {\n    return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError ? err.errors : err);\n  }, []);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();"],"sourceRoot":""}