{"code":"!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=191)}([function(e,t,r){\"use strict\";var n=r(10),o=Object.prototype.toString;function i(e){return\"[object Array]\"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&\"object\"==typeof e}function u(e){if(\"[object Object]\"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return\"[object Function]\"===o.call(e)}function l(e,t){if(null!=e)if(\"object\"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return\"[object ArrayBuffer]\"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return\"undefined\"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return\"string\"==typeof e},isNumber:function(e){return\"number\"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return\"[object Date]\"===o.call(e)},isFile:function(e){return\"[object File]\"===o.call(e)},isBlob:function(e){return\"[object Blob]\"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return\"undefined\"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&\"function\"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"headers\",(function(){return i})),r.d(t,\"shopifyConfig\",(function(){return s})),r.d(t,\"statusReturn\",(function(){return y})),r.d(t,\"preparePayload\",(function(){return m})),r.d(t,\"SHOPIFY_GRAPHQL_URL\",(function(){return o})),r.d(t,\"CUSTOMER_QUERY\",(function(){return a})),r.d(t,\"CUSTOMER_RECOVERY_QUERY\",(function(){return c})),r.d(t,\"CUSTOMER_TOKEN_QUERY\",(function(){return u})),r.d(t,\"CUSTOMER_LOGOUT_QUERY\",(function(){return l})),r.d(t,\"CUSTOMER_CREATE_QUERY\",(function(){return f})),r.d(t,\"CUSTOMER_RESET_QUERY\",(function(){return h})),r.d(t,\"CUSTOMER_ACTIVATE_QUERY\",(function(){return p})),r.d(t,\"PRODUCT_QUERY\",(function(){return d})),r.d(t,\"PRODUCT_UPDATE\",(function(){return g}));const{SHOPIFY_TOKEN:n,SHOPIFY_GRAPHQL_URL:o}=process.env,i={\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Headers\":\"Content-Type\",\"Content-Type\":\"application/json\"},s={\"Content-Type\":\"application/json\",\"X-Shopify-Storefront-Access-Token\":n},a=\"query customerQuery($customerAccessToken: String!){\\n  customer(customerAccessToken: $customerAccessToken) {\\n    firstName\\n    lastName\\n    acceptsMarketing\\n    phone\\n    email\\n    defaultAddress {\\n      \\n  firstName\\n  lastName\\n  address1\\n  address2\\n  company\\n  phone\\n  city\\n  country\\n  province\\n  zip\\n\\n    }\\n    orders(first:100){\\n      edges{\\n        node{\\n          orderNumber\\n          totalPrice\\n          processedAt\\n          statusUrl\\n          successfulFulfillments(first: 100){\\n            trackingInfo(first: 100){\\n              number\\n              url\\n            }\\n          }\\n          lineItems(first:100){\\n            edges{\\n              node{\\n                quantity\\n                title\\n                variant{\\n                  title\\n                  price\\n                  image{\\n                    originalSrc\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\",u=\"mutation customerAccessTokenCreate($input: CustomerAccessTokenCreateInput!) {\\n  customerAccessTokenCreate(input: $input) {\\n    userErrors {\\n      field\\n      message\\n    }\\n    customerAccessToken {\\n      accessToken\\n      expiresAt\\n    }\\n  }\\n}\\n\",c=\"mutation customerRecover($email: String!) {\\n  customerRecover(email: $email) {\\n    userErrors {\\n      field\\n      message\\n    }\\n  }\\n}\",l=\"mutation customerAccessTokenDelete($customerAccessToken: String!) {\\n  customerAccessTokenDelete(customerAccessToken: $customerAccessToken) {\\n    userErrors {\\n      field\\n      message\\n    }\\n    deletedAccessToken\\n    deletedCustomerAccessTokenId\\n  }\\n}\",f=\"mutation customerCreate($input: CustomerCreateInput!) {\\n  customerCreate(input: $input) {\\n    userErrors {\\n      field\\n      message\\n    }\\n    customer {\\n      id\\n    }\\n    customerUserErrors {\\n      field\\n      message\\n    }\\n  }\\n}\",h=\"mutation customerReset($id: ID!, $input: CustomerResetInput!) {\\n  customerReset(id: $id, input: $input) {\\n    userErrors {\\n      field\\n      message\\n    }\\n    customer {\\n      email\\n    }\\n  }\\n}\",p=\"mutation customerActivate($id: ID!, $input: CustomerActivateInput!) {\\n  customerActivate(id: $id, input: $input) {\\n    userErrors {\\n      field\\n      message\\n    }\\n    customer {\\n      email\\n    }\\n  }\\n}\",d='query getProduct($id: ID!) {\\n  node(id: $id) {\\n    ... on Product {\\n      id\\n      handle\\n      title\\n      totalVariants\\n      images(first: 100) {\\n        edges {\\n          node {\\n            id\\n            originalSrc\\n          }\\n        }\\n      }\\n      variants(first: 100) {\\n        edges {\\n          node {\\n            id\\n            title\\n            price\\n            displayName\\n          }\\n        }\\n      }\\n      metafield(namespace: \"sync\", key: \"productData\") {\\n        value\\n        id\\n      }\\n    }\\n  }\\n}\\n',g=\"mutation productMetaUpdate($input: ProductInput!) {\\n  productUpdate(input: $input) {\\n    product {\\n      metafields(first: 100) {\\n        edges {\\n          node {\\n            id\\n            namespace\\n            key\\n            value\\n          }\\n        }\\n      }\\n    }\\n    userErrors {\\n      field\\n      message\\n    }\\n  }\\n}\",y=(e,t)=>({statusCode:e,headers:i,body:JSON.stringify(t)}),m=(e,t)=>({query:e,variables:t})},function(e,t,r){\"use strict\";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+=\"[]\":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+\"=\"+o(e))})))})),i=s.join(\"&\")}if(i){var a=e.indexOf(\"#\");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+i}return e}},function(e,t,r){\"use strict\";var n=r(14);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t){e.exports=require(\"url\")},function(e,t){e.exports=require(\"http\")},function(e,t){e.exports=require(\"stream\")},function(e,t){e.exports=require(\"https\")},function(e,t,r){e.exports=r(26)},function(e,t,r){var n=r(4),o=n.URL,i=r(5),s=r(7),a=r(6).Writable,u=r(22),c=r(39),l=Object.create(null);[\"abort\",\"aborted\",\"connect\",\"error\",\"socket\",\"timeout\"].forEach((function(e){l[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var f=x(\"ERR_FR_REDIRECTION_FAILURE\",\"\"),h=x(\"ERR_FR_TOO_MANY_REDIRECTS\",\"Maximum number of redirects exceeded\"),p=x(\"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\"Request body larger than maxBodyLength limit\"),d=x(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\");function g(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on(\"response\",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function y(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit(\"timeout\")}),t)}function m(){clearTimeout(this._timeout)}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(i){var s=i+\":\",a=r[s]=e[i],l=t[i]=Object.create(a);l.request=function(e,i,a){if(\"string\"==typeof e){var l=e;try{e=w(new o(l))}catch(t){e=n.parse(l)}}else o&&e instanceof o?e=w(e):(a=i,i=e,e={protocol:s});return\"function\"==typeof i&&(a=i,i=null),(i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,i)).nativeProtocols=r,u.equal(i.protocol,s,\"protocol mismatch\"),c(\"options\",i),new g(i,a)},l.get=function(e,t,r){var n=l.request(e,t,r);return n.end(),n}})),t}function b(){}function w(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith(\"[\")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return\"\"!==e.port&&(t.port=Number(e.port)),t}function _(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function x(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name=\"Error [\"+e+\"]\",r.prototype.code=e,r}g.prototype=Object.create(a.prototype),g.prototype.write=function(e,t,r){if(this._ending)throw new d;if(!(\"string\"==typeof e||\"object\"==typeof e&&\"length\"in e))throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\"function\"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit(\"error\",new p),this.abort()):r&&r()},g.prototype.end=function(e,t,r){if(\"function\"==typeof e?(r=e,e=t=null):\"function\"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){if(t&&this.once(\"timeout\",t),this.socket)y(this,e);else{var r=this;this._currentRequest.once(\"socket\",(function(){y(r,e)}))}return this.once(\"response\",m),this.once(\"error\",m),this},[\"abort\",\"flushHeaders\",\"getHeader\",\"setNoDelay\",\"setSocketKeepAlive\"].forEach((function(e){g.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),[\"aborted\",\"connection\",\"socket\"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf(\"?\");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=n.format(this._options),o._redirectable=this,l)i&&o.on(i,l[i]);if(this._isRedirect){var s=0,a=this,u=this._requestBodyBuffers;!function e(t){if(o===a._currentRequest)if(t)a.emit(\"error\",t);else if(s<u.length){var r=u[s++];o.finished||o.write(r.data,r.encoding,e)}else a._ended&&o.end()}()}}else this.emit(\"error\",new TypeError(\"Unsupported protocol \"+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on(\"error\",b),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit(\"error\",new h);((301===t||302===t)&&\"POST\"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method=\"GET\",this._requestBodyBuffers=[],_(/^content-/i,this._options.headers));var o=_(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,i=n.resolve(this._currentUrl,r);c(\"redirecting to\",i),this._isRedirect=!0;var s=n.parse(i);if(Object.assign(this._options,s),s.hostname!==o&&_(/^authorization$/i,this._options.headers),\"function\"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit(\"error\",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var u=new f(\"Redirected request failed: \"+e.message);u.cause=e,this.emit(\"error\",u)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit(\"response\",e),this._requestBodyBuffers=[]},e.exports=v({http:i,https:s}),e.exports.wrap=v},function(e,t,r){\"use strict\";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){\"use strict\";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){\"use strict\";var n=r(0),o=r(31),i={\"Content-Type\":\"application/x-www-form-urlencoded\"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var a,u={adapter:(\"undefined\"!=typeof XMLHttpRequest?a=r(32):\"undefined\"!=typeof process&&\"[object process]\"===Object.prototype.toString.call(process)&&(a=r(38)),a),transformRequest:[function(e,t){return o(t,\"Accept\"),o(t,\"Content-Type\"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString()):n.isObject(e)?(s(t,\"application/json;charset=utf-8\"),JSON.stringify(e)):e}],transformResponse:[function(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:\"application/json, text/plain, */*\"}},n.forEach([\"delete\",\"get\",\"head\"],(function(e){u.headers[e]={}})),n.forEach([\"post\",\"put\",\"patch\"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},function(e,t,r){\"use strict\";var n=r(3);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n(\"Request failed with status code \"+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){\"use strict\";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){\"use strict\";var n=r(34),o=r(35);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){var n;function o(e){function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),\"string\"!=typeof s[0]&&s.unshift(\"%O\");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if(\"%%\"===r)return r;u++;var o=t.formatters[n];if(\"function\"==typeof o){var i=s[u];r=o.call(e,i),s.splice(u,1),u--}return r})),t.formatArgs.call(e,s);var c=r.log||t.log||console.log.bind(console);c.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),\"function\"==typeof t.init&&t.init(r),r}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(\"-\"===(e=r[o].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(41),t.names=[],t.skips=[],t.formatters={}},function(e,t,r){\"use strict\";var n=r(0);e.exports=function(e,t){t=t||{};var r={},o=[\"url\",\"method\",\"data\"],i=[\"headers\",\"auth\",\"proxy\",\"params\"],s=[\"baseURL\",\"transformRequest\",\"transformResponse\",\"paramsSerializer\",\"timeout\",\"timeoutMessage\",\"withCredentials\",\"adapter\",\"responseType\",\"xsrfCookieName\",\"xsrfHeaderName\",\"onUploadProgress\",\"onDownloadProgress\",\"decompress\",\"maxContentLength\",\"maxBodyLength\",\"maxRedirects\",\"transport\",\"httpAgent\",\"httpsAgent\",\"cancelToken\",\"socketPath\",\"responseEncoding\"],a=[\"validateStatus\"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(i,c),n.forEach(s,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(void 0,t[o])})),n.forEach(a,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var l=o.concat(i).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,c),r}},function(e,t,r){\"use strict\";function n(e){this.message=e}n.prototype.toString=function(){return\"Cancel\"+(this.message?\": \"+this.message:\"\")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t){e.exports=require(\"zlib\")},function(e,t){e.exports=require(\"util\")},function(e,t,r){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t[\"_\"+String.fromCharCode(r)]=r;if(\"0123456789\"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(\"\"))return!1;var n={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(e){n[e]=e})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},n)).join(\"\")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,u=s(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))o.call(r,l)&&(u[l]=r[l]);if(n){a=n(r);for(var f=0;f<a.length;f++)i.call(r,a[f])&&(u[a[f]]=r[a[f]])}}return u}},function(e,t){e.exports=require(\"assert\")},function(e,t,r){\"undefined\"!=typeof process&&\"renderer\"===process.type?e.exports=r(40):e.exports=r(42)},function(e,t){e.exports=require(\"fs\")},function(e,t){e.exports=require(\"net\")},function(e,t,r){\"use strict\";var n=r(0),o=r(10),i=r(27),s=r(17);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(r(12));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=r(18),u.CancelToken=r(45),u.isCancel=r(11),u.all=function(e){return Promise.all(e)},u.spread=r(46),e.exports=u,e.exports.default=u},function(e,t,r){\"use strict\";var n=r(0),o=r(2),i=r(28),s=r(29),a=r(17);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){\"string\"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method=\"get\";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\\?/,\"\")},n.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){u.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t}))}})),n.forEach([\"post\",\"put\",\"patch\"],(function(e){u.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){\"use strict\";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){\"use strict\";var n=r(0),o=r(30),i=r(11),s=r(12);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){\"use strict\";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){\"use strict\";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){\"use strict\";var n=r(0),o=r(13),i=r(33),s=r(2),a=r(15),u=r(36),c=r(37),l=r(3);e.exports=function(e){return new Promise((function(t,r){var f=e.data,h=e.headers;n.isFormData(f)&&delete h[\"Content-Type\"],(n.isBlob(f)||n.isFile(f))&&f.type&&delete h[\"Content-Type\"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||\"\",g=unescape(encodeURIComponent(e.auth.password))||\"\";h.Authorization=\"Basic \"+btoa(d+\":\"+g)}var y=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf(\"file:\"))){var n=\"getAllResponseHeaders\"in p?u(p.getAllResponseHeaders()):null,i={data:e.responseType&&\"text\"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,r,i),p=null}},p.onabort=function(){p&&(r(l(\"Request aborted\",e,\"ECONNABORTED\",p)),p=null)},p.onerror=function(){r(l(\"Network Error\",e,null,p)),p=null},p.ontimeout=function(){var t=\"timeout of \"+e.timeout+\"ms exceeded\";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,\"ECONNABORTED\",p)),p=null},n.isStandardBrowserEnv()){var m=(e.withCredentials||c(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;m&&(h[e.xsrfHeaderName]=m)}if(\"setRequestHeader\"in p&&n.forEach(h,(function(e,t){void 0===f&&\"content-type\"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if(\"json\"!==e.responseType)throw t}\"function\"==typeof e.onDownloadProgress&&p.addEventListener(\"progress\",e.onDownloadProgress),\"function\"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener(\"progress\",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),f||(f=null),p.send(f)}))}},function(e,t,r){\"use strict\";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+\"=\"+encodeURIComponent(t)),n.isNumber(r)&&a.push(\"expires=\"+new Date(r).toGMTString()),n.isString(o)&&a.push(\"path=\"+o),n.isString(i)&&a.push(\"domain=\"+i),!0===s&&a.push(\"secure\"),document.cookie=a.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){\"use strict\";e.exports=function(e){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e)}},function(e,t,r){\"use strict\";e.exports=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}},function(e,t,r){\"use strict\";var n=r(0),o=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split(\"\\n\"),(function(e){if(i=e.indexOf(\":\"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]=\"set-cookie\"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+\", \"+r:r}})),s):s}},function(e,t,r){\"use strict\";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement(\"a\");function o(e){var n=e;return t&&(r.setAttribute(\"href\",n),n=r.href),r.setAttribute(\"href\",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,\"\"):\"\",host:r.host,search:r.search?r.search.replace(/^\\?/,\"\"):\"\",hash:r.hash?r.hash.replace(/^#/,\"\"):\"\",hostname:r.hostname,port:r.port,pathname:\"/\"===r.pathname.charAt(0)?r.pathname:\"/\"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){\"use strict\";var n=r(0),o=r(13),i=r(15),s=r(2),a=r(5),u=r(7),c=r(9).http,l=r(9).https,f=r(4),h=r(19),p=r(44),d=r(3),g=r(14),y=/https:?/;e.exports=function(e){return new Promise((function(t,r){var m=function(e){t(e)},v=function(e){r(e)},b=e.data,w=e.headers;if(w[\"User-Agent\"]||w[\"user-agent\"]||(w[\"User-Agent\"]=\"axios/\"+p.version),b&&!n.isStream(b)){if(Buffer.isBuffer(b));else if(n.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!n.isString(b))return v(d(\"Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream\",e));b=Buffer.from(b,\"utf-8\")}w[\"Content-Length\"]=b.length}var _=void 0;e.auth&&(_=(e.auth.username||\"\")+\":\"+(e.auth.password||\"\"));var x=i(e.baseURL,e.url),E=f.parse(x),O=E.protocol||\"http:\";if(!_&&E.auth){var S=E.auth.split(\":\");_=(S[0]||\"\")+\":\"+(S[1]||\"\")}_&&delete w.Authorization;var j=y.test(O),k=j?e.httpsAgent:e.httpAgent,R={path:s(E.path,e.params,e.paramsSerializer).replace(/^\\?/,\"\"),method:e.method.toUpperCase(),headers:w,agent:k,agents:{http:e.httpAgent,https:e.httpsAgent},auth:_};e.socketPath?R.socketPath=e.socketPath:(R.hostname=E.hostname,R.port=E.port);var C,T=e.proxy;if(!T&&!1!==T){var P=O.slice(0,-1)+\"_proxy\",A=process.env[P]||process.env[P.toUpperCase()];if(A){var M=f.parse(A),N=process.env.no_proxy||process.env.NO_PROXY,D=!0;if(N)D=!N.split(\",\").map((function(e){return e.trim()})).some((function(e){return!!e&&(\"*\"===e||(\".\"===e[0]&&E.hostname.substr(E.hostname.length-e.length)===e||E.hostname===e))}));if(D&&(T={host:M.hostname,port:M.port},M.auth)){var I=M.auth.split(\":\");T.auth={username:I[0],password:I[1]}}}}if(T&&(R.hostname=T.host,R.host=T.host,R.headers.host=E.hostname+(E.port?\":\"+E.port:\"\"),R.port=T.port,R.path=O+\"//\"+E.hostname+(E.port?\":\"+E.port:\"\")+R.path,T.auth)){var q=Buffer.from(T.auth.username+\":\"+T.auth.password,\"utf8\").toString(\"base64\");R.headers[\"Proxy-Authorization\"]=\"Basic \"+q}var L=j&&(!T||y.test(T.protocol));e.transport?C=e.transport:0===e.maxRedirects?C=L?u:a:(e.maxRedirects&&(R.maxRedirects=e.maxRedirects),C=L?l:c),e.maxBodyLength>-1&&(R.maxBodyLength=e.maxBodyLength);var B=C.request(R,(function(t){if(!B.aborted){var r=t,i=t.req||B;if(204!==t.statusCode&&\"HEAD\"!==i.method&&!1!==e.decompress)switch(t.headers[\"content-encoding\"]){case\"gzip\":case\"compress\":case\"deflate\":r=r.pipe(h.createUnzip()),delete t.headers[\"content-encoding\"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:i};if(\"stream\"===e.responseType)s.data=r,o(m,v,s);else{var a=[];r.on(\"data\",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(r.destroy(),v(d(\"maxContentLength size of \"+e.maxContentLength+\" exceeded\",e,null,i)))})),r.on(\"error\",(function(t){B.aborted||v(g(t,e,null,i))})),r.on(\"end\",(function(){var t=Buffer.concat(a);\"arraybuffer\"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&\"utf8\"!==e.responseEncoding||(t=n.stripBOM(t))),s.data=t,o(m,v,s)}))}}}));B.on(\"error\",(function(t){B.aborted&&\"ERR_FR_TOO_MANY_REDIRECTS\"!==t.code||v(g(t,e,null,B))})),e.timeout&&B.setTimeout(e.timeout,(function(){B.abort(),v(d(\"timeout of \"+e.timeout+\"ms exceeded\",e,\"ECONNABORTED\",B))})),e.cancelToken&&e.cancelToken.promise.then((function(e){B.aborted||(B.abort(),v(e))})),n.isStream(b)?b.on(\"error\",(function(t){v(g(t,e,null,B))})).pipe(B):B.end(b)}))}},function(e,t,r){var n;try{n=r(23)(\"follow-redirects\")}catch(e){n=function(){}}e.exports=n},function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(16)).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+e[0]+(r?\"%c \":\" \")+\"+\"+t.humanize(this.diff),!r)return;var n=\"color: \"+this.color;e.splice(1,0,n,\"color: inherit\");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){\"%%\"!==e&&(o++,\"%c\"===e&&(i=o))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem(\"debug\"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&\"renderer\"===window.process.type)return!0;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},t.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},t.enable(n())},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+\" \"+r:Math.ceil(e/t)+\" \"+r+\"s\"}e.exports=function(e,t){t=t||{};var a,u=typeof e;if(\"string\"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*s;case\"days\":case\"day\":case\"d\":return s*i;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return s*o;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return s*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return s*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return s;default:return}}(e);if(\"number\"===u&&!1===isNaN(e))return t.long?s(a=e,i,\"day\")||s(a,o,\"hour\")||s(a,n,\"minute\")||s(a,r,\"second\")||a+\" ms\":function(e){if(e>=i)return Math.round(e/i)+\"d\";if(e>=o)return Math.round(e/o)+\"h\";if(e>=n)return Math.round(e/n)+\"m\";if(e>=r)return Math.round(e/r)+\"s\";return e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},function(e,t,r){var n=r(43),o=r(20);(t=e.exports=r(16)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return s.write(o.format.apply(o,arguments)+\"\\n\")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,o=\"  \u001b[3\"+n+\";1m\"+r+\" \u001b[0m\";e[0]=o+e[0].split(\"\\n\").join(\"\\n\"+o),e.push(\"\u001b[3\"+n+\"m+\"+t.humanize(this.diff)+\"\u001b[0m\")}else e[0]=(new Date).toUTCString()+\" \"+r+\" \"+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return\"colors\"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&(\"null\"===n?null:Number(n)),e[r]=n,e}),{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&o.deprecate((function(){}),\"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)\")();var s=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding(\"tty_wrap\").guessHandleType(e)){case\"TTY\":(t=new n.WriteStream(e))._type=\"tty\",t._handle&&t._handle.unref&&t._handle.unref();break;case\"FILE\":var o=r(24);(t=new o.SyncWriteStream(e,{autoClose:!1}))._type=\"fs\";break;case\"PIPE\":case\"TCP\":var i=r(25);(t=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type=\"pipe\",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error(\"Implement me. Unknown stream file type!\")}return t.fd=e,t._isStdio=!0,t}(i);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split(\"\\n\").map((function(e){return e.trim()})).join(\" \")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require(\"tty\")},function(e){e.exports=JSON.parse('{\"_from\":\"axios@^0.20.0\",\"_id\":\"axios@0.20.0\",\"_inBundle\":false,\"_integrity\":\"sha512-ANA4rr2BDcmmAQLOKft2fufrtuvlqR+cXNNinUmvfeSNCOF98PZL+7M/v1zIdGo7OLjEA9J2gXJL+j4zGsl0bA==\",\"_location\":\"/axios\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"range\",\"registry\":true,\"raw\":\"axios@^0.20.0\",\"name\":\"axios\",\"escapedName\":\"axios\",\"rawSpec\":\"^0.20.0\",\"saveSpec\":null,\"fetchSpec\":\"^0.20.0\"},\"_requiredBy\":[\"/gatsby\"],\"_resolved\":\"https://registry.npmjs.org/axios/-/axios-0.20.0.tgz\",\"_shasum\":\"057ba30f04884694993a8cd07fa394cff11c50bd\",\"_spec\":\"axios@^0.20.0\",\"_where\":\"C:\\\\\\\\Sites\\\\\\\\idlehoursco\\\\\\\\animated-fortnight\\\\\\\\web\\\\\\\\node_modules\\\\\\\\gatsby\",\"author\":{\"name\":\"Matt Zabriskie\"},\"browser\":{\"./lib/adapters/http.js\":\"./lib/adapters/xhr.js\"},\"bugs\":{\"url\":\"https://github.com/axios/axios/issues\"},\"bundleDependencies\":false,\"bundlesize\":[{\"path\":\"./dist/axios.min.js\",\"threshold\":\"5kB\"}],\"dependencies\":{\"follow-redirects\":\"^1.10.0\"},\"deprecated\":false,\"description\":\"Promise based HTTP client for the browser and node.js\",\"devDependencies\":{\"bundlesize\":\"^0.17.0\",\"coveralls\":\"^3.0.0\",\"es6-promise\":\"^4.2.4\",\"grunt\":\"^1.0.2\",\"grunt-banner\":\"^0.6.0\",\"grunt-cli\":\"^1.2.0\",\"grunt-contrib-clean\":\"^1.1.0\",\"grunt-contrib-watch\":\"^1.0.0\",\"grunt-eslint\":\"^20.1.0\",\"grunt-karma\":\"^2.0.0\",\"grunt-mocha-test\":\"^0.13.3\",\"grunt-ts\":\"^6.0.0-beta.19\",\"grunt-webpack\":\"^1.0.18\",\"istanbul-instrumenter-loader\":\"^1.0.0\",\"jasmine-core\":\"^2.4.1\",\"karma\":\"^1.3.0\",\"karma-chrome-launcher\":\"^2.2.0\",\"karma-coverage\":\"^1.1.1\",\"karma-firefox-launcher\":\"^1.1.0\",\"karma-jasmine\":\"^1.1.1\",\"karma-jasmine-ajax\":\"^0.1.13\",\"karma-opera-launcher\":\"^1.0.0\",\"karma-safari-launcher\":\"^1.0.0\",\"karma-sauce-launcher\":\"^1.2.0\",\"karma-sinon\":\"^1.0.5\",\"karma-sourcemap-loader\":\"^0.3.7\",\"karma-webpack\":\"^1.7.0\",\"load-grunt-tasks\":\"^3.5.2\",\"minimist\":\"^1.2.0\",\"mocha\":\"^5.2.0\",\"sinon\":\"^4.5.0\",\"typescript\":\"^2.8.1\",\"url-search-params\":\"^0.10.0\",\"webpack\":\"^1.13.1\",\"webpack-dev-server\":\"^1.14.1\"},\"homepage\":\"https://github.com/axios/axios\",\"jsdelivr\":\"dist/axios.min.js\",\"keywords\":[\"xhr\",\"http\",\"ajax\",\"promise\",\"node\"],\"license\":\"MIT\",\"main\":\"index.js\",\"name\":\"axios\",\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/axios/axios.git\"},\"scripts\":{\"build\":\"NODE_ENV=production grunt build\",\"coveralls\":\"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js\",\"examples\":\"node ./examples/server.js\",\"fix\":\"eslint --fix lib/**/*.js\",\"postversion\":\"git push && git push --tags\",\"preversion\":\"npm test\",\"start\":\"node ./sandbox/server.js\",\"test\":\"grunt test && bundlesize\",\"version\":\"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json\"},\"typings\":\"./index.d.ts\",\"unpkg\":\"dist/axios.min.js\",\"version\":\"0.20.0\"}')},function(e,t,r){\"use strict\";var n=r(18);function o(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){\"use strict\";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(61),s=r(62),a=r(96),u=r(64),c=r(57),l=r(63),f=function(e){function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!r){i.destination=s.empty;break}if(\"object\"==typeof r){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new h(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new h(i,r,n,o)}return i}return o(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);t.Subscriber=f;var h=function(e){function t(t,r,n,o){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return i.isFunction(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=n,u._complete=o,u}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;l.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw e;l.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{t.call(this._context,r)}catch(t){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(l.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(f);t.SafeSubscriber=h},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var o=[\"image\",\"file\"],i=[\"before\",\"after\",\"replace\"];t.dataset=function(e){if(!/^[-\\w]{1,128}$/.test(e))throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes\")},t.projectId=function(e){if(!/^[-a-z0-9]+$/i.test(e))throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\")},t.validateAssetType=function(e){if(-1===o.indexOf(e))throw new Error(\"Invalid asset type: \".concat(e,\". Must be one of \").concat(o.join(\", \")))},t.validateObject=function(e,t){if(null===t||\"object\"!==n(t)||Array.isArray(t))throw new Error(\"\".concat(e,\"() takes an object of properties\"))},t.requireDocumentId=function(e,r){if(!r._id)throw new Error(\"\".concat(e,'() requires that the document contains an ID (\"_id\" property)'));t.validateDocumentId(e,r._id)},t.validateDocumentId=function(e,t){if(\"string\"!=typeof t||!/^[a-z0-9_.-]+$/i.test(t))throw new Error(\"\".concat(e,'(): \"').concat(t,'\" is not a valid document ID'))},t.validateInsert=function(e,t,r){var n=\"insert(at, selector, items)\";if(-1===i.indexOf(e)){var o=i.map((function(e){return'\"'.concat(e,'\"')})).join(\", \");throw new Error(\"\".concat(n,' takes an \"at\"-argument which is one of: ').concat(o))}if(\"string\"!=typeof t)throw new Error(\"\".concat(n,' takes a \"selector\"-argument which must be a string'));if(!Array.isArray(r))throw new Error(\"\".concat(n,' takes an \"items\"-argument which must be an array'))},t.hasDataset=function(e){if(!e.gradientMode&&!e.dataset)throw new Error(\"`dataset` must be provided to perform queries\");return e.dataset||\"\"}},function(e,t,r){try{var n=r(20);if(\"function\"!=typeof n.inherits)throw\"\";e.exports=n.inherits}catch(t){e.exports=r(147)}},function(e,t,r){\"use strict\";var n=r(55),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var i=Object.create(r(52));i.inherits=r(49);var s=r(75),a=r(78);i.inherits(f,s);for(var u=o(a.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){var n=r(146),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),i(o,s),s.from=function(e,t,r){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return o(e,t,r)},s.alloc=function(e,t,r){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var n=o(e);return void 0!==t?\"string\"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return o(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(e)}},function(e,t){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===r(e)},t.isBoolean=function(e){return\"boolean\"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return\"number\"==typeof e},t.isString=function(e){return\"string\"==typeof e},t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return\"[object RegExp]\"===r(e)},t.isObject=function(e){return\"object\"==typeof e&&null!==e},t.isDate=function(e){return\"[object Date]\"===r(e)},t.isError=function(e){return\"[object Error]\"===r(e)||e instanceof Error},t.isFunction=function(e){return\"function\"==typeof e},t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,r){t.filter=r(95).filter},function(e,t,r){t.map=r(100).map},function(e,t,r){\"use strict\";\"undefined\"==typeof process||!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?e.exports={nextTick:function(e,t,r,n){if(\"function\"!=typeof e)throw new TypeError('\"callback\" argument must be a function');var o,i,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,n)}));default:for(o=new Array(s-1),i=0;i<o.length;)o[i++]=arguments[i];return process.nextTick((function(){e.apply(null,o)}))}}}:e.exports=process},function(e,t){var r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};r.Diff=function(e,t){return[e,t]},r.prototype.diff_main=function(e,t,n,o){void 0===o&&(o=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=o;if(null==e||null==t)throw new Error(\"Null input. (diff_main)\");if(e==t)return e?[new r.Diff(0,e)]:[];void 0===n&&(n=!0);var s=n,a=this.diff_commonPrefix(e,t),u=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var l=this.diff_compute_(e,t,s,i);return u&&l.unshift(new r.Diff(0,u)),c&&l.push(new r.Diff(0,c)),this.diff_cleanupMerge(l),l},r.prototype.diff_compute_=function(e,t,n,o){var i;if(!e)return[new r.Diff(1,t)];if(!t)return[new r.Diff(-1,e)];var s=e.length>t.length?e:t,a=e.length>t.length?t:e,u=s.indexOf(a);if(-1!=u)return i=[new r.Diff(1,s.substring(0,u)),new r.Diff(0,a),new r.Diff(1,s.substring(u+a.length))],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==a.length)return[new r.Diff(-1,e),new r.Diff(1,t)];var c=this.diff_halfMatch_(e,t);if(c){var l=c[0],f=c[1],h=c[2],p=c[3],d=c[4],g=this.diff_main(l,h,n,o),y=this.diff_main(f,p,n,o);return g.concat([new r.Diff(0,d)],y)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,o):this.diff_bisect_(e,t,o)},r.prototype.diff_lineMode_=function(e,t,n){var o=this.diff_linesToChars_(e,t);e=o.chars1,t=o.chars2;var i=o.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines_(s,i),this.diff_cleanupSemantic(s),s.push(new r.Diff(0,\"\"));for(var a=0,u=0,c=0,l=\"\",f=\"\";a<s.length;){switch(s[a][0]){case 1:c++,f+=s[a][1];break;case-1:u++,l+=s[a][1];break;case 0:if(u>=1&&c>=1){s.splice(a-u-c,u+c),a=a-u-c;for(var h=this.diff_main(l,f,!1,n),p=h.length-1;p>=0;p--)s.splice(a,0,h[p]);a+=h.length}c=0,u=0,l=\"\",f=\"\"}a++}return s.pop(),s},r.prototype.diff_bisect_=function(e,t,n){for(var o=e.length,i=t.length,s=Math.ceil((o+i)/2),a=s,u=2*s,c=new Array(u),l=new Array(u),f=0;f<u;f++)c[f]=-1,l[f]=-1;c[a+1]=0,l[a+1]=0;for(var h=o-i,p=h%2!=0,d=0,g=0,y=0,m=0,v=0;v<s&&!((new Date).getTime()>n);v++){for(var b=-v+d;b<=v-g;b+=2){for(var w=a+b,_=(j=b==-v||b!=v&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-b;j<o&&_<i&&e.charAt(j)==t.charAt(_);)j++,_++;if(c[w]=j,j>o)g+=2;else if(_>i)d+=2;else if(p){if((O=a+h-b)>=0&&O<u&&-1!=l[O])if(j>=(E=o-l[O]))return this.diff_bisectSplit_(e,t,j,_,n)}}for(var x=-v+y;x<=v-m;x+=2){for(var E,O=a+x,S=(E=x==-v||x!=v&&l[O-1]<l[O+1]?l[O+1]:l[O-1]+1)-x;E<o&&S<i&&e.charAt(o-E-1)==t.charAt(i-S-1);)E++,S++;if(l[O]=E,E>o)m+=2;else if(S>i)y+=2;else if(!p){if((w=a+h-x)>=0&&w<u&&-1!=c[w]){var j;_=a+(j=c[w])-w;if(j>=(E=o-E))return this.diff_bisectSplit_(e,t,j,_,n)}}}}return[new r.Diff(-1,e),new r.Diff(1,t)]},r.prototype.diff_bisectSplit_=function(e,t,r,n,o){var i=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),u=t.substring(n),c=this.diff_main(i,s,!1,o),l=this.diff_main(a,u,!1,o);return c.concat(l)},r.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function o(e){for(var t=\"\",o=0,s=-1,a=r.length;s<e.length-1;){-1==(s=e.indexOf(\"\\n\",o))&&(s=e.length-1);var u=e.substring(o,s+1);(n.hasOwnProperty?n.hasOwnProperty(u):void 0!==n[u])?t+=String.fromCharCode(n[u]):(a==i&&(u=e.substring(o),s=e.length),t+=String.fromCharCode(a),n[u]=a,r[a++]=u),o=s+1}return t}r[0]=\"\";var i=4e4,s=o(e);return i=65535,{chars1:s,chars2:o(t),lineArray:r}},r.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],o=[],i=0;i<n.length;i++)o[i]=t[n.charCodeAt(i)];e[r][1]=o.join(\"\")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o},r.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var o=Math.min(r,n);if(e==t)return o;for(var i=0,s=1;;){var a=e.substring(o-s),u=t.indexOf(a);if(-1==u)return i;s+=u,0!=u&&e.substring(o-s)!=t.substring(0,s)||(i=s,s++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var o=this;function i(e,t,r){for(var n,i,s,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,l=\"\";-1!=(c=t.indexOf(u,c+1));){var f=o.diff_commonPrefix(e.substring(r),t.substring(c)),h=o.diff_commonSuffix(e.substring(0,r),t.substring(0,c));l.length<h+f&&(l=t.substring(c-h,c)+t.substring(c,c+f),n=e.substring(0,r-h),i=e.substring(r+f),s=t.substring(0,c-h),a=t.substring(c+f))}return 2*l.length>=e.length?[n,i,s,a,l]:null}var s,a,u,c,l,f=i(r,n,Math.ceil(r.length/4)),h=i(r,n,Math.ceil(r.length/2));return f||h?(s=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(a=s[0],u=s[1],c=s[2],l=s[3]):(c=s[0],l=s[1],a=s[2],u=s[3]),[a,u,c,l,s[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],o=0,i=null,s=0,a=0,u=0,c=0,l=0;s<e.length;)0==e[s][0]?(n[o++]=s,a=c,u=l,c=0,l=0,i=e[s][1]):(1==e[s][0]?c+=e[s][1].length:l+=e[s][1].length,i&&i.length<=Math.max(a,u)&&i.length<=Math.max(c,l)&&(e.splice(n[o-1],0,new r.Diff(-1,i)),e[n[o-1]+1][0]=1,o--,s=--o>0?n[o-1]:-1,a=0,u=0,c=0,l=0,i=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(-1==e[s-1][0]&&1==e[s][0]){var f=e[s-1][1],h=e[s][1],p=this.diff_commonOverlap_(f,h),d=this.diff_commonOverlap_(h,f);p>=d?(p>=f.length/2||p>=h.length/2)&&(e.splice(s,0,new r.Diff(0,h.substring(0,p))),e[s-1][1]=f.substring(0,f.length-p),e[s+1][1]=h.substring(p),s++):(d>=f.length/2||d>=h.length/2)&&(e.splice(s,0,new r.Diff(0,f.substring(0,d))),e[s-1][0]=1,e[s-1][1]=h.substring(0,h.length-d),e[s+1][0]=-1,e[s+1][1]=f.substring(d),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),o=t.charAt(0),i=n.match(r.nonAlphaNumericRegex_),s=o.match(r.nonAlphaNumericRegex_),a=i&&n.match(r.whitespaceRegex_),u=s&&o.match(r.whitespaceRegex_),c=a&&n.match(r.linebreakRegex_),l=u&&o.match(r.linebreakRegex_),f=c&&e.match(r.blanklineEndRegex_),h=l&&t.match(r.blanklineStartRegex_);return f||h?5:c||l?4:i&&!a&&u?3:a||u?2:i||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var o=e[n-1][1],i=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(o,i);if(a){var u=i.substring(i.length-a);o=o.substring(0,o.length-a),i=u+i.substring(0,i.length-a),s=u+s}for(var c=o,l=i,f=s,h=t(o,i)+t(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var p=t(o,i)+t(i,s);p>=h&&(h=p,c=o,l=i,f=s)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=l,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\\s/,r.linebreakRegex_=/[\\r\\n]/,r.blanklineEndRegex_=/\\n\\r?\\n$/,r.blanklineStartRegex_=/^\\r?\\n\\r?\\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],o=0,i=null,s=0,a=!1,u=!1,c=!1,l=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(c||l)?(n[o++]=s,a=c,u=l,i=e[s][1]):(o=0,i=null),c=l=!1):(-1==e[s][0]?l=!0:c=!0,i&&(a&&u&&c&&l||i.length<this.Diff_EditCost/2&&a+u+c+l==3)&&(e.splice(n[o-1],0,new r.Diff(-1,i)),e[n[o-1]+1][0]=1,o--,i=null,a&&u?(c=l=!0,o=0):(s=--o>0?n[o-1]:-1,c=l=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push(new r.Diff(0,\"\"));for(var t,n=0,o=0,i=0,s=\"\",a=\"\";n<e.length;)switch(e[n][0]){case 1:i++,a+=e[n][1],n++;break;case-1:o++,s+=e[n][1],n++;break;case 0:o+i>1?(0!==o&&0!==i&&(0!==(t=this.diff_commonPrefix(a,s))&&(n-o-i>0&&0==e[n-o-i-1][0]?e[n-o-i-1][1]+=a.substring(0,t):(e.splice(0,0,new r.Diff(0,a.substring(0,t))),n++),a=a.substring(t),s=s.substring(t)),0!==(t=this.diff_commonSuffix(a,s))&&(e[n][1]=a.substring(a.length-t)+e[n][1],a=a.substring(0,a.length-t),s=s.substring(0,s.length-t))),n-=o+i,e.splice(n,o+i),s.length&&(e.splice(n,0,new r.Diff(-1,s)),n++),a.length&&(e.splice(n,0,new r.Diff(1,a)),n++),n++):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,o=0,s=\"\",a=\"\"}\"\"===e[e.length-1][1]&&e.pop();var u=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var r,n=0,o=0,i=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(o+=e[r][1].length),!(n>t));r++)i=n,s=o;return e.length!=r&&-1===e[r][0]?s:s+(t-i)},r.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,o=/>/g,i=/\\n/g,s=0;s<e.length;s++){var a=e[s][0],u=e[s][1].replace(r,\"&amp;\").replace(n,\"&lt;\").replace(o,\"&gt;\").replace(i,\"&para;<br>\");switch(a){case 1:t[s]='<ins style=\"background:#e6ffe6;\">'+u+\"</ins>\";break;case-1:t[s]='<del style=\"background:#ffe6e6;\">'+u+\"</del>\";break;case 0:t[s]=\"<span>\"+u+\"</span>\"}}return t.join(\"\")},r.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join(\"\")},r.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join(\"\")},r.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,o=0;o<e.length;o++){var i=e[o][0],s=e[o][1];switch(i){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},r.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]=\"+\"+encodeURI(e[r][1]);break;case-1:t[r]=\"-\"+e[r][1].length;break;case 0:t[r]=\"=\"+e[r][1].length}return t.join(\"\\t\").replace(/%20/g,\" \")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],o=0,i=0,s=t.split(/\\t/g),a=0;a<s.length;a++){var u=s[a].substring(1);switch(s[a].charAt(0)){case\"+\":try{n[o++]=new r.Diff(1,decodeURI(u))}catch(e){throw new Error(\"Illegal escape in diff_fromDelta: \"+u)}break;case\"-\":case\"=\":var c=parseInt(u,10);if(isNaN(c)||c<0)throw new Error(\"Invalid number in diff_fromDelta: \"+u);var l=e.substring(i,i+=c);\"=\"==s[a].charAt(0)?n[o++]=new r.Diff(0,l):n[o++]=new r.Diff(-1,l);break;default:if(s[a])throw new Error(\"Invalid diff operation in diff_fromDelta: \"+s[a])}}if(i!=e.length)throw new Error(\"Delta length (\"+i+\") does not equal source text length (\"+e.length+\").\");return n},r.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error(\"Null input. (match_main)\");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},r.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error(\"Pattern too long for this browser.\");var n=this.match_alphabet_(t),o=this;function i(e,n){var i=e/t.length,s=Math.abs(r-n);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(i(0,a),s)));var u,c,l=1<<t.length-1;a=-1;for(var f,h=t.length+e.length,p=0;p<t.length;p++){for(u=0,c=h;u<c;)i(p,r+c)<=s?u=c:h=c,c=Math.floor((h-u)/2+u);h=c;var d=Math.max(1,r-c+1),g=Math.min(r+c,e.length)+t.length,y=Array(g+2);y[g+1]=(1<<p)-1;for(var m=g;m>=d;m--){var v=n[e.charAt(m-1)];if(y[m]=0===p?(y[m+1]<<1|1)&v:(y[m+1]<<1|1)&v|(f[m+1]|f[m])<<1|1|f[m+1],y[m]&l){var b=i(p,m-1);if(b<=s){if(s=b,!((a=m-1)>r))break;d=Math.max(1,2*r-a)}}}if(i(p+1,r)>s)break;f=y}return a},r.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error(\"patch not initialized\");for(var n=t.substring(e.start2,e.start2+e.length1),o=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,n=t.substring(e.start2-o,e.start2+e.length1+o);o+=this.Patch_Margin;var i=t.substring(e.start2-o,e.start2);i&&e.diffs.unshift(new r.Diff(0,i));var s=t.substring(e.start2+e.length1,e.start2+e.length1+o);s&&e.diffs.push(new r.Diff(0,s)),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+s.length,e.length2+=i.length+s.length}},r.prototype.patch_make=function(e,t,n){var o,i;if(\"string\"==typeof e&&\"string\"==typeof t&&void 0===n)o=e,(i=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&\"object\"==typeof e&&void 0===t&&void 0===n)i=e,o=this.diff_text1(i);else if(\"string\"==typeof e&&t&&\"object\"==typeof t&&void 0===n)o=e,i=t;else{if(\"string\"!=typeof e||\"string\"!=typeof t||!n||\"object\"!=typeof n)throw new Error(\"Unknown call format to patch_make.\");o=e,i=n}if(0===i.length)return[];for(var s=[],a=new r.patch_obj,u=0,c=0,l=0,f=o,h=o,p=0;p<i.length;p++){var d=i[p][0],g=i[p][1];switch(u||0===d||(a.start1=c,a.start2=l),d){case 1:a.diffs[u++]=i[p],a.length2+=g.length,h=h.substring(0,l)+g+h.substring(l);break;case-1:a.length1+=g.length,a.diffs[u++]=i[p],h=h.substring(0,l)+h.substring(l+g.length);break;case 0:g.length<=2*this.Patch_Margin&&u&&i.length!=p+1?(a.diffs[u++]=i[p],a.length1+=g.length,a.length2+=g.length):g.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(a,f),s.push(a),a=new r.patch_obj,u=0,f=h,c=l)}1!==d&&(c+=g.length),-1!==d&&(l+=g.length)}return u&&(this.patch_addContext_(a,f),s.push(a)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],i=new r.patch_obj;i.diffs=[];for(var s=0;s<o.diffs.length;s++)i.diffs[s]=new r.Diff(o.diffs[s][0],o.diffs[s][1]);i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,t[n]=i}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,o=[],i=0;i<e.length;i++){var s,a,u=e[i].start2+n,c=this.diff_text1(e[i].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(s=this.match_main(t,c.substring(0,this.Match_MaxBits),u))&&(-1==(l=this.match_main(t,c.substring(c.length-this.Match_MaxBits),u+c.length-this.Match_MaxBits))||s>=l)&&(s=-1):s=this.match_main(t,c,u),-1==s)o[i]=!1,n-=e[i].length2-e[i].length1;else if(o[i]=!0,n=s-u,c==(a=-1==l?t.substring(s,s+c.length):t.substring(s,l+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[i].diffs)+t.substring(s+c.length);else{var f=this.diff_main(c,a,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(f)/c.length>this.Patch_DeleteThreshold)o[i]=!1;else{this.diff_cleanupSemanticLossless(f);for(var h,p=0,d=0;d<e[i].diffs.length;d++){var g=e[i].diffs[d];0!==g[0]&&(h=this.diff_xIndex(f,p)),1===g[0]?t=t.substring(0,s+h)+g[1]+t.substring(s+h):-1===g[0]&&(t=t.substring(0,s+h)+t.substring(s+this.diff_xIndex(f,p+g[1].length))),-1!==g[0]&&(p+=g[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),o]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n=\"\",o=1;o<=t;o++)n+=String.fromCharCode(o);for(o=0;o<e.length;o++)e[o].start1+=t,e[o].start2+=t;var i=e[0],s=i.diffs;if(0==s.length||0!=s[0][0])s.unshift(new r.Diff(0,n)),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>s[0][1].length){var a=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}if(0==(s=(i=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new r.Diff(0,n)),i.length1+=t,i.length2+=t;else if(t>s[s.length-1][1].length){a=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,a),i.length1+=a,i.length2+=a}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var o=e[n];e.splice(n--,1);for(var i=o.start1,s=o.start2,a=\"\";0!==o.diffs.length;){var u=new r.patch_obj,c=!0;for(u.start1=i-a.length,u.start2=s-a.length,\"\"!==a&&(u.length1=u.length2=a.length,u.diffs.push(new r.Diff(0,a)));0!==o.diffs.length&&u.length1<t-this.Patch_Margin;){var l=o.diffs[0][0],f=o.diffs[0][1];1===l?(u.length2+=f.length,s+=f.length,u.diffs.push(o.diffs.shift()),c=!1):-1===l&&1==u.diffs.length&&0==u.diffs[0][0]&&f.length>2*t?(u.length1+=f.length,i+=f.length,c=!1,u.diffs.push(new r.Diff(l,f)),o.diffs.shift()):(f=f.substring(0,t-u.length1-this.Patch_Margin),u.length1+=f.length,i+=f.length,0===l?(u.length2+=f.length,s+=f.length):c=!1,u.diffs.push(new r.Diff(l,f)),f==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(f.length))}a=(a=this.diff_text2(u.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);\"\"!==h&&(u.length1+=h.length,u.length2+=h.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=h:u.diffs.push(new r.Diff(0,h))),c||e.splice(++n,0,u)}}},r.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join(\"\")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split(\"\\n\"),o=0,i=/^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;o<n.length;){var s=n[o].match(i);if(!s)throw new Error(\"Invalid patch string: \"+n[o]);var a=new r.patch_obj;for(t.push(a),a.start1=parseInt(s[1],10),\"\"===s[2]?(a.start1--,a.length1=1):\"0\"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),\"\"===s[4]?(a.start2--,a.length2=1):\"0\"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),o++;o<n.length;){var u=n[o].charAt(0);try{var c=decodeURI(n[o].substring(1))}catch(e){throw new Error(\"Illegal escape in patch_fromText: \"+c)}if(\"-\"==u)a.diffs.push(new r.Diff(-1,c));else if(\"+\"==u)a.diffs.push(new r.Diff(1,c));else if(\" \"==u)a.diffs.push(new r.Diff(0,c));else{if(\"@\"==u)break;if(\"\"!==u)throw new Error('Invalid patch mode \"'+u+'\" in: '+c)}o++}}return t},(r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=[\"@@ -\"+(0===this.length1?this.start1+\",0\":1==this.length1?this.start1+1:this.start1+1+\",\"+this.length1)+\" +\"+(0===this.length2?this.start2+\",0\":1==this.length2?this.start2+1:this.start2+1+\",\"+this.length2)+\" @@\\n\"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e=\"+\";break;case-1:e=\"-\";break;case 0:e=\" \"}t[r+1]=e+encodeURI(this.diffs[r][1])+\"\\n\"}return t.join(\"\").replace(/%20/g,\" \")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+t.stack)}else n&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(101),i=r(21),s=r(65),a=r(48),u=a.validateObject,c=a.validateInsert;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=e,this.operations=i({},t),this.client=r}i(l.prototype,{clone:function(){return new l(this.selection,i({},this.operations),this.client)},merge:function(e){u(\"merge\",e);var t=(new Error).stack.toString().split(\"\\n\").filter((function(e){return e.trim()})).slice(2);return console.warn('The \"merge\" patch has been deprecated and will be removed in the future\\n'.concat(t.join(\"\\n\"))),this._assign(\"merge\",o(this.operations.merge||{},e))},set:function(e){return this._assign(\"set\",e)},diffMatchPatch:function(e){return u(\"diffMatchPatch\",e),this._assign(\"diffMatchPatch\",e)},unset:function(e){if(!Array.isArray(e))throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");return this.operations=i({},this.operations,{unset:e}),this},setIfMissing:function(e){return this._assign(\"setIfMissing\",e)},replace:function(e){return u(\"replace\",e),this._set(\"set\",{$:e})},inc:function(e){return this._assign(\"inc\",e)},dec:function(e){return this._assign(\"dec\",e)},insert:function(e,t,r){var o;return c(e,t,r),this._assign(\"insert\",(n(o={},e,t),n(o,\"items\",r),o))},append:function(e,t){return this.insert(\"after\",\"\".concat(e,\"[-1]\"),t)},prepend:function(e,t){return this.insert(\"before\",\"\".concat(e,\"[0]\"),t)},splice:function(e,t,r,n){var o=t<0?t-1:t,i=void 0===r||-1===r?-1:Math.max(0,t+r),s=o<0&&i>=0?\"\":i,a=\"\".concat(e,\"[\").concat(o,\":\").concat(s,\"]\");return this.insert(\"replace\",a,n||[])},ifRevisionId:function(e){return this.operations.ifRevisionID=e,this},serialize:function(){return i(s(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");var t=\"string\"==typeof this.selection,r=i({returnFirst:t,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},r)},reset:function(){return this.operations={},this},_set:function(e,t){return this._assign(e,t,!1)},_assign:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u(e,t),this.operations=i({},this.operations,n({},e,i({},r&&this.operations[e]||{},t))),this}}),e.exports=l},function(e,t){e.exports=require(\"events\")},function(e,t,r){\"use strict\";const n=r(181),o=r(182),i=r(187).stdout,s=r(190),a=\"win32\"===process.platform&&!(process.env.TERM||\"\").toLowerCase().startsWith(\"xterm\"),u=[\"ansi\",\"ansi\",\"ansi256\",\"ansi16m\"],c=new Set([\"gray\"]),l=Object.create(null);function f(e,t){t=t||{};const r=i?i.level:0;e.level=void 0===t.level?r:t.level,e.enabled=\"enabled\"in t?t.enabled:e.level>0}function h(e){if(!this||!(this instanceof h)||this.template){const t={};return f(t,e),t.template=function(){const e=[].slice.call(arguments);return y.apply(null,[t.template].concat(e))},Object.setPrototypeOf(t,h.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=h,t.template}f(this,e)}a&&(o.blue.open=\"\u001b[94m\");for(const e of Object.keys(o))o[e].closeRe=new RegExp(n(o[e].close),\"g\"),l[e]={get(){const t=o[e];return d.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}};l.visible={get(){return d.call(this,this._styles||[],!0,\"visible\")}},o.color.closeRe=new RegExp(n(o.color.close),\"g\");for(const e of Object.keys(o.color.ansi))c.has(e)||(l[e]={get(){const t=this.level;return function(){const r=o.color[u[t]][e].apply(null,arguments),n={open:r,close:o.color.close,closeRe:o.color.closeRe};return d.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}});o.bgColor.closeRe=new RegExp(n(o.bgColor.close),\"g\");for(const e of Object.keys(o.bgColor.ansi)){if(c.has(e))continue;l[\"bg\"+e[0].toUpperCase()+e.slice(1)]={get(){const t=this.level;return function(){const r=o.bgColor[u[t]][e].apply(null,arguments),n={open:r,close:o.bgColor.close,closeRe:o.bgColor.closeRe};return d.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}}}const p=Object.defineProperties(()=>{},l);function d(e,t,r){const n=function(){return g.apply(n,arguments)};n._styles=e,n._empty=t;const o=this;return Object.defineProperty(n,\"level\",{enumerable:!0,get:()=>o.level,set(e){o.level=e}}),Object.defineProperty(n,\"enabled\",{enumerable:!0,get:()=>o.enabled,set(e){o.enabled=e}}),n.hasGrey=this.hasGrey||\"gray\"===r||\"grey\"===r,n.__proto__=p,n}function g(){const e=arguments,t=e.length;let r=String(arguments[0]);if(0===t)return\"\";if(t>1)for(let n=1;n<t;n++)r+=\" \"+e[n];if(!this.enabled||this.level<=0||!r)return this._empty?\"\":r;const n=o.dim.open;a&&this.hasGrey&&(o.dim.open=\"\");for(const e of this._styles.slice().reverse())r=e.open+r.replace(e.closeRe,e.open)+e.close,r=r.replace(/\\r?\\n/g,`${e.close}$&${e.open}`);return o.dim.open=n,r}function y(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(\" \");const r=[].slice.call(arguments,2),n=[t.raw[0]];for(let e=1;e<t.length;e++)n.push(String(r[e-1]).replace(/[{}\\\\]/g,\"\\\\$&\")),n.push(String(t.raw[e]));return s(e,n.join(\"\"))}Object.defineProperties(h.prototype,l),e.exports=h(),e.exports.supportsColor=i,e.exports.default=e.exports},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isFunction=function(e){return\"function\"==typeof e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(57),o=r(63);t.empty={closed:!0,next:function(e){},error:function(e){if(n.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.rxSubscriber=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},function(e,t,r){\"use strict\";e.exports=function(e){if(\"string\"==typeof e||Array.isArray(e))return{id:e};if(e&&e.query)return{query:e.query};var t=[\"* Document ID (<docId>)\",\"* Array of document IDs\",\"* Object containing `query`\"].join(\"\\n\");throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(t))}},function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(21),i=r(48),s=r(58),a={returnDocuments:!1};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=e,this.client=t}o(u.prototype,{clone:function(){return new u(this.operations.slice(0),this.client,this.trxId)},create:function(e){return i.validateObject(\"create\",e),this._add({create:e})},createIfNotExists:function(e){var t=\"createIfNotExists\";return i.validateObject(t,e),i.requireDocumentId(t,e),this._add(n({},t,e))},createOrReplace:function(e){var t=\"createOrReplace\";return i.validateObject(t,e),i.requireDocumentId(t,e),this._add(n({},t,e))},delete:function(e){return i.validateDocumentId(\"delete\",e),this._add({delete:{id:e}})},patch:function(e,t){var r=\"function\"==typeof t;if(e instanceof s)return this._add({patch:e.serialize()});if(r){var n=t(new s(e,{},this.client));if(!(n instanceof s))throw new Error(\"function passed to `patch()` must return the patch\");return this._add({patch:n.serialize()})}return this._add({patch:o({id:e},t)})},transactionId:function(e){return e?(this.trxId=e,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(e){if(!this.client)throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");return this.client.mutate(this.serialize(),o({transactionId:this.trxId},a,e||{}))},reset:function(){return this.operations=[],this},_add:function(e){return this.operations.push(e),this}}),e.exports=u},function(e,t,r){\"use strict\";var n=encodeURIComponent;e.exports=function(e){var t=e.query,r=e.params,o=void 0===r?{}:r,i=e.options,s=void 0===i?{}:i,a=\"?query=\".concat(n(t)),u=Object.keys(o).reduce((function(e,t){return\"\".concat(e,\"&\").concat(n(\"$\".concat(t)),\"=\").concat(n(JSON.stringify(o[t])))}),a);return Object.keys(s).reduce((function(e,t){return s[t]?\"\".concat(e,\"&\").concat(n(t),\"=\").concat(n(s[t])):e}),u)}},function(e,t,r){e.exports=r(105)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(106),o=r(107),i=r(108),s=r(70),a=r(57),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),n.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=c(t))((function(t,n){var o;o=r.subscribe((function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error(\"no Promise impl found\");return e}t.Observable=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(109);function o(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},function(e,t,r){\"use strict\";var n=r(120),o=r(121),i=/^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//,s=/^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i,a=new RegExp(\"^[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]+\");function u(e){return(e||\"\").toString().replace(a,\"\")}var c=[[\"#\",\"hash\"],[\"?\",\"query\"],function(e){return e.replace(\"\\\\\",\"/\")},[\"/\",\"pathname\"],[\"@\",\"auth\",1],[NaN,\"host\",void 0,1,1],[/:(\\d+)$/,\"port\",void 0,1],[NaN,\"hostname\",void 0,1,1]],l={hash:1,query:1};function f(e){var t,r=(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{}).location||{},n={},o=typeof(e=e||r);if(\"blob:\"===e.protocol)n=new p(unescape(e.pathname),{});else if(\"string\"===o)for(t in n=new p(e,{}),l)delete n[t];else if(\"object\"===o){for(t in e)t in l||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=i.test(e.href))}return n}function h(e){e=u(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():\"\",slashes:!!t[2],rest:t[3]}}function p(e,t,r){if(e=u(e),!(this instanceof p))return new p(e,t,r);var i,s,a,l,d,g,y=c.slice(),m=typeof t,v=this,b=0;for(\"object\"!==m&&\"string\"!==m&&(r=t,t=null),r&&\"function\"!=typeof r&&(r=o.parse),t=f(t),i=!(s=h(e||\"\")).protocol&&!s.slashes,v.slashes=s.slashes||i&&t.slashes,v.protocol=s.protocol||t.protocol||\"\",e=s.rest,s.slashes||(y[3]=[/(.*)/,\"pathname\"]);b<y.length;b++)\"function\"!=typeof(l=y[b])?(a=l[0],g=l[1],a!=a?v[g]=e:\"string\"==typeof a?~(d=e.indexOf(a))&&(\"number\"==typeof l[2]?(v[g]=e.slice(0,d),e=e.slice(d+l[2])):(v[g]=e.slice(d),e=e.slice(0,d))):(d=a.exec(e))&&(v[g]=d[1],e=e.slice(0,d.index)),v[g]=v[g]||i&&l[3]&&t[g]||\"\",l[4]&&(v[g]=v[g].toLowerCase())):e=l(e);r&&(v.query=r(v.query)),i&&t.slashes&&\"/\"!==v.pathname.charAt(0)&&(\"\"!==v.pathname||\"\"!==t.pathname)&&(v.pathname=function(e,t){if(\"\"===e)return t;for(var r=(t||\"/\").split(\"/\").slice(0,-1).concat(e.split(\"/\")),n=r.length,o=r[n-1],i=!1,s=0;n--;)\".\"===r[n]?r.splice(n,1):\"..\"===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(\"\"),\".\"!==o&&\"..\"!==o||r.push(\"\"),r.join(\"/\")}(v.pathname,t.pathname)),n(v.port,v.protocol)||(v.host=v.hostname,v.port=\"\"),v.username=v.password=\"\",v.auth&&(l=v.auth.split(\":\"),v.username=l[0]||\"\",v.password=l[1]||\"\"),v.origin=v.protocol&&v.host&&\"file:\"!==v.protocol?v.protocol+\"//\"+v.host:\"null\",v.href=v.toString()}p.prototype={set:function(e,t,r){var i=this;switch(e){case\"query\":\"string\"==typeof t&&t.length&&(t=(r||o.parse)(t)),i[e]=t;break;case\"port\":i[e]=t,n(t,i.protocol)?t&&(i.host=i.hostname+\":\"+t):(i.host=i.hostname,i[e]=\"\");break;case\"hostname\":i[e]=t,i.port&&(t+=\":\"+i.port),i.host=t;break;case\"host\":i[e]=t,/:\\d+$/.test(t)?(t=t.split(\":\"),i.port=t.pop(),i.hostname=t.join(\":\")):(i.hostname=t,i.port=\"\");break;case\"protocol\":i.protocol=t.toLowerCase(),i.slashes=!r;break;case\"pathname\":case\"hash\":if(t){var s=\"pathname\"===e?\"/\":\"#\";i[e]=t.charAt(0)!==s?s+t:t}else i[e]=t;break;default:i[e]=t}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&\"file:\"!==i.protocol?i.protocol+\"//\"+i.host:\"null\",i.href=i.toString(),i},toString:function(e){e&&\"function\"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&\":\"!==n.charAt(n.length-1)&&(n+=\":\");var i=n+(r.slashes?\"//\":\"\");return r.username&&(i+=r.username,r.password&&(i+=\":\"+r.password),i+=\"@\"),i+=r.host+r.pathname,(t=\"object\"==typeof r.query?e(r.query):r.query)&&(i+=\"?\"!==t.charAt(0)?\"?\"+t:t),r.hash&&(i+=r.hash),i}},p.extractProtocol=h,p.location=f,p.trimLeft=u,p.qs=o,e.exports=p},function(e,t){e.exports=function(e){return\"https://docs.sanity.io/help/\"+e}},function(e,t,r){\"use strict\";e.exports=function(e){var t,r=!1;return function(){return r||(t=e.apply(void 0,arguments),r=!0),t}}},function(e,t,r){var n=r(6);\"disable\"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(75)).Stream=n||t,t.Readable=t,t.Writable=r(78),t.Duplex=r(50),t.Transform=r(80),t.PassThrough=r(150))},function(e,t,r){\"use strict\";var n=r(55);e.exports=v;var o,i=r(145);v.ReadableState=m;r(59).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(76),u=r(51).Buffer,c=global.Uint8Array||function(){};var l=Object.create(r(52));l.inherits=r(49);var f=r(20),h=void 0;h=f&&f.debuglog?f.debuglog(\"stream\"):function(){};var p,d=r(148),g=r(77);l.inherits(v,a);var y=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(50));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(79).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||r(50),!(this instanceof v))return new v(e);this._readableState=new m(e,this),this.readable=!0,e&&(\"function\"==typeof e.read&&(this._read=e.read),\"function\"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,r,n,o){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,x(e)}(e,s)):(o||(i=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||\"string\"==typeof t||void 0===t||e.objectMode||(r=new TypeError(\"Invalid non-string/buffer chunk\"));var n;return r}(s,t)),i?e.emit(\"error\",i):s.objectMode||t&&t.length>0?(\"string\"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit(\"error\",new Error(\"stream.unshift() after end event\")):w(e,s,t,!0):s.ended?e.emit(\"error\",new Error(\"stream.push() after EOF\")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):O(e,s)):w(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit(\"data\",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),O(e,t)}Object.defineProperty(v.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=\"\"),r=!0),b(this,e,t,!1,r)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=r(79).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h(\"emitReadable\",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(E,e):E(e))}function E(e){h(\"emit readable\"),e.emit(\"readable\"),R(e)}function O(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(S,e,t))}function S(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h(\"maybeReadMore read 0\"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function j(e){h(\"readable nexttick read 0\"),e.read(0)}function k(e,t){t.reading||(h(\"resume read 0\"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit(\"resume\"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(h(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;e-=o.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,o=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++o}return t.length-=o,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('\"endReadable()\" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"))}function A(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){h(\"read\",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?T(this):x(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,o=t.needReadable;return h(\"need readable\",o),(0===t.length||t.length-e<t.highWaterMark)&&h(\"length less than watermark\",o=!0),t.ended||t.reading?h(\"reading or ended\",o=!1):o&&(h(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit(\"data\",n),n},v.prototype._read=function(e){this.emit(\"error\",new Error(\"_read() is not implemented\"))},v.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h(\"pipe count=%d opts=%j\",o.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:v;function u(t,n){h(\"onunpipe\"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h(\"cleanup\"),e.removeListener(\"close\",y),e.removeListener(\"finish\",m),e.removeListener(\"drain\",l),e.removeListener(\"error\",g),e.removeListener(\"unpipe\",u),r.removeListener(\"end\",c),r.removeListener(\"end\",v),r.removeListener(\"data\",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){h(\"onend\"),e.end()}o.endEmitted?n.nextTick(a):r.once(\"end\",a),e.on(\"unpipe\",u);var l=function(e){return function(){var t=e._readableState;h(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,\"data\")&&(t.flowing=!0,R(e))}}(r);e.on(\"drain\",l);var f=!1;var p=!1;function d(t){h(\"ondata\"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==A(o.pipes,e))&&!f&&(h(\"false write response, pause\",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(t){h(\"onerror\",t),v(),e.removeListener(\"error\",g),0===s(e,\"error\")&&e.emit(\"error\",t)}function y(){e.removeListener(\"finish\",m),v()}function m(){h(\"onfinish\"),e.removeListener(\"close\",y),v()}function v(){h(\"unpipe\"),r.unpipe(e)}return r.on(\"data\",d),function(e,t,r){if(\"function\"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,\"error\",g),e.once(\"close\",y),e.once(\"finish\",m),e.emit(\"pipe\",r),o.flowing||(h(\"pipe resume\"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit(\"unpipe\",this,r);return this}var s=A(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,r)),this},v.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if(\"data\"===e)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===e){var o=this._readableState;o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.emittedReadable=!1,o.reading?o.length&&x(this):n.nextTick(j,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h(\"resume\"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(k,e,t))}(this,e)),this},v.prototype.pause=function(){return h(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(h(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on(\"end\",(function(){if(h(\"wrapped end\"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on(\"data\",(function(o){(h(\"wrapped data\"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&\"function\"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<y.length;i++)e.on(y[i],this.emit.bind(this,y[i]));return this._read=function(t){h(\"wrapped _read\",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=C},function(e,t,r){e.exports=r(6)},function(e,t,r){\"use strict\";var n=r(55);function o(e,t){e.emit(\"error\",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){\"use strict\";var n=r(55);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var i,s=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;y.WritableState=g;var a=Object.create(r(52));a.inherits=r(49);var u={deprecate:r(149)},c=r(76),l=r(51).Buffer,f=global.Uint8Array||function(){};var h,p=r(77);function d(){}function g(e,t){i=i||r(50),e=e||{};var a=t instanceof i;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:a&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,o=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,o,i){--t.pendingcb,r?(n.nextTick(i,o),n.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit(\"error\",o)):(i(o),e._writableState.errorEmitted=!0,e.emit(\"error\",o),x(e,t))}(e,r,o,t,i);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||b(e,r),o?s(v,e,r,a,i):v(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(i=i||r(50),!(h.call(y,this)||this instanceof i))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),c.call(this)}function m(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,n(),x(e,t)}function b(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,m(e,t,!0,t.length,i,\"\",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&e.emit(\"error\",r),t.prefinished=!0,e.emit(\"prefinish\"),x(e,t)}))}function x(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||(\"function\"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(_,e,t)):(t.prefinished=!0,e.emit(\"prefinish\")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"))),r}a.inherits(y,c),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,\"buffer\",{get:u.deprecate((function(){return this.getBuffer()}),\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):h=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},y.prototype.write=function(e,t,r){var o,i=this._writableState,s=!1,a=!i.objectMode&&(o=e,l.isBuffer(o)||o instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),\"function\"==typeof t&&(r=t,t=null),a?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof r&&(r=d),i.ended?function(e,t){var r=new Error(\"write after end\");e.emit(\"error\",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,o){var i=!0,s=!1;return null===r?s=new TypeError(\"May not write null values to stream\"):\"string\"==typeof r||void 0===r||t.objectMode||(s=new TypeError(\"Invalid non-string/buffer chunk\")),s&&(e.emit(\"error\",s),n.nextTick(o,s),i=!1),i}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,o,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=l.from(t,r));return t}(t,n,o);n!==s&&(r=!0,o=\"buffer\",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,n,o,i);return u}(this,i,a,e,t,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},y.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,r){r(new Error(\"_write() is not implemented\"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var o=this._writableState;\"function\"==typeof e?(r=e,e=null,t=null):\"function\"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?n.nextTick(r):e.once(\"finish\",r));t.ended=!0,e.writable=!1}(this,o,r)},Object.defineProperty(y.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){\"use strict\";var n=r(51).Buffer,o=n.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(e);if(\"string\"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error(\"Unknown encoding: \"+e);return t||e}(e),this.encoding){case\"utf16le\":this.text=u,this.end=c,t=4;break;case\"utf8\":this.fillLast=a,t=4;break;case\"base64\":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,\"�\";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"�\";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"�\"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString(\"utf16le\",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString(\"base64\",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):\"\"}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return\"\";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||\"\"},i.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"�\":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=s(t[n]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=s(t[n]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=s(t[n]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString(\"utf8\",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){\"use strict\";e.exports=s;var n=r(50),o=Object.create(r(52));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit(\"error\",new Error(\"write callback called multiple times\"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",a)}function a(){var e=this;\"function\"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit(\"error\",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(e._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return e.push(null)}o.inherits=r(49),o.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error(\"_transform() is not implemented\")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit(\"close\")}))}},function(e,t,r){var n=r(152),o=r(154);e.exports=function(t,r){if(\"function\"==typeof t)return e.exports(null,t);var i=(t=t||{}).length||0,s=t.time||0,a=t.drain||!1,u=t.transferred||0,c=Date.now()+s,l=0,f=o(t.speed||5e3),h=Date.now(),p={percentage:0,transferred:u,length:i,remaining:i,eta:0,runtime:0},d=function(e){p.delta=l,p.percentage=e?100:i?u/i*100:0,p.speed=f(l),p.eta=Math.round(p.remaining/p.speed),p.runtime=parseInt((Date.now()-h)/1e3),c=Date.now()+s,l=0,g.emit(\"progress\",p)},g=n(t.objectMode?{objectMode:!0,highWaterMark:16}:{},(function(e,r,n){var o=t.objectMode?1:e.length;u+=o,l+=o,p.transferred=u,p.remaining=i>=u?i-u:0,Date.now()>=c&&d(!1),n(null,e)}),(function(e){d(!0),e()})),y=function(e){i=e,p.length=i,p.remaining=i-p.transferred,g.emit(\"length\",i)};return g.setLength=y,g.on(\"pipe\",(function(e){if(\"number\"!=typeof i)return e.readable&&!e.writable&&e.headers?y(parseInt(e.headers[\"content-length\"]||0)):\"number\"==typeof e.length?y(e.length):void e.on(\"response\",(function(e){if(e&&e.headers&&\"gzip\"!==e.headers[\"content-encoding\"])return e.headers[\"content-length\"]?y(parseInt(e.headers[\"content-length\"])):void 0}))})),a&&g.resume(),r&&g.on(\"progress\",r),g.progress=function(){return p.speed=f(0),p.eta=Math.round(p.remaining/p.speed),p},g}},function(e,t,r){var n=r(185),o={};for(var i in n)n.hasOwnProperty(i)&&(o[n[i]]=i);var s=e.exports={rgb:{channels:3,labels:\"rgb\"},hsl:{channels:3,labels:\"hsl\"},hsv:{channels:3,labels:\"hsv\"},hwb:{channels:3,labels:\"hwb\"},cmyk:{channels:4,labels:\"cmyk\"},xyz:{channels:3,labels:\"xyz\"},lab:{channels:3,labels:\"lab\"},lch:{channels:3,labels:\"lch\"},hex:{channels:1,labels:[\"hex\"]},keyword:{channels:1,labels:[\"keyword\"]},ansi16:{channels:1,labels:[\"ansi16\"]},ansi256:{channels:1,labels:[\"ansi256\"]},hcg:{channels:3,labels:[\"h\",\"c\",\"g\"]},apple:{channels:3,labels:[\"r16\",\"g16\",\"b16\"]},gray:{channels:1,labels:[\"gray\"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!(\"channels\"in s[a]))throw new Error(\"missing channels property: \"+a);if(!(\"labels\"in s[a]))throw new Error(\"missing channel labels property: \"+a);if(s[a].labels.length!==s[a].channels)throw new Error(\"channel and label counts mismatch: \"+a);var u=s[a].channels,c=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],\"channels\",{value:u}),Object.defineProperty(s[a],\"labels\",{value:c})}s.rgb.hsl=function(e){var t,r,n=e[0]/255,o=e[1]/255,i=e[2]/255,s=Math.min(n,o,i),a=Math.max(n,o,i),u=a-s;return a===s?t=0:n===a?t=(o-i)/u:o===a?t=2+(i-n)/u:i===a&&(t=4+(n-o)/u),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?u/(a+s):u/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,n,o,i,s=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),f=function(e){return(c-e)/6/l+.5};return 0===l?o=i=0:(i=l/c,t=f(s),r=f(a),n=f(u),s===c?o=n-r:a===c?o=1/3+t-n:u===c&&(o=2/3+r-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},s.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,o=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-o)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=o[e];if(t)return t;var r,i,s,a=1/0;for(var u in n)if(n.hasOwnProperty(u)){var c=n[u],l=(i=e,s=c,Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)+Math.pow(i[2]-s[2],2));l<a&&(a=l,r=u)}return r},s.keyword.rgb=function(e){return n[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],n=t[1],o=t[2];return n/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},s.hsl.rgb=function(e){var t,r,n,o,i,s=e[0]/360,a=e[1]/100,u=e[2]/100;if(0===a)return[i=255*u,i,i];t=2*u-(r=u<.5?u*(1+a):u+a-u*a),o=[0,0,0];for(var c=0;c<3;c++)(n=s+1/3*-(c-1))<0&&n++,n>1&&n--,i=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,o[c]=255*i;return o},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,o=r,i=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,o*=i<=1?i:2-i,[t,100*(0===n?2*o/(i+o):2*r/(n+r)),100*((n+r)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*i),u=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}},s.hsv.hsl=function(e){var t,r,n,o=e[0],i=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return n=(2-i)*s,r=i*a,[o,100*(r=(r/=(t=(2-i)*a)<=1?t:2-t)||0),100*(n/=2)]},s.hwb.rgb=function(e){var t,r,n,o,i,s,a,u=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),n=6*u-(t=Math.floor(6*u)),0!=(1&t)&&(n=1-n),o=c+n*((r=1-l)-c),t){default:case 6:case 0:i=r,s=o,a=c;break;case 1:i=o,s=r,a=c;break;case 2:i=c,s=r,a=o;break;case 3:i=c,s=o,a=r;break;case 4:i=o,s=c,a=r;break;case 5:i=r,s=c,a=o}return[255*i,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},s.xyz.rgb=function(e){var t,r,n,o=e[0]/100,i=e[1]/100,s=e[2]/100;return r=-.9689*o+1.8758*i+.0415*s,n=.0557*o+-.204*i+1.057*s,t=(t=3.2406*o+-1.5372*i+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.lab.xyz=function(e){var t,r,n,o=e[0];t=e[1]/500+(r=(o+16)/116),n=r-e[2]/200;var i=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(n,3);return r=i>.008856?i:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},s.lab.lch=function(e){var t,r=e[0],n=e[1],o=e[2];return(t=360*Math.atan2(o,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+o*o),t]},s.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],o=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===o&&(i+=60),i},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return\"000000\".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split(\"\").map((function(e){return e+e})).join(\"\"));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},s.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.max(Math.max(r,n),o),s=Math.min(Math.min(r,n),o),a=i-s;return t=a<=0?0:i===r?(n-o)/a%6:i===n?2+(o-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,o=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(o=(r-.5*n)/(1-n)),[e[0],100*n,100*o]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var o,i=[0,0,0],s=t%1*6,a=s%1,u=1-a;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=u,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=u,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=u}return o=(1-r)*n,[255*(r*i[0]+o),255*(r*i[1]+o),255*(r*i[2]+o)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return\"000000\".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){\"use strict\";var n=r(21),o=r(53).filter,i=r(54).map,s=r(58),a=r(66),u=r(103),c=r(124),l=r(125),f=r(126),h=r(128),p=r(129),d=r(130),g=r(178),y=r(179),m=y.defaultConfig,v=y.initConfig;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;if(!(this instanceof b))return new b(e);if(this.config(e),this.assets=new f(this),this.datasets=new c(this),this.projects=new l(this),this.users=new h(this),this.auth=new p(this),this.clientConfig.isPromiseAPI){var t=n({},this.clientConfig,{isPromiseAPI:!1});this.observable=new b(t)}}n(b.prototype,u),n(b.prototype,{clone:function(){return new b(this.config())},config:function(e){if(void 0===e)return n({},this.clientConfig);if(this.observable){var t=n({},e,{isPromiseAPI:!1});this.observable.config(t)}return this.clientConfig=v(e,this.clientConfig||{}),this},getUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?this.clientConfig.cdnUrl:this.clientConfig.url;return\"\".concat(r,\"/\").concat(e.replace(/^\\//,\"\"))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var t=e.url||e.uri,r=this.clientConfig.useCdn&&[\"GET\",\"HEAD\"].indexOf(e.method||\"GET\")>=0&&0===t.indexOf(\"/data/\"),o=g(this.clientConfig,n({},e,{url:this.getUrl(t,r)}));return d(o,this.clientConfig.requester)},request:function(e){var t=this._requestObservable(e).pipe(o((function(e){return\"response\"===e.type})),i((function(e){return e.body})));return this.isPromiseAPI()?function(e){return e.toPromise()}(t):t}}),b.Patch=s,b.Transaction=a,b.ClientError=d.ClientError,b.ServerError=d.ServerError,b.requester=d.defaultRequester,e.exports=b},function(e,t){e.exports=require(\"crypto\")},,,,,,,,,function(e,t,r){const n=r(24),o=r(94);function i(e){console.log(\"[dotenv][DEBUG] \"+e)}const s=/^\\s*([\\w.-]+)\\s*=\\s*(.*)?\\s*$/,a=/\\\\n/g,u=/\\n|\\r|\\r\\n/;function c(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(u).forEach((function(e,t){const o=e.match(s);if(null!=o){const e=o[1];let t=o[2]||\"\";const r=t.length-1,i='\"'===t[0]&&'\"'===t[r];\"'\"===t[0]&&\"'\"===t[r]||i?(t=t.substring(1,r),i&&(t=t.replace(a,\"\\n\"))):t=t.trim(),n[e]=t}else r&&i(`did not match key and value when parsing line ${t+1}: ${e}`)})),n}e.exports.config=function(e){let t=o.resolve(process.cwd(),\".env\"),r=\"utf8\",s=!1;e&&(null!=e.path&&(t=e.path),null!=e.encoding&&(r=e.encoding),null!=e.debug&&(s=!0));try{const e=c(n.readFileSync(t,{encoding:r}),{debug:s});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?s&&i(`\"${t}\" is already defined in \\`process.env\\` and will not be overwritten`):process.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=c},function(e,t){e.exports=require(\"path\")},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(47);t.filter=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(97),o=r(98),i=r(61),s=r(99),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,a=this._ctorUnsubscribe,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var f=0;f<r.length;++f){r[f].remove(this)}if(i.isFunction(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(e){t=e instanceof s.UnsubscriptionError?u(e.errors):[e]}}if(n.isArray(l)){f=-1;for(var h=l.length;++f<h;){var p=l[f];if(o.isObject(p))try{p.unsubscribe()}catch(e){t=t||[],e instanceof s.UnsubscriptionError?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case\"function\":r=new e(t);case\"object\":if(r===this||r.closed||\"function\"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error(\"unrecognized teardown \"+t+\" added to Subscription.\")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof e){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isArray=Array.isArray||function(e){return e&&\"number\"==typeof e.length}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isObject=function(e){return null!==e&&\"object\"==typeof e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e){return Error.call(this),this.message=e?e.length+\" errors occurred during unsubscription:\\n\"+e.map((function(e,t){return t+1+\") \"+e.toString()})).join(\"\\n  \"):\"\",this.name=\"UnsubscriptionError\",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=n},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(47);t.map=function(e,t){return function(r){if(\"function\"!=typeof e)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();t.MapOperator=s;var a=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},function(e,t,r){\"use strict\";var n=r(102),o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError(\"Sources cannot be null or undefined\");return Object(e)}function a(e,t,r){var i=t[r];if(null!=i){if(o.call(e,r)&&(void 0===e[r]||null===e[r]))throw new TypeError(\"Cannot convert undefined or null to object (\"+r+\")\");o.call(e,r)&&n(i)?e[r]=u(Object(e[r]),t[r]):e[r]=i}}function u(e,t){if(e===t)return e;for(var r in t=Object(t))o.call(t,r)&&a(e,t,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),s=0;s<n.length;s++)i.call(t,n[s])&&a(e,t,n[s]);return e}e.exports=function(e){e=s(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},function(e,t,r){\"use strict\";e.exports=function(e){var t=typeof e;return null!==e&&(\"object\"===t||\"function\"===t)}},function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(21),i=r(53).filter,s=r(54).map,a=r(48),u=r(65),c=r(67),l=r(66),f=r(58),h=r(104),p=function(e,t){return!1===e?void 0:void 0===e?t:e},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{returnIds:!0,returnDocuments:p(e.returnDocuments,!0),visibility:e.visibility||\"sync\"}},g=function(e){return\"response\"===e.type},y=function(e){return e.body},m=function(e){return e.toPromise()};e.exports={listen:h,getDataUrl:function(e,t){var r=this.clientConfig,n=r.gradientMode?r.namespace:a.hasDataset(r),o=\"/\".concat(e,\"/\").concat(n),i=t?\"\".concat(o,\"/\").concat(t):o;return(this.clientConfig.gradientMode?i:\"/data\".concat(i)).replace(/\\/($|\\?)/,\"$1\")},fetch:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1===r.filterResponse?function(e){return e}:function(e){return e.result},o=this._dataRequest(\"query\",{query:e,params:t},r).pipe(s(n));return this.isPromiseAPI()?m(o):o},getDocument:function(e){var t={uri:this.getDataUrl(\"doc\",e),json:!0},r=this._requestObservable(t).pipe(i(g),s((function(e){return e.body.documents&&e.body.documents[0]})));return this.isPromiseAPI()?m(r):r},getDocuments:function(e){var t={uri:this.getDataUrl(\"doc\",e.join(\",\")),json:!0},r=this._requestObservable(t).pipe(i(g),s((function(t){var r,n,o=(r=t.body.documents||[],n=function(e){return e._id},r.reduce((function(e,t){return e[n(t)]=t,e}),Object.create(null)));return e.map((function(e){return o[e]||null}))})));return this.isPromiseAPI()?m(r):r},create:function(e,t){return this._create(e,\"create\",t)},createIfNotExists:function(e,t){return a.requireDocumentId(\"createIfNotExists\",e),this._create(e,\"createIfNotExists\",t)},createOrReplace:function(e,t){return a.requireDocumentId(\"createOrReplace\",e),this._create(e,\"createOrReplace\",t)},patch:function(e,t){return new f(e,t,this)},delete:function(e,t){return this.dataRequest(\"mutate\",{mutations:[{delete:u(e)}]},t)},mutate:function(e,t){var r=e instanceof f||e instanceof l?e.serialize():e,n=Array.isArray(r)?r:[r],o=t&&t.transactionId;return this.dataRequest(\"mutate\",{mutations:n,transactionId:o},t)},transaction:function(e){return new l(e,this)},dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(e,t,r);return this.isPromiseAPI()?m(n):n},_dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=\"mutate\"===e,a=!o&&c(t),u=!o&&a.length<11264,l=u?a:\"\",f=r.returnFirst,h=r.timeout,p=r.token,m=this.getDataUrl(e,l),v={method:u?\"GET\":\"POST\",uri:m,json:!0,body:u?void 0:t,query:o&&d(r),timeout:h,token:p};return this._requestObservable(v).pipe(i(g),s(y),s((function(e){if(!o)return e;var t=e.results||[];if(r.returnDocuments)return f?t[0]&&t[0].document:t.map((function(e){return e.document}));var i=f?\"documentId\":\"documentIds\",s=f?t[0]&&t[0].id:t.map((function(e){return e.id}));return n({transactionId:e.transactionId,results:t},i,s)})))},_create:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n({},t,e),s=o({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest(\"mutate\",{mutations:[i]},s)}}},function(e,t,r){\"use strict\";var n=r(21),o=r(68),i=r(117),s=r(122),a=r(123),u=r(67),c=r(72),l=r(73),f=[\"Using token with listeners is not supported in browsers. \",\"For more info, see \".concat(c(\"js-client-listener-tokens-browser\"),\".\")],h=l((function(){return console.warn(f.join(\" \"))})),p=Boolean(\"undefined\"!=typeof window&&window.EventSource),d=p?window.EventSource:i,g=[\"includePreviousRevision\",\"includeResult\",\"visibility\"],y={includeResult:!0};function m(e){try{var t=e.data&&JSON.parse(e.data)||{};return n({type:e.type},t)}catch(e){return e}}function v(e){if(e instanceof Error)return e;var t=m(e);return t instanceof Error?t:new Error(function(e){if(!e.error)return e.message||\"Unknown listener error\";if(e.error.description)return e.error.description;return\"string\"==typeof e.error?e.error:JSON.stringify(e.error,null,2)}(t))}e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a(r,y),i=s(n,g),c=u({query:e,params:t,options:i}),l=this.clientConfig,f=l.url,b=l.token,w=l.withCredentials,_=\"\".concat(f).concat(this.getDataUrl(\"listen\",c)),x=n.events?n.events:[\"mutation\"],E=-1!==x.indexOf(\"reconnect\");b&&p&&h();var O={};return(b||w)&&(O.withCredentials=!0),b&&(O.headers={Authorization:\"Bearer \".concat(b)}),new o((function(e){var t,r=c(),n=!1;function o(){n||(E&&e.next({type:\"reconnect\"}),n||r.readyState===d.CLOSED&&(u(),clearTimeout(t),t=setTimeout(l,100)))}function i(t){e.error(v(t))}function s(t){var r=m(t);return r instanceof Error?e.error(r):e.next(r)}function a(t){n=!0,u(),e.complete()}function u(){r.removeEventListener(\"error\",o,!1),r.removeEventListener(\"channelError\",i,!1),r.removeEventListener(\"disconnect\",a,!1),x.forEach((function(e){return r.removeEventListener(e,s,!1)})),r.close()}function c(){var e=new d(_,O);return e.addEventListener(\"error\",o,!1),e.addEventListener(\"channelError\",i,!1),e.addEventListener(\"disconnect\",a,!1),x.forEach((function(t){return e.addEventListener(t,s,!1)})),e}function l(){r=c()}return function(){n=!0,u()}}))}},function(e,t,r){\"use strict\";var n=r(69).Observable,o=r(21),i=r(54).map,s=r(53).filter,a=r(110).reduce;function u(){n.apply(this,arguments)}function c(e,t){var r=!1;return function(){return r||(r=!0,console.warn(new Error(\"Calling observable.\".concat(e,\"(...) is deprecated. Please use observable.pipe(\").concat(e,\"(...)) instead\")))),this.pipe(t.apply(this,arguments))}}u.prototype=Object.create(o(Object.create(null),n.prototype)),Object.defineProperty(u.prototype,\"constructor\",{value:u,enumerable:!1,writable:!0,configurable:!0}),u.prototype.lift=function(e){var t=new u;return t.source=this,t.operator=e,t},u.prototype.map=c(\"map\",i),u.prototype.filter=c(\"filter\",s),u.prototype.reduce=c(\"filter\",a),e.exports=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(47);t.canReportError=function(e){for(;e;){var t=e,r=t.closed,o=t.destination,i=t.isStopped;if(r||i)return!1;e=o&&o instanceof n.Subscriber?o:null}return!0}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(47),o=r(64),i=r(62);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.observable=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\"},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.identity=function(e){return e}},function(e,t,r){t.reduce=r(111).reduce},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(112),o=r(113),i=r(116),s=r(70);t.reduce=function(e,t){return arguments.length>=2?function(r){return s.pipe(n.scan(e,t),o.takeLast(1),i.defaultIfEmpty(t))(r)}:function(t){return s.pipe(n.scan((function(t,r,n){return e(t,r,n+1)})),o.takeLast(1))(t)}}},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(47);t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,r,n,o){var i=e.call(this,t)||this;return i.accumulator=r,i._seed=n,i.hasSeed=o,i.index=0,i}return o(t,e),Object.defineProperty(t.prototype,\"seed\",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(47),s=r(114),a=r(115);t.takeLast=function(e){return function(t){return 0===e?a.empty():t.lift(new u(e))}};var u=function(){function e(e){if(this.total=e,this.total<0)throw new s.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return o(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=t++%r;e.next(n[i])}e.complete()},t}(i.Subscriber)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}return e.prototype=Object.create(Error.prototype),e}();t.ArgumentOutOfRangeError=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(69);t.EMPTY=new n.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new n.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},function(e,t,r){\"use strict\";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(47);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},function(e,t,r){e.exports=r(118)},function(e,t,r){var n=r(119),o=r(4).parse,i=r(59),s=r(7),a=r(5),u=r(20),c=[\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"secureProtocol\",\"servername\",\"checkServerIdentity\"],l=[239,187,191];function f(e,t){var r=f.CONNECTING;Object.defineProperty(this,\"readyState\",{get:function(){return r}}),Object.defineProperty(this,\"url\",{get:function(){return e}});var i,u=this;function d(t){r!==f.CLOSED&&(r=f.CONNECTING,_(\"error\",new h(\"error\",{message:t})),b&&(e=b,b=null),setTimeout((function(){r===f.CONNECTING&&w()}),u.reconnectInterval))}u.reconnectInterval=1e3;var g=\"\";t&&t.headers&&t.headers[\"Last-Event-ID\"]&&(g=t.headers[\"Last-Event-ID\"],delete t.headers[\"Last-Event-ID\"]);var y=!1,m=\"\",v=\"\",b=null;function w(){var n=o(e),p=\"https:\"===n.protocol;if(n.headers={\"Cache-Control\":\"no-cache\",Accept:\"text/event-stream\"},g&&(n.headers[\"Last-Event-ID\"]=g),t&&t.headers)for(var m in t.headers){var v=t.headers[m];v&&(n.headers[m]=v)}if(n.rejectUnauthorized=!(t&&!t.rejectUnauthorized),t&&t.proxy){var E=o(t.proxy);p=\"https:\"===E.protocol,n.protocol=p?\"https:\":\"http:\",n.path=e,n.headers.Host=n.host,n.hostname=E.hostname,n.host=E.host,n.port=E.port}if(t&&t.https)for(var O in t.https)if(-1!==c.indexOf(O)){var S=t.https[O];void 0!==S&&(n[O]=S)}t&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),(i=(p?s:a).request(n,(function(t){if(500===t.statusCode||502===t.statusCode||503===t.statusCode||504===t.statusCode)return _(\"error\",new h(\"error\",{status:t.statusCode,message:t.statusMessage})),void d();if(301===t.statusCode||307===t.statusCode)return t.headers.location?(307===t.statusCode&&(b=e),e=t.headers.location,void process.nextTick(w)):void _(\"error\",new h(\"error\",{status:t.statusCode,message:t.statusMessage}));if(200!==t.statusCode)return _(\"error\",new h(\"error\",{status:t.statusCode,message:t.statusMessage})),u.close();r=f.OPEN,t.on(\"close\",(function(){t.removeAllListeners(\"close\"),t.removeAllListeners(\"end\"),d()})),t.on(\"end\",(function(){t.removeAllListeners(\"close\"),t.removeAllListeners(\"end\"),d()})),_(\"open\",new h(\"open\"));var n,o=!0;t.on(\"data\",(function(e){n=n?Buffer.concat([n,e]):e,o&&function(e){return l.every((function(t,r){return e[r]===t}))}(n)&&(n=n.slice(l.length)),o=!1;for(var t=0,r=n.length;t<r;){y&&(10===n[t]&&++t,y=!1);for(var i,s=-1,a=-1,u=t;s<0&&u<r;++u)58===(i=n[u])?a<0&&(a=u-t):13===i?(y=!0,s=u-t):10===i&&(s=u-t);if(s<0)break;x(n,t,a,s),t+=s+1}t===r?n=void 0:t>0&&(n=n.slice(t))}))}))).on(\"error\",(function(e){d(e.message)})),i.setNoDelay&&i.setNoDelay(!0),i.end()}function _(){u.listeners(arguments[0]).length>0&&u.emit.apply(u,arguments)}function x(t,r,o,i){if(0===i){if(m.length>0){var s=v||\"message\";_(s,new p(s,{data:m.slice(0,-1),lastEventId:g,origin:n(e)})),m=\"\"}v=void 0}else if(o>0){var a=o<0,c=0,l=t.slice(r,r+(a?i:o)).toString();r+=c=a?i:32!==t[r+o+1]?o+1:o+2;var f=i-c,h=t.slice(r,r+f).toString();if(\"data\"===l)m+=h+\"\\n\";else if(\"event\"===l)v=h;else if(\"id\"===l)g=h;else if(\"retry\"===l){var d=parseInt(h,10);Number.isNaN(d)||(u.reconnectInterval=d)}}}w(),this._close=function(){r!==f.CLOSED&&(r=f.CLOSED,i.abort&&i.abort(),i.xhr&&i.xhr.abort&&i.xhr.abort())}}function h(e,t){if(Object.defineProperty(this,\"type\",{writable:!1,value:e,enumerable:!0}),t)for(var r in t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}function p(e,t){for(var r in Object.defineProperty(this,\"type\",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}e.exports=f,u.inherits(f,i.EventEmitter),f.prototype.constructor=f,[\"open\",\"error\",\"message\"].forEach((function(e){Object.defineProperty(f.prototype,\"on\"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(f,\"CONNECTING\",{enumerable:!0,value:0}),Object.defineProperty(f,\"OPEN\",{enumerable:!0,value:1}),Object.defineProperty(f,\"CLOSED\",{enumerable:!0,value:2}),f.prototype.CONNECTING=0,f.prototype.OPEN=1,f.prototype.CLOSED=2,f.prototype.close=function(){this._close()},f.prototype.addEventListener=function(e,t){\"function\"==typeof t&&(t._listener=t,this.on(e,t))},f.prototype.dispatchEvent=function(e){if(!e.type)throw new Error(\"UNSPECIFIED_EVENT_TYPE_ERR\");this.emit(e.type,e.detail)},f.prototype.removeEventListener=function(e,t){\"function\"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}},function(e,t,r){\"use strict\";var n=r(71);function o(e){return\"string\"==typeof e&&(e=n(e)),e.protocol&&e.hostname?(e.protocol+\"//\"+e.host).toLowerCase():\"null\"}o.same=function(e,t){return o(e)===o(t)},e.exports=o},function(e,t,r){\"use strict\";e.exports=function(e,t){if(t=t.split(\":\")[0],!(e=+e))return!1;switch(t){case\"http\":case\"ws\":return 80!==e;case\"https\":case\"wss\":return 443!==e;case\"ftp\":return 21!==e;case\"gopher\":return 70!==e;case\"file\":return!1}return 0!==e}},function(e,t,r){\"use strict\";var n=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\\+/g,\" \"))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||\"\";var r,o,s=[];for(o in\"string\"!=typeof t&&(t=\"?\"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=\"\"),o=i(o),r=i(r),null===o||null===r)continue;s.push(o+\"=\"+r)}return s.length?t+s.join(\"&\"):\"\"},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),s=o(t[2]);null===i||null===s||i in n||(n[i]=s)}return n}},function(e,t,r){\"use strict\";e.exports=function(e,t){return t.reduce((function(t,r){return void 0===e[r]||(t[r]=e[r]),t}),{})}},function(e,t,r){\"use strict\";e.exports=function(e,t){return Object.keys(t).concat(Object.keys(e)).reduce((function(r,n){return r[n]=void 0===e[n]?t[n]:e[n],r}),{})}},function(e,t,r){\"use strict\";var n=r(21),o=r(48);function i(e){this.request=e.request.bind(e)}n(i.prototype,{create:function(e,t){return this._modify(\"PUT\",e,t)},edit:function(e,t){return this._modify(\"PATCH\",e,t)},delete:function(e){return this._modify(\"DELETE\",e)},list:function(){return this.request({uri:\"/datasets\"})},_modify:function(e,t,r){return o.dataset(t),this.request({method:e,uri:\"/datasets/\".concat(t),body:r})}}),e.exports=i},function(e,t,r){\"use strict\";function n(e){this.client=e}r(21)(n.prototype,{list:function(){return this.client.request({uri:\"/projects\"})},getById:function(e){return this.client.request({uri:\"/projects/\".concat(e)})}}),e.exports=n},function(e,t,r){\"use strict\";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&\"[object Arguments]\"!==Object.prototype.toString.call(e))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var o=r(21),i=r(54).map,s=r(53).filter,a=r(127),u=r(48);function c(e){this.client=e}function l(e){var t=e.document;return Object.defineProperty(t,\"document\",{enumerable:!1,get:function(){return console.warn(\"The promise returned from client.asset.upload(...) now resolves with the asset document\"),t}}),t}function f(e,t){return\"undefined\"!=typeof window&&t instanceof window.File?o({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e):e}o(c.prototype,{upload:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.validateAssetType(e);var n=r.extract||void 0;n&&!n.length&&(n=[\"none\"]);var o=u.hasDataset(this.client.clientConfig),a=\"image\"===e?\"images\":\"files\",c=f(r,t),h=c.label,p=c.title,d=c.description,g=c.creditLine,y=c.filename,m=c.source,v={label:h,title:p,description:d,filename:y,meta:n,creditLine:g};m&&(v.sourceId=m.id,v.sourceName=m.name,v.sourceUrl=m.url);var b=this.client._requestObservable({method:\"POST\",timeout:c.timeout||0,uri:\"/assets/\".concat(a,\"/\").concat(o),headers:c.contentType?{\"Content-Type\":c.contentType}:{},query:v,body:t});return this.client.isPromiseAPI()?b.pipe(s((function(e){return\"response\"===e.type})),i((function(e){return l(e.body)}))).toPromise():b},delete:function(e,t){console.warn(\"client.assets.delete() is deprecated, please use client.delete(<document-id>)\");var r=t||\"\";return/^(image|file)-/.test(r)?e._id&&(r=e._id):r=\"\".concat(e,\"-\").concat(r),u.hasDataset(this.client.clientConfig),this.client.delete(r)},getImageUrl:function(e,t){var r=e._ref||e;if(\"string\"!=typeof r)throw new Error(\"getImageUrl() needs either an object with a _ref, or a string with an asset document ID\");if(!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(r))throw new Error('Unsupported asset ID \"'.concat(r,'\". URL generation only works for auto-generated IDs.'));var o=n(r.split(\"-\"),4),i=o[1],s=o[2],c=o[3];u.hasDataset(this.client.clientConfig);var l=this.client.clientConfig,f=l.projectId,h=l.dataset,p=t?a(t):\"\";return\"https://cdn.sanity.io/images/\".concat(f,\"/\").concat(h,\"/\").concat(i,\"-\").concat(s,\".\").concat(c).concat(p)}}),e.exports=c},function(e,t,r){\"use strict\";e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(\"\".concat(encodeURIComponent(r),\"=\").concat(encodeURIComponent(e[r])));return t.length>0?\"?\".concat(t.join(\"&\")):\"\"}},function(e,t,r){\"use strict\";function n(e){this.client=e}r(21)(n.prototype,{getById:function(e){return this.client.request({uri:\"/users/\".concat(e)})}}),e.exports=n},function(e,t,r){\"use strict\";function n(e){this.client=e}r(21)(n.prototype,{getLoginProviders:function(){return this.client.request({uri:\"/auth/providers\"})},logout:function(){return this.client.request({uri:\"/auth/logout\",method:\"POST\"})}}),e.exports=n},function(e,t,r){\"use strict\";var n=r(131),o=r(21),i=r(161),s=r(163),a=r(166),u=r(167),c=r(68),l=r(169),f=l.ClientError,h=l.ServerError,p={onResponse:function(e){if(e.statusCode>=500)throw new h(e);if(e.statusCode>=400)throw new f(e);return e}},d=n(r(171).concat([s(),a(),u(),p,i({implementation:c})]));function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return t(o({maxRedirects:0},e))}g.defaultRequester=d,g.ClientError=f,g.ServerError=h,e.exports=g},function(e,t,r){e.exports=r(132)},function(e,t,r){\"use strict\";const n=r(133),o=r(134),i=r(135),s=r(136),a=r(137),u=[\"request\",\"response\",\"progress\",\"error\",\"abort\"],c=[\"processOptions\",\"validateOptions\",\"interceptRequest\",\"finalizeOptions\",\"onRequest\",\"onResponse\",\"onError\",\"onReturn\",\"onHeaders\"];e.exports=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const r=[],l=c.reduce((e,t)=>(e[t]=e[t]||[],e),{processOptions:[i],validateOptions:[s]});function f(e){const t=u.reduce((e,t)=>(e[t]=n(),e),{}),r=o(l),i=r(\"processOptions\",e);r(\"validateOptions\",i);const s={options:i,channels:t,applyMiddleware:r};let c=null;const f=t.request.subscribe(e=>{c=a(e,(n,o)=>function(e,n,o){let i=e,s=n;if(!i)try{s=r(\"onResponse\",n,o)}catch(e){s=null,i=e}i=i&&r(\"onError\",i,o),i?t.error.publish(i):s&&t.response.publish(s)}(n,o,e))});t.abort.subscribe(()=>{f(),c&&c.abort()});const h=r(\"onReturn\",t,s);return h===t&&t.request.publish(s),h}return f.use=function(e){if(!e)throw new Error(\"Tried to add middleware that resolved to falsey value\");if(\"function\"==typeof e)throw new Error(\"Tried to add middleware that was a function. It probably expects you to pass options to it.\");if(e.onReturn&&l.onReturn.length>0)throw new Error(\"Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event\");return c.forEach(t=>{e[t]&&l[t].push(e[t])}),r.push(e),f},f.clone=function(){return e(r)},t.forEach(f.use),f}},function(e,t){e.exports=function(){var e=[];return{subscribe:function(t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}},publish:function(){for(var t=0;t<e.length;t++)e[t].apply(null,arguments)}}}},function(e,t,r){\"use strict\";e.exports=e=>function(t,r){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];const s=\"onError\"===t;let a=r;for(let r=0;r<e[t].length;r++){if(a=e[t][r].apply(void 0,[a].concat(o)),s&&!a)break}return a}},function(e,t,r){\"use strict\";const n=r(21),o=r(71),i=\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product,s=Object.prototype.hasOwnProperty,a={timeout:i?6e4:12e4};function u(e){const t=[];for(const t in e)s.call(e,t)&&r(t,e[t]);return t.length?t.join(\"&\"):\"\";function r(e,n){Array.isArray(n)?n.forEach(t=>r(e,t)):t.push([e,n].map(encodeURIComponent).join(\"=\"))}}e.exports=e=>{const t=\"string\"==typeof e?n({url:e},a):n({},a,e),r=o(t.url,{},!0);return t.timeout=function e(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;const r=Number(t);if(isNaN(r))return e(a.timeout);return{connect:r,socket:r}}(t.timeout),t.query&&(r.query=n({},r.query,function(e){const t={};for(const r in e)void 0!==e[r]&&(t[r]=e[r]);return t}(t.query))),t.method=t.body&&!t.method?\"POST\":(t.method||\"GET\").toUpperCase(),t.url=r.toString(u),t}},function(e,t,r){\"use strict\";const n=/^https?:\\/\\//i;e.exports=e=>{if(!n.test(e.url))throw new Error(`\"${e.url}\" is not a valid URL`)}},function(e,t,r){\"use strict\";e.exports=r(138)},function(e,t,r){\"use strict\";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};const o=r(139),i=r(4),s=r(5),a=r(7),u=r(140),c=r(9),l=r(141),f=r(142),h=r(143),p=r(21),d=r(81),g=r(155);var y=r(157);const m=y.getProxyOptions,v=y.rewriteUriForProxy,b=r(158);e.exports=(e,t)=>{const r=e.options,y=p({},i.parse(r.url)),w=f(r.body)?\"stream\":typeof r.body;if(\"undefined\"!==w&&\"stream\"!==w&&\"string\"!==w&&!Buffer.isBuffer(r.body))throw new Error(\"Request body must be a string, buffer or stream, got \"+w);const _={};r.bodySize?_[\"content-length\"]=r.bodySize:r.body&&Buffer.isBuffer(r.body)&&(_[\"content-length\"]=r.body.length);let x=!1;const E=(e,r)=>!x&&t(e,r);e.channels.abort.subscribe(()=>{x=!0});let O=p({},y,{method:r.method,headers:p({},(S=r.headers,Object.keys(S||{}).reduce((e,t)=>(e[t.toLowerCase()]=S[t],e),{})),_),maxRedirects:r.maxRedirects});var S;const j=m(r),k=j&&b.shouldEnable(r),R=e.applyMiddleware(\"interceptRequest\",void 0,{adapter:\"node\",context:e});if(R){const e=setImmediate(E,null,R);return{abort:()=>clearImmediate(e)}}if(0!==r.maxRedirects&&(O.maxRedirects=r.maxRedirects||5),j&&k?O=b.applyAgent(O,j):j&&!k&&(O=v(O,y,j)),!k&&j&&j.auth&&!O.headers[\"proxy-authorization\"]){var C=j.auth.username?[j.auth.username,j.auth.password]:j.auth.split(\":\").map(e=>o.unescape(e)),T=n(C,2);const e=T[0],t=T[1],r=Buffer.from(`${e}:${t}`,\"utf8\").toString(\"base64\");O.headers[\"proxy-authorization\"]=\"Basic \"+r}const P=function(e,t,r){const n=\"https:\"===e.protocol,o=0===e.maxRedirects?{http:s,https:a}:{http:c.http,https:c.https};if(!t||r)return n?o.https:o.http;let i=443===t.port;t.protocol&&(i=/^https:?/.test(t.protocol));return i?o.https:o.http}(O,j,k);\"function\"==typeof r.debug&&j&&r.debug(\"Proxying using %s\",O.agent?\"tunnel agent\":`${O.host}:${O.port}`);const A=e.applyMiddleware(\"finalizeOptions\",O),M=P.request(A,t=>{const n=\"HEAD\"!==O.method?g(t):t,o=e.applyMiddleware(\"onHeaders\",n,{headers:t.headers,adapter:\"node\",context:e});u(o,(e,o)=>{if(e)return E(e);const i=r.rawBody?o:o.toString(),s=((e,t,r,n)=>({body:n,url:t,method:r,headers:e.headers,statusCode:e.statusCode,statusMessage:e.statusMessage}))(n,t.responseUrl||r.url,O.method,i);return E(null,s)})});r.timeout&&l(M,r.timeout),M.once(\"error\",E);var N=function(e){if(!e.body)return{};const t=f(e.body),r=e.bodySize||(t?null:Buffer.byteLength(e.body));if(!r)return t?{bodyStream:e.body}:{};const n=d({time:16,length:r});return{bodyStream:(t?e.body:h(e.body)).pipe(n),progress:n}}(r);const D=N.bodyStream,I=N.progress;return e.applyMiddleware(\"onRequest\",{options:r,adapter:\"node\",request:M,context:e,progress:I}),D?D.pipe(M):M.end(r.body),{abort:()=>M.abort()}}},function(e,t){e.exports=require(\"querystring\")},function(e,t){\n/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.exports=function(e,t){var r=[];e.on(\"data\",(function(e){r.push(e)})),e.once(\"end\",(function(){t&&t(null,Buffer.concat(r)),t=null})),e.once(\"error\",(function(e){t&&t(e),t=null}))}},function(e,t,r){\"use strict\";e.exports=function(e,t){if(e.timeoutTimer)return e;var r=isNaN(t)?t:{socket:t,connect:t},n=e.getHeader(\"host\"),o=n?\" to \"+n:\"\";function i(){e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.timeoutTimer=null)}function s(){i(),void 0!==r.socket&&e.setTimeout(r.socket,(function(){e.abort();var t=new Error(\"Socket timed out on request\"+o);t.code=\"ESOCKETTIMEDOUT\",e.emit(\"error\",t)}))}return void 0!==r.connect&&(e.timeoutTimer=setTimeout((function(){e.abort();var t=new Error(\"Connection timed out on request\"+o);t.code=\"ETIMEDOUT\",e.emit(\"error\",t)}),r.connect)),e.on(\"socket\",(function(e){e.connecting||e._connecting?e.once(\"connect\",s):s()})),e.on(\"error\",i)}},function(e,t,r){\"use strict\";var n=e.exports=function(e){return null!==e&&\"object\"==typeof e&&\"function\"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&\"function\"==typeof e._transform&&\"object\"==typeof e._transformState}},function(e,t,r){\"use strict\";const n=r(144),o=r(151);e.exports=e=>{let t,r;function i(n){t=o(e=n)?e:null;const i=!t&&e[Symbol.iterator]&&\"string\"!=typeof e&&!Buffer.isBuffer(e);r=i?e[Symbol.iterator]():null}return Array.isArray(e)&&(e=e.slice()),i(e),n((function n(o,s){if(t)return void t.then(i).then(()=>n.call(this,o,s),s);if(r){const e=r.next();return void setImmediate(s,null,e.done?null:e.value)}if(0===e.length)return void setImmediate(s,null,null);const a=e.slice(0,o);e=e.slice(o),setImmediate(s,null,a)}))},e.exports.obj=e=>{let t,r;function i(n){t=o(e=n)?e:null,r=!t&&e[Symbol.iterator]?e[Symbol.iterator]():null}return Array.isArray(e)&&(e=e.slice()),i(e),n.obj((function n(o,s){if(t)t.then(i).then(()=>n.call(this,o,s),s);else if(r){const e=r.next();setImmediate(s,null,e.done?null:e.value)}else this.push(e),setImmediate(s,null,null)}))}},function(e,t,r){var n=r(74).Readable,o=r(49);e.exports=s,s.ctor=a,s.obj=function(e,t){(\"function\"==typeof e||Array.isArray(e))&&(t=e,e={});return(e=c(e)).objectMode=!0,e.highWaterMark=16,s(e,t)};var i=a();function s(e,t){(\"object\"!=typeof e||Array.isArray(e))&&(t=e,e={});var r,n=new i(e);return n._from=Array.isArray(t)?(r=(r=t).slice(),function(e,t){var n=null,o=r.length?r.shift():null;o instanceof Error&&(n=o,o=null),t(n,o)}):t||u,n}function a(e,t){function r(t){if(!(this instanceof r))return new r(t);this._reading=!1,this._callback=function(e,t){if(o.destroyed)return;if(e)return o.destroy(e);if(null===t)return o.push(null);o._reading=!1,o.push(t)&&o._read(i)},this.destroyed=!1,n.call(this,t||e);var o=this,i=this._readableState.highWaterMark}return\"function\"==typeof e&&(t=e,e={}),e=c(e),o(r,n),r.prototype._from=t||u,r.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},r.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;process.nextTick((function(){e&&t.emit(\"error\",e),t.emit(\"close\")}))}},r}function u(){}function c(e){return e=e||{}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},function(e,t){e.exports=require(\"buffer\")},function(e,t){\"function\"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){\"use strict\";var n=r(51).Buffer,o=r(20);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,i=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,o=a,t.copy(r,o),a+=s.data.length,s=s.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+\" \"+e})},function(e,t,r){e.exports=r(20).deprecate},function(e,t,r){\"use strict\";e.exports=i;var n=r(80),o=Object.create(r(52));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}o.inherits=r(49),o.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){\"use strict\";e.exports=e=>e instanceof Promise||null!==e&&\"object\"==typeof e&&\"function\"==typeof e.then&&\"function\"==typeof e.catch},function(e,t,r){var n=r(74).Transform,o=r(20).inherits,i=r(153);function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function u(e){return function(t,r,n){return\"function\"==typeof t&&(n=r,r=t,t={}),\"function\"!=typeof r&&(r=a),\"function\"!=typeof n&&(n=null),e(t,r,n)}}o(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;process.nextTick((function(){e&&t.emit(\"error\",e),t.emit(\"close\")}))}},e.exports=u((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),e.exports.ctor=u((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=i(e,t),s.call(this,this.options)}return o(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),e.exports.obj=u((function(e,t,r){var n=new s(i({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){var r=1,n=setInterval((function(){r=r+1&65535}),250);n.unref&&n.unref(),e.exports=function(e){var t=4*(e||5),n=[0],o=1,i=r-1&65535;return function(e){var s=r-i&65535;for(s>t&&(s=t),i=r;s--;)o===t&&(o=0),n[o]=n[0===o?t-1:o-1],o++;e&&(n[o-1]+=e);var a=n[o-1],u=n.length<t?0:n[o===t?0:o];return n.length<4?a:4*(a-u)/n.length}}},function(e,t,r){\"use strict\";const n=r(6).PassThrough,o=r(19),i=r(156);e.exports=e=>{if(-1===[\"gzip\",\"deflate\"].indexOf(e.headers[\"content-encoding\"]))return e;const t=o.createUnzip(),r=new n;return i(e,r),t.on(\"error\",e=>{\"Z_BUF_ERROR\"!==e.code?r.emit(\"error\",e):r.end()}),e.pipe(t).pipe(r),r}},function(e,t,r){\"use strict\";const n=[\"destroy\",\"setTimeout\",\"socket\",\"headers\",\"trailers\",\"rawHeaders\",\"statusCode\",\"httpVersion\",\"httpVersionMinor\",\"httpVersionMajor\",\"rawTrailers\",\"statusMessage\"];e.exports=(e,t)=>{const r=new Set(Object.keys(e).concat(n));for(const n of r)n in t||(t[n]=\"function\"==typeof e[n]?e[n].bind(e):e[n])}},function(e,t,r){\"use strict\";const n=r(4),o=r(21);function i(e){return e.replace(/^\\.*/,\".\").toLowerCase()}function s(e){const t=e.trim().toLowerCase(),r=t.split(\":\",2);return{hostname:i(r[0]),port:r[1],hasPort:t.indexOf(\":\")>-1}}function a(e){const t=process.env.NO_PROXY||process.env.no_proxy||\"\";return\"*\"===t||\"\"!==t&&function(e,t){const r=e.port||(\"https:\"===e.protocol?\"443\":\"80\"),n=i(e.hostname);return t.split(\",\").map(s).some(e=>{const t=n.indexOf(e.hostname),o=t>-1&&t===n.length-e.hostname.length;return e.hasPort?r===e.port&&o:o})}(e,t)?null:\"http:\"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:\"https:\"===e.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}t.rewriteUriForProxy=function(e,t,r){const i=e.headers||{},s=o({},e,{headers:i});return i.host=i.host||function(e){const t=e.port||(\"https:\"===e.protocol?\"443\":\"80\");return`${e.hostname}:${t}`}(t),s.protocol=r.protocol||s.protocol,s.hostname=r.host.replace(/:\\d+/,\"\"),s.port=r.port,s.host=function(e){let t=e.host;return e.port&&(\"80\"===e.port&&\"http:\"===e.protocol||\"443\"===e.port&&\"https:\"===e.protocol)&&(t=e.hostname),t}(o({},t,r)),s.href=`${s.protocol}//${s.host}${s.path}`,s.path=n.format(t),s},t.getProxyOptions=function(e){let t;if(e.hasOwnProperty(\"proxy\"))t=e.proxy;else{t=a(n.parse(e.url))}return\"string\"==typeof t?n.parse(t):t}},function(e,t,r){\"use strict\";const n=r(4),o=r(159),i=r(21),s=[\"protocol\",\"slashes\",\"auth\",\"host\",\"port\",\"hostname\",\"hash\",\"search\",\"query\",\"pathname\",\"path\",\"href\"],a=[\"accept\",\"accept-charset\",\"accept-encoding\",\"accept-language\",\"accept-ranges\",\"cache-control\",\"content-encoding\",\"content-language\",\"content-location\",\"content-md5\",\"content-range\",\"content-type\",\"connection\",\"date\",\"expect\",\"max-forwards\",\"pragma\",\"referer\",\"te\",\"user-agent\",\"via\"],u=[\"proxy-authorization\"];function c(e,t){const r=function(e,t){const r=\"https:\"===e.protocol?\"https\":\"http\",n=\"https:\"===t.protocol?\"Https\":\"Http\";return[r,n].join(\"Over\")}(function(e){return s.reduce((t,r)=>(t[r]=e[r],t),{})}(e),t);return o[r]}function l(e){const t=e.port,r=e.protocol;let n=e.hostname+\":\";return n+=t||(\"https:\"===r?\"443\":\"80\"),n}function f(e,t){return Object.keys(e).filter(e=>-1!==t.indexOf(e.toLowerCase())).reduce((t,r)=>(t[r]=e[r],t),{})}function h(e,t,r){return{proxy:{host:t.hostname,port:+t.port,proxyAuth:t.auth,headers:r},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol}}t.shouldEnable=(e,t)=>{if(void 0!==e.tunnel)return Boolean(e.tunnel);return\"https:\"===n.parse(e.url).protocol},t.applyAgent=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];const r=i({},e),n=a.concat(r.proxyHeaderWhiteList||[]).map(e=>e.toLowerCase()),o=u.concat(r.proxyHeaderExclusiveList||[]).map(e=>e.toLowerCase()),s=f(r.headers,n);s.host=l(r),r.headers=Object.keys(r.headers||{}).reduce((e,t)=>(-1===o.indexOf(t.toLowerCase())&&(e[t]=r.headers[t]),e),{});const p=c(r,t),d=h(r,t,s);return r.agent=p(d),r}},function(e,t,r){\"use strict\";r(25);var n,o=r(160),i=r(5),s=r(7),a=r(59),u=r(22),c=r(20),l=r(51).Buffer;function f(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||i.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on(\"free\",(function(e,r,n){for(var o=0,i=t.requests.length;o<i;++o){var s=t.requests[o];if(s.host===r&&s.port===n)return t.requests.splice(o,1),void s.request.onSocket(e)}e.destroy(),t.removeSocket(e)}))}function h(e,t){var r=this;f.prototype.createSocket.call(r,e,(function(n){var i=o.connect(0,p({},r.options,{servername:e.host,socket:n}));r.sockets[r.sockets.indexOf(n)]=i,t(i)}))}function p(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(\"object\"==typeof n)for(var o=Object.keys(n),i=0,s=o.length;i<s;++i){var a=o[i];void 0!==n[a]&&(e[a]=n[a])}}return e}t.httpOverHttp=function(e){var t=new f(e);return t.request=i.request,t},t.httpsOverHttp=function(e){var t=new f(e);return t.request=i.request,t.createSocket=h,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new f(e);return t.request=s.request,t},t.httpsOverHttps=function(e){var t=new f(e);return t.request=s.request,t.createSocket=h,t.defaultPort=443,t},c.inherits(f,a.EventEmitter),f.prototype.addRequest=function(e,t){var r=this;\"string\"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),r.sockets.length>=this.maxSockets?r.requests.push({host:t.host,port:t.port,request:e}):r.createConnection({host:t.host,port:t.port,request:e})},f.prototype.createConnection=function(e){var t=this;t.createSocket(e,(function(r){function n(){t.emit(\"free\",r,e.host,e.port)}function o(e){t.removeSocket(r),r.removeListener(\"free\",n),r.removeListener(\"close\",o),r.removeListener(\"agentRemove\",o)}r.on(\"free\",n),r.on(\"close\",o),r.on(\"agentRemove\",o),e.request.onSocket(r)}))},f.prototype.createSocket=function(e,t){var r=this,o={};r.sockets.push(o);var i=p({},r.proxyOptions,{method:\"CONNECT\",path:e.host+\":\"+e.port,agent:!1});i.proxyAuth&&(i.headers=i.headers||{},i.headers[\"Proxy-Authorization\"]=\"Basic \"+l.from(i.proxyAuth).toString(\"base64\")),n(\"making CONNECT request\");var s=r.request(i);function a(i,a,c){if(s.removeAllListeners(),a.removeAllListeners(),200===i.statusCode)u.equal(c.length,0),n(\"tunneling connection has established\"),r.sockets[r.sockets.indexOf(o)]=a,t(a);else{n(\"tunneling socket could not be established, statusCode=%d\",i.statusCode);var l=new Error(\"tunneling socket could not be established, statusCode=\"+i.statusCode);l.code=\"ECONNRESET\",e.request.emit(\"error\",l),r.removeSocket(o)}}s.useChunkedEncodingByDefault=!1,s.once(\"response\",(function(e){e.upgrade=!0})),s.once(\"upgrade\",(function(e,t,r){process.nextTick((function(){a(e,t,r)}))})),s.once(\"connect\",a),s.once(\"error\",(function(t){s.removeAllListeners(),n(\"tunneling socket could not be established, cause=%s\\n\",t.message,t.stack);var i=new Error(\"tunneling socket could not be established, cause=\"+t.message);i.code=\"ECONNRESET\",e.request.emit(\"error\",i),r.removeSocket(o)})),s.end()},f.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createConnection(r)}},n=process.env.NODE_DEBUG&&/\\btunnel\\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);\"string\"==typeof e[0]?e[0]=\"TUNNEL: \"+e[0]:e.unshift(\"TUNNEL:\"),console.error.apply(console,e)}:function(){},t.debug=n},function(e,t){e.exports=require(\"tls\")},function(e,t,r){\"use strict\";var n=r(162),o=r(21);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.implementation||n.Observable;if(!t)throw new Error(\"`Observable` is not available in global scope, and no implementation was passed\");return{onReturn:function(e,r){return new t((function(t){return e.error.subscribe((function(e){return t.error(e)})),e.progress.subscribe((function(e){return t.next(o({type:\"progress\"},e))})),e.response.subscribe((function(e){t.next(o({type:\"response\"},e)),t.complete()})),e.request.publish(r),function(){return e.abort.publish()}}))}}}},function(e,t,r){\"use strict\";\"undefined\"!=typeof window?e.exports=window:\"undefined\"!=typeof global?e.exports=global:\"undefined\"!=typeof self?e.exports=self:e.exports={}},function(e,t,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=r(21),i=r(164),s=[\"boolean\",\"string\",\"number\"];e.exports=function(){return{processOptions:function(e){var t,r=e.body;return r&&!(\"function\"==typeof r.pipe)&&!((t=r).constructor&&\"function\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))&&(-1!==s.indexOf(void 0===r?\"undefined\":n(r))||Array.isArray(r)||i(r))?o({},e,{body:JSON.stringify(e.body),headers:o({},e.headers,{\"Content-Type\":\"application/json\"})}):e}}}},function(e,t,r){\"use strict\";\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */var n=r(165);function o(e){return!0===n(e)&&\"[object Object]\"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==o(e)&&(\"function\"==typeof(t=e.constructor)&&(!1!==o(r=t.prototype)&&!1!==r.hasOwnProperty(\"isPrototypeOf\")))}},function(e,t,r){\"use strict\";\n/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */e.exports=function(e){return null!=e&&\"object\"==typeof e&&!1===Array.isArray(e)}},function(e,t,r){\"use strict\";var n=r(21);function o(e){try{return JSON.parse(e)}catch(e){throw e.message=\"Failed to parsed response body as JSON: \"+e.message,e}}e.exports=function(e){return{onResponse:function(t){var r=t.headers[\"content-type\"]||\"\",i=e&&e.force||-1!==r.indexOf(\"application/json\");return t.body&&r&&i?n({},t,{body:o(t.body)}):t},processOptions:function(e){return n({},e,{headers:n({Accept:\"application/json\"},e.headers)})}}}},function(e,t,r){\"use strict\";e.exports=r(168)},function(e,t,r){\"use strict\";var n=r(81);function o(e){return function(t){return{stage:e,percent:t.percentage,total:t.length,loaded:t.transferred,lengthComputable:!(0===t.length&&0===t.percentage)}}}e.exports=function(){return{onHeaders:function(e,t){var r=n({time:16}),i=o(\"download\"),s=e.headers[\"content-length\"],a=s&&Number(s);return!isNaN(a)&&a>0&&r.setLength(a),r.on(\"progress\",(function(e){return t.context.channels.progress.publish(i(e))})),e.pipe(r)},onRequest:function(e){if(e.progress){var t=o(\"upload\");e.progress.on(\"progress\",(function(r){return e.context.channels.progress.publish(t(r))}))}}}}},function(e,t,r){\"use strict\";var n=r(170),o=r(21);function i(e){var t=a(e);i.super.call(this,t.message),o(this,t)}function s(e){var t=a(e);s.super.call(this,t.message),o(this,t)}function a(e){var t=e.body,r={response:e,statusCode:e.statusCode,responseBody:u(t,e)};return t.error&&t.message?(r.message=\"\".concat(t.error,\" - \").concat(t.message),r):t.error&&t.error.description?(r.message=t.error.description,r.details=t.error,r):(r.message=t.error||t.message||function(e){var t=e.statusMessage?\" \".concat(e.statusMessage):\"\";return\"\".concat(e.method,\"-request to \").concat(e.url,\" resulted in HTTP \").concat(e.statusCode).concat(t)}(e),r)}function u(e,t){return-1!==(t.headers[\"content-type\"]||\"\").toLowerCase().indexOf(\"application/json\")?JSON.stringify(e,null,2):e}n(i),n(s),t.ClientError=i,t.ServerError=s},function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Reflect?Reflect.construct:void 0,o=Object.defineProperty,i=Error.captureStackTrace;function s(e){void 0!==e&&o(this,\"message\",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;void 0!==t&&t!==this.name&&o(this,\"name\",{configurable:!0,value:t,writable:!0}),i(this,this.constructor)}void 0===i&&(i=function(e){var t=new Error;o(e,\"stack\",{configurable:!0,get:function(){var e=t.stack;return o(this,\"stack\",{configurable:!0,value:e,writable:!0}),e},set:function(t){o(e,\"stack\",{configurable:!0,value:t,writable:!0})}})}),s.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:s,writable:!0}});var a=function(){function e(e,t){return o(e,\"name\",{configurable:!0,value:t})}try{var t=function(){};if(e(t,\"foo\"),\"foo\"===t.name)return e}catch(e){}}();(e.exports=function(e,t){if(null==t||t===Error)t=s;else if(\"function\"!=typeof t)throw new TypeError(\"super_ should be a function\");var r;if(\"string\"==typeof e)r=e,e=void 0!==n?function(){return n(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},void 0!==a&&(a(e,r),r=void 0);else if(\"function\"!=typeof e)throw new TypeError(\"constructor should be either a string or a function\");e.super_=e.super=t;var o={constructor:{configurable:!0,value:e,writable:!0}};return void 0!==r&&(o.name={configurable:!0,value:r,writable:!0}),e.prototype=Object.create(t.prototype,o),e}).BaseError=s},function(e,t,r){\"use strict\";var n=r(172),o=r(175),i=r(176),s=r(177),a=[o({verbose:!0,namespace:\"sanity:client\"}),i({\"User-Agent\":\"\".concat(s.name,\" \").concat(s.version)}),n({maxRetries:3})];e.exports=a},function(e,t,r){\"use strict\";const n=r(21),o=r(173),i=e=>null!==e&&\"object\"==typeof e&&\"function\"==typeof e.pipe,s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.maxRetries||5,r=e.retryDelay||a,s=e.shouldRetry||o;return{onError:(e,o)=>{const a=o.options,u=a.maxRetries||t,c=a.shouldRetry||s,l=a.attemptNumber||0;if(i(a.body))return e;if(!c(e,l,a)||l>=u)return e;const f=n({},o,{options:n({},a,{attemptNumber:l+1})});return setTimeout(()=>o.channels.request.publish(f),r(l)),null}}};function a(e){return 100*Math.pow(2,e)+100*Math.random()}s.shouldRetry=o,e.exports=s},function(e,t,r){\"use strict\";const n=r(174);e.exports=(e,t,r)=>(\"GET\"===r.method||\"HEAD\"===r.method)&&((!e.response||!e.response.statusCode)&&n(e))},function(e,t,r){\"use strict\";var n=[\"ETIMEDOUT\",\"ECONNRESET\",\"EADDRINUSE\",\"ESOCKETTIMEDOUT\",\"ECONNREFUSED\",\"EPIPE\",\"EHOSTUNREACH\",\"EAI_AGAIN\"],o=[\"ENOTFOUND\",\"ENETUNREACH\",\"UNABLE_TO_GET_ISSUER_CERT\",\"UNABLE_TO_GET_CRL\",\"UNABLE_TO_DECRYPT_CERT_SIGNATURE\",\"UNABLE_TO_DECRYPT_CRL_SIGNATURE\",\"UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY\",\"CERT_SIGNATURE_FAILURE\",\"CRL_SIGNATURE_FAILURE\",\"CERT_NOT_YET_VALID\",\"CERT_HAS_EXPIRED\",\"CRL_NOT_YET_VALID\",\"CRL_HAS_EXPIRED\",\"ERROR_IN_CERT_NOT_BEFORE_FIELD\",\"ERROR_IN_CERT_NOT_AFTER_FIELD\",\"ERROR_IN_CRL_LAST_UPDATE_FIELD\",\"ERROR_IN_CRL_NEXT_UPDATE_FIELD\",\"OUT_OF_MEM\",\"DEPTH_ZERO_SELF_SIGNED_CERT\",\"SELF_SIGNED_CERT_IN_CHAIN\",\"UNABLE_TO_GET_ISSUER_CERT_LOCALLY\",\"UNABLE_TO_VERIFY_LEAF_SIGNATURE\",\"CERT_CHAIN_TOO_LONG\",\"CERT_REVOKED\",\"INVALID_CA\",\"PATH_LENGTH_EXCEEDED\",\"INVALID_PURPOSE\",\"CERT_UNTRUSTED\",\"CERT_REJECTED\"];e.exports=function(e){return!e||!e.code||(-1!==n.indexOf(e.code)||-1===o.indexOf(e.code))}},function(e,t,r){\"use strict\";const n=r(23),o=[\"Cookie\",\"Authorization\"],i=Object.prototype.hasOwnProperty,s=(e,t)=>{const r={};for(const n in e)i.call(e,n)&&(r[n]=t.indexOf(n)>-1?\"<redacted>\":e[n]);return r};function a(e){return-1!==(e.headers[\"content-type\"]||\"\").toLowerCase().indexOf(\"application/json\")?function(e){try{const t=\"string\"==typeof e?JSON.parse(e):e;return JSON.stringify(t,null,2)}catch(t){return e}}(e.body):e.body}e.exports=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.verbose,r=e.namespace||\"get-it\",i=n(r),u=e.log||i,c=u===i&&!n.enabled(r);let l=0;return{processOptions:e=>(e.debug=u,e.requestId=e.requestId||++l,e),onRequest:r=>{if(c||!r)return r;const n=r.options;if(u(\"[%s] HTTP %s %s\",n.requestId,n.method,n.url),t&&n.body&&\"string\"==typeof n.body&&u(\"[%s] Request body: %s\",n.requestId,n.body),t&&n.headers){const t=!1===e.redactSensitiveHeaders?n.headers:s(n.headers,o);u(\"[%s] Request headers: %s\",n.requestId,JSON.stringify(t,null,2))}return r},onResponse:(e,r)=>{if(c||!e)return e;const n=r.options.requestId;return u(\"[%s] Response code: %s %s\",n,e.statusCode,e.statusMessage),t&&e.body&&u(\"[%s] Response body: %s\",n,a(e)),e},onError:(e,t)=>{const r=t.options.requestId;return e?(u(\"[%s] ERROR: %s\",r,e.message),e):(u(\"[%s] Error encountered, but handled by an earlier middleware\",r),e)}}}},function(e,t,r){\"use strict\";const n=r(21);e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{processOptions:r=>{const o=r.headers||{};return r.headers=t.override?n({},o,e):n({},e,o),r}}}},function(e){e.exports=JSON.parse('{\"_from\":\"@sanity/client@^0.147.3\",\"_id\":\"@sanity/client@0.147.3\",\"_inBundle\":false,\"_integrity\":\"sha512-wXWL1mPyQZB+1te2KPtSX2zQ0rc+/Ol4DsQYUQ7gY0N/ESWXqLuD14ixWAkLNGy1SbK3ZDLuTrGOstpb7va+Gw==\",\"_location\":\"/@sanity/client\",\"_phantomChildren\":{\"eventsource\":\"1.0.7\",\"eventsource-polyfill\":\"0.9.6\",\"object-assign\":\"4.1.1\",\"rxjs\":\"6.6.3\"},\"_requested\":{\"type\":\"range\",\"registry\":true,\"raw\":\"@sanity/client@^0.147.3\",\"name\":\"@sanity/client\",\"escapedName\":\"@sanity%2fclient\",\"scope\":\"@sanity\",\"rawSpec\":\"^0.147.3\",\"saveSpec\":null,\"fetchSpec\":\"^0.147.3\"},\"_requiredBy\":[\"/\"],\"_resolved\":\"https://registry.npmjs.org/@sanity/client/-/client-0.147.3.tgz\",\"_shasum\":\"4ac0beb56df455441f203c6bfc8306e3b6c2b191\",\"_spec\":\"@sanity/client@^0.147.3\",\"_where\":\"C:\\\\\\\\Sites\\\\\\\\idlehoursco\\\\\\\\animated-fortnight\\\\\\\\web\",\"author\":{\"name\":\"Sanity.io\",\"email\":\"hello@sanity.io\"},\"browser\":{\"./src/http/nodeMiddleware.js\":\"./src/http/browserMiddleware.js\",\"./lib/http/nodeMiddleware.js\":\"./lib/http/browserMiddleware.js\"},\"bugs\":{\"url\":\"https://github.com/sanity-io/sanity/issues\"},\"bundleDependencies\":false,\"dependencies\":{\"@sanity/eventsource\":\"0.147.0\",\"@sanity/generate-help-url\":\"0.147.0\",\"@sanity/observable\":\"0.147.0\",\"deep-assign\":\"^2.0.0\",\"get-it\":\"^5.0.0\",\"make-error\":\"^1.3.0\",\"object-assign\":\"^4.1.1\"},\"deprecated\":false,\"description\":\"Client for retrieving data from Sanity\",\"devDependencies\":{\"boxen\":\"^4.1.0\",\"browserify\":\"^14.3.0\",\"chalk\":\"^2.3.0\",\"disc\":\"^1.3.2\",\"envify\":\"^4.0.0\",\"gzip-size\":\"^3.0.0\",\"hard-rejection\":\"^2.1.0\",\"nock\":\"^9.0.5\",\"nyc\":\"^11.0.3\",\"pretty-bytes\":\"^4.0.2\",\"rimraf\":\"^2.7.1\",\"sse-channel\":\"^2.0.6\",\"tape\":\"^4.8.0\",\"terser\":\"^4.4.0\",\"uglifyify\":\"^5.0.1\"},\"gitHead\":\"f9597453e4dead5011752186889f00fa36ed03eb\",\"homepage\":\"https://www.sanity.io/\",\"keywords\":[\"sanity\",\"cms\",\"headless\",\"realtime\",\"content\",\"client\",\"fetch\",\"api\",\"gradient\"],\"license\":\"MIT\",\"main\":\"lib/sanityClient.js\",\"name\":\"@sanity/client\",\"nyc\":{\"include\":[\"src/**/*.js\"],\"require\":[\"@babel/register\"],\"sourceMap\":false},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/sanity-io/sanity.git\"},\"scripts\":{\"analyze\":\"NODE_ENV=production BROWSERIFY_ENV=build DEBUG=\\'\\' browserify --full-paths -t envify -g uglifyify lib/sanityClient.js --standalone=SanityClient | discify --open\",\"browserify\":\"NODE_ENV=production BROWSERIFY_ENV=build DEBUG=\\'\\' browserify -t envify -g uglifyify lib/sanityClient.js -o umd/sanityClient.js --standalone=SanityClient\",\"build\":\"npm run browserify && npm run minify && npm run size\",\"clean\":\"rimraf lib coverage .nyc_output umd/*.js\",\"coverage\":\"DEBUG=sanity NODE_ENV=test nyc --reporter=html --reporter=lcov --reporter=text npm test\",\"minify\":\"terser -c -m -- umd/sanityClient.js > umd/sanityClient.min.js\",\"prepublishOnly\":\"npm run build\",\"size\":\"node -r @babel/register src/scripts/print-bundle-size\",\"test\":\"NODE_ENV=test tape -r @babel/register test/*.test.js\"},\"umd\":\"umd/sanityClient.min.js\",\"unpkg\":\"umd/sanityClient.min.js\",\"version\":\"0.147.3\"}')},function(e,t,r){\"use strict\";var n=r(21);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=t.token||e.token;o&&(r.Authorization=\"Bearer \".concat(o)),t.useGlobalApi||e.useProjectHostname||!e.projectId||(r[\"X-Sanity-Project-ID\"]=e.projectId);var i=Boolean(void 0===t.withCredentials?e.token||e.withCredentials:t.withCredentials),s=void 0===t.timeout?e.timeout:t.timeout;return n({},t,{headers:n({},r,t.headers||{}),timeout:void 0===s?3e5:s,json:!0,withCredentials:i})}},function(e,t,r){\"use strict\";var n=r(72),o=r(21),i=r(48),s=r(73),a={apiHost:\"https://api.sanity.io\",useProjectHostname:!0,gradientMode:!1,isPromiseAPI:!0},u=[\"localhost\",\"127.0.0.1\",\"0.0.0.0\"],c=function(e){return s((function(){return console.warn(e.join(\" \"))}))},l=c([\"You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and\",\"cheaper. Think about it! For more info, see \".concat(n(\"js-client-cdn-configuration\"),\".\"),\"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating\",\"the client.\"]),f=c([\"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\"See \".concat(n(\"js-client-browser-token\"),\" for more information and how to hide this warning.\")]),h=c([\"You have set `useCdn` to `true` while also specifying a token. This is usually not what you\",\"want. The CDN cannot be used with an authorization token, since private data cannot be cached.\",\"See \".concat(n(\"js-client-usecdn-token\"),\" for more information.\")]);t.defaultConfig=a,t.initConfig=function(e,t){var r=o({},a,t,e),s=r.gradientMode,c=!s&&r.useProjectHostname;if(\"undefined\"==typeof Promise){var p=n(\"js-client-promise-polyfill\");throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(p))}if(s&&!r.namespace)throw new Error(\"Configuration must contain `namespace` when running in gradient mode\");if(c&&!r.projectId)throw new Error(\"Configuration must contain `projectId`\");var d=\"undefined\"!=typeof window&&window.location&&window.location.hostname,g=d&&function(e){return-1!==u.indexOf(e)}(window.location.hostname);if(d&&g&&r.token&&!0!==r.ignoreBrowserTokenWarning?f():(!d||g)&&r.useCdn&&r.token?h():void 0===r.useCdn&&l(),c&&i.projectId(r.projectId),!s&&r.dataset&&i.dataset(r.dataset,r.gradientMode),r.isDefaultApi=r.apiHost===a.apiHost,r.useCdn=Boolean(r.useCdn)&&!r.token&&!r.withCredentials,r.gradientMode)r.url=r.apiHost,r.cdnUrl=r.apiHost;else{var y=r.apiHost.split(\"://\",2),m=y[0],v=y[1],b=r.isDefaultApi?\"apicdn.sanity.io\":v;r.useProjectHostname?(r.url=\"\".concat(m,\"://\").concat(r.projectId,\".\").concat(v,\"/v1\"),r.cdnUrl=\"\".concat(m,\"://\").concat(r.projectId,\".\").concat(b,\"/v1\")):(r.url=\"\".concat(r.apiHost,\"/v1\"),r.cdnUrl=r.url)}return r}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"DiffPatcher\",(function(){return Z})),r.d(t,\"formatters\",(function(){return qe})),r.d(t,\"console\",(function(){return Ie})),r.d(t,\"create\",(function(){return Be})),r.d(t,\"dateReviver\",(function(){return Le})),r.d(t,\"diff\",(function(){return Fe})),r.d(t,\"patch\",(function(){return ze})),r.d(t,\"unpatch\",(function(){return He})),r.d(t,\"reverse\",(function(){return $e})),r.d(t,\"clone\",(function(){return Ve}));var n=r(56),o=r.n(n),i=r(60),s=r.n(i),a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if(\"value\"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},f=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},h=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},g=function(){function e(t){u(this,e),this.selfOptions=t||{},this.pipes={}}return c(e,[{key:\"options\",value:function(e){return e&&(this.selfOptions=e),this.selfOptions}},{key:\"pipe\",value:function(e,t){var r=t;if(\"string\"==typeof e){if(void 0===r)return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}},{key:\"process\",value:function(e,t){var r=e;r.options=this.options();for(var n=t||e.pipe||\"default\",o=void 0,i=void 0;n;)void 0!==r.nextAfterChildren&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),\"string\"==typeof n&&(n=this.pipe(n)),n.process(r),i=r,o=n,n=null,r&&r.next&&(r=r.next,n=i.nextPipe||r.pipe||o);return r.hasResult?r.result:void 0}}]),e}(),y=function(){function e(t){u(this,e),this.name=t,this.filters=[]}return c(e,[{key:\"process\",value:function(e){if(!this.processor)throw new Error(\"add this pipe to a processor before using it\");for(var t=this.debug,r=this.filters.length,n=e,o=0;o<r;o++){var i=this.filters[o];if(t&&this.log(\"filter: \"+i.filterName),i(n),\"object\"===(void 0===n?\"undefined\":a(n))&&n.exiting){n.exiting=!1;break}}!n.next&&this.resultCheck&&this.resultCheck(n)}},{key:\"log\",value:function(e){console.log(\"[jsondiffpatch] \"+this.name+\" pipe, \"+e)}},{key:\"append\",value:function(){var e;return(e=this.filters).push.apply(e,arguments),this}},{key:\"prepend\",value:function(){var e;return(e=this.filters).unshift.apply(e,arguments),this}},{key:\"indexOf\",value:function(e){if(!e)throw new Error(\"a filter name is required\");for(var t=0;t<this.filters.length;t++){if(this.filters[t].filterName===e)return t}throw new Error(\"filter not found: \"+e)}},{key:\"list\",value:function(){return this.filters.map((function(e){return e.filterName}))}},{key:\"after\",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error(\"a filter is required\");return r.unshift(t+1,0),Array.prototype.splice.apply(this.filters,r),this}},{key:\"before\",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error(\"a filter is required\");return r.unshift(t,0),Array.prototype.splice.apply(this.filters,r),this}},{key:\"replace\",value:function(e){var t=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error(\"a filter is required\");return r.unshift(t,1),Array.prototype.splice.apply(this.filters,r),this}},{key:\"remove\",value:function(e){var t=this.indexOf(e);return this.filters.splice(t,1),this}},{key:\"clear\",value:function(){return this.filters.length=0,this}},{key:\"shouldHaveResult\",value:function(e){if(!1!==e){if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var r=new Error(t.name+\" failed\");throw r.noResult=!0,r}},this}}else this.resultCheck=null}}]),e}(),m=function(){function e(){u(this,e)}return c(e,[{key:\"setResult\",value:function(e){return this.result=e,this.hasResult=!0,this}},{key:\"exit\",value:function(){return this.exiting=!0,this}},{key:\"switchTo\",value:function(e,t){return\"string\"==typeof e||e instanceof y?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this}},{key:\"push\",value:function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}]),e}(),v=\"function\"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};function b(e){if(\"object\"!==(void 0===e?\"undefined\":a(e)))return e;if(null===e)return null;if(v(e))return e.map(b);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t=/^\\/(.*)\\/([gimyu]*)$/.exec(e.toString()),new RegExp(t[1],t[2]);var t,r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=b(e[n]));return r}var w=function(e){function t(e,r){u(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.left=e,n.right=r,n.pipe=\"diff\",n}return f(t,e),c(t,[{key:\"setResult\",value:function(e){if(this.options.cloneDiffValues&&\"object\"===(void 0===e?\"undefined\":a(e))){var t=\"function\"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:b;\"object\"===a(e[0])&&(e[0]=t(e[0])),\"object\"===a(e[1])&&(e[1]=t(e[1]))}return m.prototype.setResult.apply(this,arguments)}}]),t}(m),_=function(e){function t(e,r){u(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.left=e,n.delta=r,n.pipe=\"patch\",n}return f(t,e),t}(m),x=function(e){function t(e){u(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.delta=e,r.pipe=\"reverse\",r}return f(t,e),t}(m),E=\"function\"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},O=function(e){if(e.left!==e.right)if(void 0!==e.left)if(void 0!==e.right){if(\"function\"==typeof e.left||\"function\"==typeof e.right)throw new Error(\"functions are not supported\");e.leftType=null===e.left?\"null\":a(e.left),e.rightType=null===e.right?\"null\":a(e.right),e.leftType===e.rightType&&\"boolean\"!==e.leftType&&\"number\"!==e.leftType?(\"object\"===e.leftType&&(e.leftIsArray=E(e.left)),\"object\"===e.rightType&&(e.rightIsArray=E(e.right)),e.leftIsArray===e.rightIsArray?e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if(\"function\"==typeof e.right)throw new Error(\"functions are not supported\");e.setResult([e.right]).exit()}else e.setResult(void 0).exit()};O.filterName=\"trivial\";var S=function(e){if(void 0!==e.delta){if(e.nested=!E(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3===e.delta.length&&0===e.delta[2]&&e.setResult(void 0).exit();else{if(e.left instanceof RegExp){var t=/^\\/(.*)\\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()};S.filterName=\"trivial\";var j=function(e){void 0!==e.delta?(e.nested=!E(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()};function k(e){if(e&&e.children){for(var t=e.children.length,r=void 0,n=e.result,o=0;o<t;o++)void 0!==(r=e.children[o]).result&&((n=n||{})[r.childName]=r.result);n&&e.leftIsArray&&(n._t=\"a\"),e.setResult(n).exit()}}function R(e){if(!e.leftIsArray&&\"object\"===e.leftType){var t=void 0,r=void 0,n=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(n&&!n(t,e)||(r=new w(e.left[t],e.right[t]),e.push(r,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(n&&!n(t,e)||void 0===e.left[t]&&(r=new w(void 0,e.right[t]),e.push(r,t)));e.children&&0!==e.children.length?e.exit():e.setResult(void 0).exit()}}j.filterName=\"trivial\",k.filterName=\"collectChildren\",R.filterName=\"objects\";var C=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new _(e.left[t],e.delta[t]),e.push(r,t);e.exit()}};C.filterName=\"objects\";var T=function(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],Object.prototype.hasOwnProperty.call(e.left,r.childName)&&void 0===r.result?delete e.left[r.childName]:e.left[r.childName]!==r.result&&(e.left[r.childName]=r.result);e.setResult(e.left).exit()}};T.filterName=\"collectChildren\";var P=function(e){if(e.nested&&!e.delta._t){var t=void 0,r=void 0;for(t in e.delta)r=new x(e.delta[t]),e.push(r,t);e.exit()}};function A(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,r=void 0,n={},o=0;o<t;o++)n[(r=e.children[o]).childName]!==r.result&&(n[r.childName]=r.result);e.setResult(n).exit()}}P.filterName=\"objects\",A.filterName=\"collectChildren\";var M=function(e,t,r,n){return e[r]===t[n]},N=function(e,t,r,n){var o=n||{},i=function(e,t,r,n){for(var o=t.length,i=r.length,s={sequence:[],indices1:[],indices2:[]};0!==o&&0!==i;){if(e.match(t,r,o-1,i-1,n))s.sequence.unshift(t[o-1]),s.indices1.unshift(o-1),s.indices2.unshift(i-1),--o,--i;else e[o][i-1]>e[o-1][i]?--i:--o}return s}(function(e,t,r,n){var o=e.length,i=t.length,s=void 0,a=void 0,u=[o+1];for(s=0;s<o+1;s++)for(u[s]=[i+1],a=0;a<i+1;a++)u[s][a]=0;for(u.match=r,s=1;s<o+1;s++)for(a=1;a<i+1;a++)r(e,t,s-1,a-1,n)?u[s][a]=u[s-1][a-1]+1:u[s][a]=Math.max(u[s-1][a],u[s][a-1]);return u}(e,t,r||M,o),e,t,o);return\"string\"==typeof e&&\"string\"==typeof t&&(i.sequence=i.sequence.join(\"\")),i},D=\"function\"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},I=\"function\"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]===t)return n;return-1};function q(e,t,r,n,o){var i=e[r],s=t[n];if(i===s)return!0;if(\"object\"!==(void 0===i?\"undefined\":a(i))||\"object\"!==(void 0===s?\"undefined\":a(s)))return!1;var u=o.objectHash;if(!u)return o.matchByPosition&&r===n;var c=void 0,l=void 0;return\"number\"==typeof r?(o.hashCache1=o.hashCache1||[],void 0===(c=o.hashCache1[r])&&(o.hashCache1[r]=c=u(i,r))):c=u(i),void 0!==c&&(\"number\"==typeof n?(o.hashCache2=o.hashCache2||[],void 0===(l=o.hashCache2[n])&&(o.hashCache2[n]=l=u(s,n))):l=u(s),void 0!==l&&c===l)}var L=function(e){if(e.leftIsArray){var t={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},r=0,n=0,o=void 0,i=void 0,s=void 0,a=e.left,u=e.right,c=a.length,l=u.length,f=void 0;for(c>0&&l>0&&!t.objectHash&&\"boolean\"!=typeof t.matchByPosition&&(t.matchByPosition=!function(e,t,r,n){for(var o=0;o<r;o++)for(var i=e[o],s=0;s<n;s++){var a=t[s];if(o!==s&&i===a)return!0}}(a,u,c,l));r<c&&r<l&&q(a,u,r,r,t);)o=r,f=new w(e.left[o],e.right[o]),e.push(f,o),r++;for(;n+r<c&&n+r<l&&q(a,u,c-1-n,l-1-n,t);)i=c-1-n,s=l-1-n,f=new w(e.left[i],e.right[s]),e.push(f,s),n++;var h=void 0;if(r+n!==c)if(r+n!==l){delete t.hashCache1,delete t.hashCache2;var p=a.slice(r,c-n),d=u.slice(r,l-n),g=N(p,d,q,t),y=[];for(h=h||{_t:\"a\"},o=r;o<c-n;o++)I(g.indices1,o-r)<0&&(h[\"_\"+o]=[a[o],0,0],y.push(o));var m=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(m=!1);var v=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(v=!0);var b=y.length;for(o=r;o<l-n;o++){var _=I(g.indices2,o-r);if(_<0){var x=!1;if(m&&b>0)for(var E=0;E<b;E++)if(q(p,d,(i=y[E])-r,o-r,t)){h[\"_\"+i].splice(1,2,o,3),v||(h[\"_\"+i][0]=\"\"),s=o,f=new w(e.left[i],e.right[s]),e.push(f,s),y.splice(E,1),x=!0;break}x||(h[o]=[u[o]])}else i=g.indices1[_]+r,s=g.indices2[_]+r,f=new w(e.left[i],e.right[s]),e.push(f,s)}e.setResult(h).exit()}else{for(h=h||{_t:\"a\"},o=r;o<c-n;o++)h[\"_\"+o]=[a[o],0,0];e.setResult(h).exit()}else{if(c===l)return void e.setResult(void 0).exit();for(h=h||{_t:\"a\"},o=r;o<l-n;o++)h[o]=[u[o]];e.setResult(h).exit()}}};L.filterName=\"arrays\";var B=function(e,t){return e-t},U=function(e){return function(t,r){return t[e]-r[e]}},F=function(e){if(e.nested&&\"a\"===e.delta._t){var t=void 0,r=void 0,n=e.delta,o=e.left,i=[],s=[],a=[];for(t in n)if(\"_t\"!==t)if(\"_\"===t[0]){if(0!==n[t][2]&&3!==n[t][2])throw new Error(\"only removal or move can be applied at original array indices, invalid diff type: \"+n[t][2]);i.push(parseInt(t.slice(1),10))}else 1===n[t].length?s.push({index:parseInt(t,10),value:n[t][0]}):a.push({index:parseInt(t,10),delta:n[t]});for(t=(i=i.sort(B)).length-1;t>=0;t--){var u=n[\"_\"+(r=i[t])],c=o.splice(r,1)[0];3===u[2]&&s.push({index:u[1],value:c})}var l=(s=s.sort(U(\"index\"))).length;for(t=0;t<l;t++){var f=s[t];o.splice(f.index,0,f.value)}var h=a.length,p=void 0;if(h>0)for(t=0;t<h;t++){var d=a[t];p=new _(e.left[d.index],d.delta),e.push(p,d.index)}e.children?e.exit():e.setResult(e.left).exit()}};F.filterName=\"arrays\";var z=function(e){if(e&&e.children&&\"a\"===e.delta._t){for(var t=e.children.length,r=void 0,n=0;n<t;n++)r=e.children[n],e.left[r.childName]=r.result;e.setResult(e.left).exit()}};z.filterName=\"arraysCollectChildren\";var H=function(e){if(e.nested){if(\"a\"===e.delta._t){var t=void 0,r=void 0;for(t in e.delta)\"_t\"!==t&&(r=new x(e.delta[t]),e.push(r,t));e.exit()}}else 3===e.delta[2]&&(e.newName=\"_\"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),3]).exit())};H.filterName=\"arrays\";var $=function(e,t,r){if(\"string\"==typeof t&&\"_\"===t[0])return parseInt(t.substr(1),10);if(D(r)&&0===r[2])return\"_\"+t;var n=+t;for(var o in e){var i=e[o];if(D(i))if(3===i[2]){var s=parseInt(o.substr(1),10),a=i[1];if(a===+t)return s;s<=n&&a>n?n++:s>=n&&a<n&&n--}else if(0===i[2]){parseInt(o.substr(1),10)<=n&&n++}else 1===i.length&&o<=n&&n--}return n};function V(e){if(e&&e.children&&\"a\"===e.delta._t){for(var t=e.children.length,r=void 0,n={_t:\"a\"},o=0;o<t;o++){var i=(r=e.children[o]).newName;void 0===i&&(i=$(e.delta,r.childName,r.result)),n[i]!==r.result&&(n[i]=r.result)}e.setResult(n).exit()}}V.filterName=\"arraysCollectChildren\";var G=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};G.filterName=\"dates\";var Y=null,W=function(e){if(!Y){var t=void 0;if(\"undefined\"!=typeof diff_match_patch)t=\"function\"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(o.a)try{t=o.a&&new o.a}catch(e){t=null}if(!t){if(!e)return null;var r=new Error(\"text diff_match_patch library not found\");throw r.diff_match_patch_not_found=!0,r}Y={diff:function(e,r){return t.patch_toText(t.patch_make(e,r))},patch:function(e,r){for(var n=t.patch_apply(t.patch_fromText(r),e),o=0;o<n[1].length;o++){if(!n[1][o])new Error(\"text patch failed\").textPatchFailed=!0}return n[0]}}}return Y},J=function(e){if(\"string\"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60;if(e.left.length<t||e.right.length<t)e.setResult([e.left,e.right]).exit();else{var r=W();if(r){var n=r.diff;e.setResult([n(e.left,e.right),0,2]).exit()}else e.setResult([e.left,e.right]).exit()}}};J.filterName=\"texts\";var X=function(e){if(!e.nested&&2===e.delta[2]){var t=W(!0).patch;e.setResult(t(e.left,e.delta[0])).exit()}};X.filterName=\"texts\";var Q=function(e){var t,r=void 0,n=void 0,o=void 0,i=void 0,s=null,a=/^@@ +-(\\d+),(\\d+) +\\+(\\d+),(\\d+) +@@$/;for(r=0,t=(n=e.split(\"\\n\")).length;r<t;r++){var u=(o=n[r]).slice(0,1);\"@\"===u?(s=a.exec(o),n[r]=\"@@ -\"+s[3]+\",\"+s[4]+\" +\"+s[1]+\",\"+s[2]+\" @@\"):\"+\"===u?(n[r]=\"-\"+n[r].slice(1),\"+\"===n[r-1].slice(0,1)&&(i=n[r],n[r]=n[r-1],n[r-1]=i)):\"-\"===u&&(n[r]=\"+\"+n[r].slice(1))}return n.join(\"\\n\")},K=function(e){e.nested||2===e.delta[2]&&e.setResult([Q(e.delta[0]),0,2]).exit()};K.filterName=\"texts\";var Z=function(){function e(t){u(this,e),this.processor=new g(t),this.processor.pipe(new y(\"diff\").append(k,O,G,J,R,L).shouldHaveResult()),this.processor.pipe(new y(\"patch\").append(T,z,S,X,C,F).shouldHaveResult()),this.processor.pipe(new y(\"reverse\").append(A,V,j,K,P,H).shouldHaveResult())}return c(e,[{key:\"options\",value:function(){var e;return(e=this.processor).options.apply(e,arguments)}},{key:\"diff\",value:function(e,t){return this.processor.process(new w(e,t))}},{key:\"patch\",value:function(e,t){return this.processor.process(new _(e,t))}},{key:\"reverse\",value:function(e){return this.processor.process(new x(e))}},{key:\"unpatch\",value:function(e,t){return this.patch(e,this.reverse(t))}},{key:\"clone\",value:function(e){return b(e)}}]),e}(),ee=\"function\"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},te=\"function\"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},re=function(e){return\"_t\"===e?-1:\"_\"===e.substr(0,1)?parseInt(e.slice(1),10):parseInt(e,10)+.1},ne=function(e,t){return re(e)-re(t)},oe=function(){function e(){u(this,e)}return c(e,[{key:\"format\",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),this.finalize(r)}},{key:\"prepareContext\",value:function(e){e.buffer=[],e.out=function(){var e;(e=this.buffer).push.apply(e,arguments)}}},{key:\"typeFormattterNotFound\",value:function(e,t){throw new Error(\"cannot format delta type: \"+t)}},{key:\"typeFormattterErrorFormatter\",value:function(e,t){return t.toString()}},{key:\"finalize\",value:function(e){var t=e.buffer;if(ee(t))return t.join(\"\")}},{key:\"recurse\",value:function(e,t,r,n,o,i,s){var a=t&&i?i.value:r;if(void 0!==t||void 0!==n){var u=this.getDeltaType(t,i),c=\"node\"===u?\"a\"===t._t?\"array\":\"object\":\"\";void 0!==n?this.nodeBegin(e,n,o,u,c,s):this.rootBegin(e,u,c);try{(this[\"format_\"+u]||this.typeFormattterNotFound(e,u)).call(this,e,t,a,n,o,i)}catch(r){this.typeFormattterErrorFormatter(e,r,t,a,n,o,i),\"undefined\"!=typeof console&&console.error&&console.error(r.stack)}void 0!==n?this.nodeEnd(e,n,o,u,c,s):this.rootEnd(e,u,c)}}},{key:\"formatDeltaChildren\",value:function(e,t,r){var n=this;this.forEachDeltaKey(t,r,(function(o,i,s,a){n.recurse(e,t[o],r?r[i]:void 0,o,i,s,a)}))}},{key:\"forEachDeltaKey\",value:function(e,t,r){var n,o=te(e),i=\"a\"===e._t,s={},a=void 0;if(void 0!==t)for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(void 0!==e[a]||i&&void 0!==e[\"_\"+a]||o.push(a));for(a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=e[a];ee(u)&&3===u[2]&&(s[u[1].toString()]={key:a,value:t&&t[parseInt(a.substr(1))]},!1!==this.includeMoveDestinations&&void 0===t&&void 0===e[u[1]]&&o.push(u[1].toString()))}i?o.sort(ne):o.sort();for(var c=0,l=o.length;c<l;c++){var f=o[c];if(!i||\"_t\"!==f){var h=i?\"number\"==typeof f?f:parseInt(\"_\"===(n=f).substr(0,1)?n.slice(1):n,10):f,p=c===l-1;r(f,h,s[h],p)}}}},{key:\"getDeltaType\",value:function(e,t){if(void 0===e)return void 0!==t?\"movedestination\":\"unchanged\";if(ee(e)){if(1===e.length)return\"added\";if(2===e.length)return\"modified\";if(3===e.length&&0===e[2])return\"deleted\";if(3===e.length&&2===e[2])return\"textdiff\";if(3===e.length&&3===e[2])return\"moved\"}else if(\"object\"===(void 0===e?\"undefined\":a(e)))return\"node\";return\"unknown\"}},{key:\"parseTextDiff\",value:function(e){for(var t=[],r=e.split(\"\\n@@ \"),n=0,o=r.length;n<o;n++){var i=r[n],s={pieces:[]},a=/^(?:@@ )?[-+]?(\\d+),(\\d+)/.exec(i).slice(1);s.location={line:a[0],chr:a[1]};for(var u=i.split(\"\\n\").slice(1),c=0,l=u.length;c<l;c++){var f=u[c];if(f.length){var h={type:\"context\"};\"+\"===f.substr(0,1)?h.type=\"added\":\"-\"===f.substr(0,1)&&(h.type=\"deleted\"),h.text=f.slice(1),s.pieces.push(h)}}t.push(s)}return t}}]),e}(),ie=Object.freeze({default:oe}),se=function(e){function t(){return u(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),c(t,[{key:\"typeFormattterErrorFormatter\",value:function(e,t){e.out('<pre class=\"jsondiffpatch-error\">'+t+\"</pre>\")}},{key:\"formatValue\",value:function(e,t){e.out(\"<pre>\"+ae(JSON.stringify(t,null,2))+\"</pre>\")}},{key:\"formatTextDiffString\",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class=\"jsondiffpatch-textdiff\">');for(var n=0,o=r.length;n<o;n++){var i=r[n];e.out('<li><div class=\"jsondiffpatch-textdiff-location\"><span class=\"jsondiffpatch-textdiff-line-number\">'+i.location.line+'</span><span class=\"jsondiffpatch-textdiff-char\">'+i.location.chr+'</span></div><div class=\"jsondiffpatch-textdiff-line\">');for(var s=i.pieces,a=0,u=s.length;a<u;a++){var c=s[a];e.out('<span class=\"jsondiffpatch-textdiff-'+c.type+'\">'+ae(decodeURI(c.text))+\"</span>\")}e.out(\"</div></li>\")}e.out(\"</ul>\")}},{key:\"rootBegin\",value:function(e,t,r){var n=\"jsondiffpatch-\"+t+(r?\" jsondiffpatch-child-node-type-\"+r:\"\");e.out('<div class=\"jsondiffpatch-delta '+n+'\">')}},{key:\"rootEnd\",value:function(e){e.out(\"</div>\"+(e.hasArrows?'<script type=\"text/javascript\">setTimeout('+ue.toString()+\",10);<\\/script>\":\"\"))}},{key:\"nodeBegin\",value:function(e,t,r,n,o){var i=\"jsondiffpatch-\"+n+(o?\" jsondiffpatch-child-node-type-\"+o:\"\");e.out('<li class=\"'+i+'\" data-key=\"'+r+'\"><div class=\"jsondiffpatch-property-name\">'+r+\"</div>\")}},{key:\"nodeEnd\",value:function(e){e.out(\"</li>\")}},{key:\"format_unchanged\",value:function(e,t,r){void 0!==r&&(e.out('<div class=\"jsondiffpatch-value\">'),this.formatValue(e,r),e.out(\"</div>\"))}},{key:\"format_movedestination\",value:function(e,t,r){void 0!==r&&(e.out('<div class=\"jsondiffpatch-value\">'),this.formatValue(e,r),e.out(\"</div>\"))}},{key:\"format_node\",value:function(e,t,r){var n=\"a\"===t._t?\"array\":\"object\";e.out('<ul class=\"jsondiffpatch-node jsondiffpatch-node-type-'+n+'\">'),this.formatDeltaChildren(e,t,r),e.out(\"</ul>\")}},{key:\"format_added\",value:function(e,t){e.out('<div class=\"jsondiffpatch-value\">'),this.formatValue(e,t[0]),e.out(\"</div>\")}},{key:\"format_modified\",value:function(e,t){e.out('<div class=\"jsondiffpatch-value jsondiffpatch-left-value\">'),this.formatValue(e,t[0]),e.out('</div><div class=\"jsondiffpatch-value jsondiffpatch-right-value\">'),this.formatValue(e,t[1]),e.out(\"</div>\")}},{key:\"format_deleted\",value:function(e,t){e.out('<div class=\"jsondiffpatch-value\">'),this.formatValue(e,t[0]),e.out(\"</div>\")}},{key:\"format_moved\",value:function(e,t){e.out('<div class=\"jsondiffpatch-value\">'),this.formatValue(e,t[0]),e.out('</div><div class=\"jsondiffpatch-moved-destination\">'+t[1]+\"</div>\"),e.out('<div class=\"jsondiffpatch-arrow\" style=\"position: relative; left: -34px;\">\\n          <svg width=\"30\" height=\"60\" style=\"position: absolute; display: none;\">\\n          <defs>\\n              <marker id=\"markerArrow\" markerWidth=\"8\" markerHeight=\"8\"\\n                 refx=\"2\" refy=\"4\"\\n                     orient=\"auto\" markerUnits=\"userSpaceOnUse\">\\n                  <path d=\"M1,1 L1,7 L7,4 L1,1\" style=\"fill: #339;\" />\\n              </marker>\\n          </defs>\\n          <path d=\"M30,0 Q-10,25 26,50\"\\n            style=\"stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);\"\\n          ></path>\\n          </svg>\\n      </div>'),e.hasArrows=!0}},{key:\"format_textdiff\",value:function(e,t){e.out('<div class=\"jsondiffpatch-value\">'),this.formatTextDiffString(e,t[0]),e.out(\"</div>\")}}]),t}(oe);function ae(e){for(var t=e,r=[[/&/g,\"&amp;\"],[/</g,\"&lt;\"],[/>/g,\"&gt;\"],[/'/g,\"&apos;\"],[/\"/g,\"&quot;\"]],n=0;n<r.length;n++)t=t.replace(r[n][0],r[n][1]);return t}var ue=function(e){var t=e||document;!function(e,t,r){for(var n=e.querySelectorAll(t),o=0,i=n.length;o<i;o++)r(n[o])}(t,\".jsondiffpatch-arrow\",(function(e){var t=e.parentNode,r=e.children,n=e.style,o=t,i=r[0],s=i.children[1];i.style.display=\"none\";var a,u,c,l=(a=o.querySelector(\".jsondiffpatch-moved-destination\"),u=a.textContent,c=a.innerText,u||c),f=o.parentNode,h=void 0;if(function(e,t){for(var r=e.children,n=0,o=r.length;n<o;n++)t(r[n],n)}(f,(function(e){e.getAttribute(\"data-key\")===l&&(h=e)})),h)try{var p=h.offsetTop-o.offsetTop;i.setAttribute(\"height\",Math.abs(p)+6),n.top=-8+(p>0?0:p)+\"px\";var d=p>0?\"M30,0 Q-10,\"+Math.round(p/2)+\" 26,\"+(p-4):\"M30,\"+-p+\" Q-10,\"+Math.round(-p/2)+\" 26,4\";s.setAttribute(\"d\",d),i.style.display=\"\"}catch(e){}}))},ce=function(e,t,r){var n=t||document.body,o=\"jsondiffpatch-unchanged-\",i={showing:o+\"showing\",hiding:o+\"hiding\",visible:o+\"visible\",hidden:o+\"hidden\"},s=n.classList;if(s){if(!r)return s.remove(i.showing),s.remove(i.hiding),s.remove(i.visible),s.remove(i.hidden),void(!1===e&&s.add(i.hidden));!1===e?(s.remove(i.showing),s.add(i.visible),setTimeout((function(){s.add(i.hiding)}),10)):(s.remove(i.hiding),s.add(i.showing),s.remove(i.hidden));var a=setInterval((function(){ue(n)}),100);setTimeout((function(){s.remove(i.showing),s.remove(i.hiding),!1===e?(s.add(i.hidden),s.remove(i.visible)):(s.add(i.visible),s.remove(i.hidden)),setTimeout((function(){s.remove(i.visible),clearInterval(a)}),r+400)}),r)}},le=void 0;var fe=Object.freeze({showUnchanged:ce,hideUnchanged:function(e,t){return ce(!1,e,t)},default:se,format:function(e,t){return le||(le=new se),le.format(e,t)}}),he=function(e){function t(){u(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return f(t,e),c(t,[{key:\"prepareContext\",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"prepareContext\",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join(\"&nbsp;&nbsp;\")},e.row=function(t,r){e.out('<tr><td style=\"white-space: nowrap;\"><pre class=\"jsondiffpatch-annotated-indent\" style=\"display: inline-block\">'),e.out(e.indentPad),e.out('</pre><pre style=\"display: inline-block\">'),e.out(t),e.out('</pre></td><td class=\"jsondiffpatch-delta-note\"><div>'),e.out(r),e.out(\"</div></td></tr>\")}}},{key:\"typeFormattterErrorFormatter\",value:function(e,t){e.row(\"\",'<pre class=\"jsondiffpatch-error\">'+t+\"</pre>\")}},{key:\"formatTextDiffString\",value:function(e,t){var r=this.parseTextDiff(t);e.out('<ul class=\"jsondiffpatch-textdiff\">');for(var n=0,o=r.length;n<o;n++){var i=r[n];e.out('<li><div class=\"jsondiffpatch-textdiff-location\"><span class=\"jsondiffpatch-textdiff-line-number\">'+i.location.line+'</span><span class=\"jsondiffpatch-textdiff-char\">'+i.location.chr+'</span></div><div class=\"jsondiffpatch-textdiff-line\">');for(var s=i.pieces,a=0,u=s.length;a<u;a++){var c=s[a];e.out('<span class=\"jsondiffpatch-textdiff-'+c.type+'\">'+c.text+\"</span>\")}e.out(\"</div></li>\")}e.out(\"</ul>\")}},{key:\"rootBegin\",value:function(e,t,r){e.out('<table class=\"jsondiffpatch-annotated-delta\">'),\"node\"===t&&(e.row(\"{\"),e.indent()),\"array\"===r&&e.row('\"_t\": \"a\",',\"Array delta (member names indicate array indices)\")}},{key:\"rootEnd\",value:function(e,t){\"node\"===t&&(e.indent(-1),e.row(\"}\")),e.out(\"</table>\")}},{key:\"nodeBegin\",value:function(e,t,r,n,o){e.row(\"&quot;\"+t+\"&quot;: {\"),\"node\"===n&&e.indent(),\"array\"===o&&e.row('\"_t\": \"a\",',\"Array delta (member names indicate array indices)\")}},{key:\"nodeEnd\",value:function(e,t,r,n,o,i){\"node\"===n&&e.indent(-1),e.row(\"}\"+(i?\"\":\",\"))}},{key:\"format_unchanged\",value:function(){}},{key:\"format_movedestination\",value:function(){}},{key:\"format_node\",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}}]),t}(oe),pe=function(e){return'<pre style=\"display:inline-block\">&quot;'+e+\"&quot;</pre>\"},de={added:function(e,t,r,n){var o=\" <pre>([newValue])</pre>\";return void 0===n?\"new value\"+o:\"number\"==typeof n?\"insert at index \"+n+o:\"add property \"+pe(n)+o},modified:function(e,t,r,n){var o=\" <pre>([previousValue, newValue])</pre>\";return void 0===n?\"modify value\"+o:\"number\"==typeof n?\"modify at index \"+n+o:\"modify property \"+pe(n)+o},deleted:function(e,t,r,n){var o=\" <pre>([previousValue, 0, 0])</pre>\";return void 0===n?\"delete value\"+o:\"number\"==typeof n?\"remove index \"+n+o:\"delete property \"+pe(n)+o},moved:function(e,t,r,n){return'move from <span title=\"(position to remove at original state)\">index '+n+'</span> to <span title=\"(position to insert at final state)\">index '+e[1]+\"</span>\"},textdiff:function(e,t,r,n){return\"text diff\"+(void 0===n?\"\":\"number\"==typeof n?\" at index \"+n:\" at property \"+pe(n))+', format is <a href=\"https://code.google.com/p/google-diff-match-patch/wiki/Unidiff\">a variation of Unidiff</a>'}},ge=function(e,t){var r=this.getDeltaType(t),n=de[r],o=n&&n.apply(n,Array.prototype.slice.call(arguments,1)),i=JSON.stringify(t,null,2);\"textdiff\"===r&&(i=i.split(\"\\\\n\").join('\\\\n\"+\\n   \"')),e.indent(),e.row(i,o),e.indent(-1)};he.prototype.format_added=ge,he.prototype.format_modified=ge,he.prototype.format_deleted=ge,he.prototype.format_moved=ge,he.prototype.format_textdiff=ge;var ye=void 0;var me=Object.freeze({default:he,format:function(e,t){return ye||(ye=new he),ye.format(e,t)}}),ve=\"add\",be=\"remove\",we=\"replace\",_e=\"move\",xe=function(e){function t(){u(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!0,e}return f(t,e),c(t,[{key:\"prepareContext\",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"prepareContext\",this).call(this,e),e.result=[],e.path=[],e.pushCurrentOp=function(e){var t=e.op,r=e.value,n={op:t,path:this.currentPath()};void 0!==r&&(n.value=r),this.result.push(n)},e.pushMoveOp=function(e){var t=this.currentPath();this.result.push({op:_e,from:t,path:this.toPath(e)})},e.currentPath=function(){return\"/\"+this.path.join(\"/\")},e.toPath=function(e){var t=this.path.slice();return t[t.length-1]=e,\"/\"+t.join(\"/\")}}},{key:\"typeFormattterErrorFormatter\",value:function(e,t){e.out(\"[ERROR] \"+t)}},{key:\"rootBegin\",value:function(){}},{key:\"rootEnd\",value:function(){}},{key:\"nodeBegin\",value:function(e,t,r){e.path.push(r)}},{key:\"nodeEnd\",value:function(e){e.path.pop()}},{key:\"format_unchanged\",value:function(){}},{key:\"format_movedestination\",value:function(){}},{key:\"format_node\",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:\"format_added\",value:function(e,t){e.pushCurrentOp({op:ve,value:t[0]})}},{key:\"format_modified\",value:function(e,t){e.pushCurrentOp({op:we,value:t[1]})}},{key:\"format_deleted\",value:function(e){e.pushCurrentOp({op:be})}},{key:\"format_moved\",value:function(e,t){var r=t[1];e.pushMoveOp(r)}},{key:\"format_textdiff\",value:function(){throw new Error(\"Not implemented\")}},{key:\"format\",value:function(e,t){var r={};return this.prepareContext(r),this.recurse(r,e,t),r.result}}]),t}(oe),Ee=function(e){return e[e.length-1]},Oe=function(e){return r=function(e,t){var r,n,o,i,s=e.path.split(\"/\"),a=t.path.split(\"/\");return s.length!==a.length?s.length-a.length:(r=Ee(s),n=Ee(a),o=parseInt(r,10),i=parseInt(n,10),isNaN(o)||isNaN(i)?0:i-o)},(t=e).sort(r),t;var t,r},Se=function(e,t){var r=Array(t.length+1).fill().map((function(){return[]}));return e.map((function(e){var r=t.map((function(t){return t(e)})).indexOf(!0);return r<0&&(r=t.length),{item:e,position:r}})).reduce((function(e,t){return e[t.position].push(t.item),e}),r)},je=function(e){return\"move\"===e.op},ke=function(e){return\"remove\"===e.op},Re=void 0,Ce=function(e,t){return Re||(Re=new xe),function(e){var t=Se(e,[je,ke]),r=p(t,3),n=r[0],o=r[1],i=r[2],s=Oe(o);return[].concat(d(s),d(n),d(i))}(Re.format(e,t))},Te=Object.freeze({default:xe,partitionOps:Se,format:Ce,log:function(e,t){console.log(Ce(e,t))}});function Pe(e){return s.a&&s.a[e]||function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}}var Ae={added:Pe(\"green\"),deleted:Pe(\"red\"),movedestination:Pe(\"gray\"),moved:Pe(\"yellow\"),unchanged:Pe(\"gray\"),error:Pe(\"white.bgRed\"),textDiffLine:Pe(\"gray\")},Me=function(e){function t(){u(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return f(t,e),c(t,[{key:\"prepareContext\",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"prepareContext\",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join(\"  \"),this.outLine()},e.outLine=function(){this.buffer.push(\"\\n\"+(this.indentPad||\"\"))},e.out=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t.length;n<o;n++){var i=t[n].split(\"\\n\"),s=i.join(\"\\n\"+(this.indentPad||\"\"));this.color&&this.color[0]&&(s=this.color[0](s)),this.buffer.push(s)}},e.pushColor=function(e){this.color=this.color||[],this.color.unshift(e)},e.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:\"typeFormattterErrorFormatter\",value:function(e,t){e.pushColor(Ae.error),e.out(\"[ERROR]\"+t),e.popColor()}},{key:\"formatValue\",value:function(e,t){e.out(JSON.stringify(t,null,2))}},{key:\"formatTextDiffString\",value:function(e,t){var r=this.parseTextDiff(t);e.indent();for(var n=0,o=r.length;n<o;n++){var i=r[n];e.pushColor(Ae.textDiffLine),e.out(i.location.line+\",\"+i.location.chr+\" \"),e.popColor();for(var s=i.pieces,a=0,u=s.length;a<u;a++){var c=s[a];e.pushColor(Ae[c.type]),e.out(c.text),e.popColor()}n<o-1&&e.outLine()}e.indent(-1)}},{key:\"rootBegin\",value:function(e,t,r){e.pushColor(Ae[t]),\"node\"===t&&(e.out(\"array\"===r?\"[\":\"{\"),e.indent())}},{key:\"rootEnd\",value:function(e,t,r){\"node\"===t&&(e.indent(-1),e.out(\"array\"===r?\"]\":\"}\")),e.popColor()}},{key:\"nodeBegin\",value:function(e,t,r,n,o){e.pushColor(Ae[n]),e.out(r+\": \"),\"node\"===n&&(e.out(\"array\"===o?\"[\":\"{\"),e.indent())}},{key:\"nodeEnd\",value:function(e,t,r,n,o,i){\"node\"===n&&(e.indent(-1),e.out(\"array\"===o?\"]\":\"}\"+(i?\"\":\",\"))),i||e.outLine(),e.popColor()}},{key:\"format_unchanged\",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:\"format_movedestination\",value:function(e,t,r){void 0!==r&&this.formatValue(e,r)}},{key:\"format_node\",value:function(e,t,r){this.formatDeltaChildren(e,t,r)}},{key:\"format_added\",value:function(e,t){this.formatValue(e,t[0])}},{key:\"format_modified\",value:function(e,t){e.pushColor(Ae.deleted),this.formatValue(e,t[0]),e.popColor(),e.out(\" => \"),e.pushColor(Ae.added),this.formatValue(e,t[1]),e.popColor()}},{key:\"format_deleted\",value:function(e,t){this.formatValue(e,t[0])}},{key:\"format_moved\",value:function(e,t){e.out(\"==> \"+t[1])}},{key:\"format_textdiff\",value:function(e,t){this.formatTextDiffString(e,t[0])}}]),t}(oe),Ne=void 0,De=function(e,t){return Ne||(Ne=new Me),Ne.format(e,t)};var Ie=Object.freeze({default:Me,format:De,log:function(e,t){console.log(De(e,t))}}),qe=Object.freeze({base:ie,html:fe,annotated:me,jsonpatch:Te,console:Ie});function Le(e,t){var r=void 0;return\"string\"==typeof t&&(r=/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d*))?(Z|([+-])(\\d{2}):(\\d{2}))$/.exec(t))?new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+(r[7]||0))):t}function Be(e){return new Z(e)}var Ue=void 0;function Fe(){return Ue||(Ue=new Z),Ue.diff.apply(Ue,arguments)}function ze(){return Ue||(Ue=new Z),Ue.patch.apply(Ue,arguments)}function He(){return Ue||(Ue=new Z),Ue.unpatch.apply(Ue,arguments)}function $e(){return Ue||(Ue=new Z),Ue.reverse.apply(Ue,arguments)}function Ve(){return Ue||(Ue=new Z),Ue.clone.apply(Ue,arguments)}},function(e,t,r){\"use strict\";var n=/[|\\\\{}()[\\]^$+*?.]/g;e.exports=function(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");return e.replace(n,\"\\\\$&\")}},function(e,t,r){\"use strict\";(function(e){const t=r(184),n=(e,r)=>function(){const n=e.apply(t,arguments);return`\u001b[${n+r}m`},o=(e,r)=>function(){const n=e.apply(t,arguments);return`\u001b[${38+r};5;${n}m`},i=(e,r)=>function(){const n=e.apply(t,arguments);return`\u001b[${38+r};2;${n[0]};${n[1]};${n[2]}m`};Object.defineProperty(e,\"exports\",{enumerable:!0,get:function(){const e=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.grey=r.color.gray;for(const t of Object.keys(r)){const n=r[t];for(const t of Object.keys(n)){const o=n[t];r[t]={open:`\u001b[${o[0]}m`,close:`\u001b[${o[1]}m`},n[t]=r[t],e.set(o[0],o[1])}Object.defineProperty(r,t,{value:n,enumerable:!1}),Object.defineProperty(r,\"codes\",{value:e,enumerable:!1})}const s=e=>e,a=(e,t,r)=>[e,t,r];r.color.close=\"\u001b[39m\",r.bgColor.close=\"\u001b[49m\",r.color.ansi={ansi:n(s,0)},r.color.ansi256={ansi256:o(s,0)},r.color.ansi16m={rgb:i(a,0)},r.bgColor.ansi={ansi:n(s,10)},r.bgColor.ansi256={ansi256:o(s,10)},r.bgColor.ansi16m={rgb:i(a,10)};for(let e of Object.keys(t)){if(\"object\"!=typeof t[e])continue;const s=t[e];\"ansi16\"===e&&(e=\"ansi\"),\"ansi16\"in s&&(r.color.ansi[e]=n(s.ansi16,0),r.bgColor.ansi[e]=n(s.ansi16,10)),\"ansi256\"in s&&(r.color.ansi256[e]=o(s.ansi256,0),r.bgColor.ansi256[e]=o(s.ansi256,10)),\"rgb\"in s&&(r.color.ansi16m[e]=i(s.rgb,0),r.bgColor.ansi16m[e]=i(s.rgb,10))}return r}})}).call(this,r(183)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(82),o=r(186),i={};Object.keys(n).forEach((function(e){i[e]={},Object.defineProperty(i[e],\"channels\",{value:n[e].channels}),Object.defineProperty(i[e],\"labels\",{value:n[e].labels});var t=o(e);Object.keys(t).forEach((function(r){var n=t[r];i[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if(\"object\"==typeof r)for(var n=r.length,o=0;o<n;o++)r[o]=Math.round(r[o]);return r};return\"conversion\"in e&&(t.conversion=e.conversion),t}(n),i[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return\"conversion\"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=i},function(e,t,r){\"use strict\";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(82);function o(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,o=0;o<r;o++)e[t[o]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var o=r.pop(),i=Object.keys(n[o]),s=i.length,a=0;a<s;a++){var u=i[a],c=t[u];-1===c.distance&&(c.distance=t[o].distance+1,c.parent=o,r.unshift(u))}return t}function i(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],o=n[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),o=i(n[t[s].parent][s],o),s=t[s].parent;return o.conversion=r,o}e.exports=function(e){for(var t=o(e),r={},n=Object.keys(t),i=n.length,a=0;a<i;a++){var u=n[a];null!==t[u].parent&&(r[u]=s(u,t))}return r}},function(e,t,r){\"use strict\";const n=r(188),o=r(189),i=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(o(\"color=16m\")||o(\"color=full\")||o(\"color=truecolor\"))return 3;if(o(\"color=256\"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if(\"win32\"===process.platform){const e=n.release().split(\".\");return Number(process.versions.node.split(\".\")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in i)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\"].some(e=>e in i)||\"codeship\"===i.CI_NAME?1:t;if(\"TEAMCITY_VERSION\"in i)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(i.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===i.COLORTERM)return 3;if(\"TERM_PROGRAM\"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(i.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||\"COLORTERM\"in i?1:(i.TERM,t)}(e))}o(\"no-color\")||o(\"no-colors\")||o(\"color=false\")?s=!1:(o(\"color\")||o(\"colors\")||o(\"color=true\")||o(\"color=always\"))&&(s=!0),\"FORCE_COLOR\"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){e.exports=require(\"os\")},function(e,t,r){\"use strict\";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith(\"-\")?\"\":1===e.length?\"-\":\"--\",n=t.indexOf(r+e),o=t.indexOf(\"--\");return-1!==n&&(-1===o||n<o)}},function(e,t,r){\"use strict\";const n=/(?:\\\\(u[a-f\\d]{4}|x[a-f\\d]{2}|.))|(?:\\{(~)?(\\w+(?:\\([^)]*\\))?(?:\\.\\w+(?:\\([^)]*\\))?)*)(?:[ \\t]|(?=\\r?\\n)))|(\\})|((?:.|[\\r\\n\\f])+?)/gi,o=/(?:^|\\.)(\\w+)(?:\\(([^)]*)\\))?/g,i=/^(['\"])((?:\\\\.|(?!\\1)[^\\\\])*)\\1$/,s=/\\\\(u[a-f\\d]{4}|x[a-f\\d]{2}|.)|([^\\\\])/gi,a=new Map([[\"n\",\"\\n\"],[\"r\",\"\\r\"],[\"t\",\"\\t\"],[\"b\",\"\\b\"],[\"f\",\"\\f\"],[\"v\",\"\\v\"],[\"0\",\"\\0\"],[\"\\\\\",\"\\\\\"],[\"e\",\"\u001b\"],[\"a\",\"\u0007\"]]);function u(e){return\"u\"===e[0]&&5===e.length||\"x\"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):a.get(e)||e}function c(e,t){const r=[],n=t.trim().split(/\\s*,\\s*/g);let o;for(const t of n)if(isNaN(t)){if(!(o=t.match(i)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(o[2].replace(s,(e,t,r)=>t?u(t):r))}else r.push(Number(t));return r}function l(e){o.lastIndex=0;const t=[];let r;for(;null!==(r=o.exec(e));){const e=r[1];if(r[2]){const n=c(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function f(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const e of Object.keys(r))if(Array.isArray(r[e])){if(!(e in n))throw new Error(\"Unknown Chalk style: \"+e);n=r[e].length>0?n[e].apply(n,r[e]):n[e]}return n}e.exports=(e,t)=>{const r=[],o=[];let i=[];if(t.replace(n,(t,n,s,a,c,h)=>{if(n)i.push(u(n));else if(a){const t=i.join(\"\");i=[],o.push(0===r.length?t:f(e,r)(t)),r.push({inverse:s,styles:l(a)})}else if(c){if(0===r.length)throw new Error(\"Found extraneous } in Chalk template literal\");o.push(f(e,r)(i.join(\"\"))),i=[],r.pop()}else i.push(h)}),o.push(i.join(\"\")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?\"\":\"s\"} (\\`}\\`)`;throw new Error(e)}return o.join(\"\")}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"handler\",(function(){return he}));var n=r(8),o=r.n(n),i=r(83),s=r.n(i),a=r(84),u=r.n(a),c=r(6),l=r(5),f=r(4),h=r(7),p=r(19);const d=c.Readable,g=Symbol(\"buffer\"),y=Symbol(\"type\");class m{constructor(){this[y]=\"\";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof m?o[g]:Buffer.from(\"string\"==typeof o?o:String(o)),n+=i.length,r.push(i)}}this[g]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\\u0020-\\u007E]/.test(o)&&(this[y]=o)}get size(){return this[g].length}get type(){return this[y]}text(){return Promise.resolve(this[g].toString())}arrayBuffer(){const e=this[g],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new d;return e._read=function(){},e.push(this[g]),e.push(null),e}toString(){return\"[object Blob]\"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const i=Math.max(o-n,0),s=this[g].slice(n,n+i),a=new m([],{type:arguments[2]});return a[g]=s,a}}function v(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let b;Object.defineProperties(m.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(m.prototype,Symbol.toStringTag,{value:\"Blob\",writable:!1,enumerable:!1,configurable:!0}),v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.prototype.name=\"FetchError\";try{b=require(\"encoding\").convert}catch(e){}const w=Symbol(\"Body internals\"),_=c.PassThrough;function x(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.size;let o=void 0===n?0:n;var i=r.timeout;let s=void 0===i?0:i;null==e?e=null:O(e)?e=Buffer.from(e.toString()):S(e)||Buffer.isBuffer(e)||(\"[object ArrayBuffer]\"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof c||(e=Buffer.from(String(e)))),this[w]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=s,e instanceof c&&e.on(\"error\",(function(e){const r=\"AbortError\"===e.name?e:new v(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,\"system\",e);t[w].error=r}))}function E(){var e=this;if(this[w].disturbed)return x.Promise.reject(new TypeError(\"body used already for: \"+this.url));if(this[w].disturbed=!0,this[w].error)return x.Promise.reject(this[w].error);let t=this.body;if(null===t)return x.Promise.resolve(Buffer.alloc(0));if(S(t)&&(t=t.stream()),Buffer.isBuffer(t))return x.Promise.resolve(t);if(!(t instanceof c))return x.Promise.resolve(Buffer.alloc(0));let r=[],n=0,o=!1;return new x.Promise((function(i,s){let a;e.timeout&&(a=setTimeout((function(){o=!0,s(new v(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,\"body-timeout\"))}),e.timeout)),t.on(\"error\",(function(t){\"AbortError\"===t.name?(o=!0,s(t)):s(new v(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,\"system\",t))})),t.on(\"data\",(function(t){if(!o&&null!==t){if(e.size&&n+t.length>e.size)return o=!0,void s(new v(`content size at ${e.url} over limit: ${e.size}`,\"max-size\"));n+=t.length,r.push(t)}})),t.on(\"end\",(function(){if(!o){clearTimeout(a);try{i(Buffer.concat(r,n))}catch(t){s(new v(`Could not create Buffer from response body for ${e.url}: ${t.message}`,\"system\",t))}}}))}))}function O(e){return\"object\"==typeof e&&\"function\"==typeof e.append&&\"function\"==typeof e.delete&&\"function\"==typeof e.get&&\"function\"==typeof e.getAll&&\"function\"==typeof e.has&&\"function\"==typeof e.set&&(\"URLSearchParams\"===e.constructor.name||\"[object URLSearchParams]\"===Object.prototype.toString.call(e)||\"function\"==typeof e.sort)}function S(e){return\"object\"==typeof e&&\"function\"==typeof e.arrayBuffer&&\"string\"==typeof e.type&&\"function\"==typeof e.stream&&\"function\"==typeof e.constructor&&\"string\"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function j(e){let t,r,n=e.body;if(e.bodyUsed)throw new Error(\"cannot clone body after it is used\");return n instanceof c&&\"function\"!=typeof n.getBoundary&&(t=new _,r=new _,n.pipe(t),n.pipe(r),e[w].body=t,n=r),n}function k(e){return null===e?null:\"string\"==typeof e?\"text/plain;charset=UTF-8\":O(e)?\"application/x-www-form-urlencoded;charset=UTF-8\":S(e)?e.type||null:Buffer.isBuffer(e)||\"[object ArrayBuffer]\"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:\"function\"==typeof e.getBoundary?\"multipart/form-data;boundary=\"+e.getBoundary():e instanceof c?null:\"text/plain;charset=UTF-8\"}function R(e){const t=e.body;return null===t?0:S(t)?t.size:Buffer.isBuffer(t)?t.length:t&&\"function\"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}x.prototype={get body(){return this[w].body},get bodyUsed(){return this[w].disturbed},arrayBuffer(){return E.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get(\"content-type\")||\"\";return E.call(this).then((function(t){return Object.assign(new m([],{type:e.toLowerCase()}),{[g]:t})}))},json(){var e=this;return E.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return x.Promise.reject(new v(`invalid json response body at ${e.url} reason: ${t.message}`,\"invalid-json\"))}}))},text(){return E.call(this).then((function(e){return e.toString()}))},buffer(){return E.call(this)},textConverted(){var e=this;return E.call(this).then((function(t){return function(e,t){if(\"function\"!=typeof b)throw new Error(\"The package `encoding` must be installed to use the textConverted() function\");const r=t.get(\"content-type\");let n,o,i=\"utf-8\";r&&(n=/charset=([^;]*)/i.exec(r));o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['\"])(.+?)\\1/i.exec(o));!n&&o&&(n=/<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(o),n||(n=/<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(o),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&o&&(n=/<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(o));n&&(i=n.pop(),\"gb2312\"!==i&&\"gbk\"!==i||(i=\"gb18030\"));return b(e,\"UTF-8\",i).toString()}(t,e.headers)}))}},Object.defineProperties(x.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),x.mixIn=function(e){for(const t of Object.getOwnPropertyNames(x.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(x.prototype,t);Object.defineProperty(e,t,r)}},x.Promise=global.Promise;const C=/[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/,T=/[^\\t\\x20-\\x7e\\x80-\\xff]/;function P(e){if(e=\"\"+e,C.test(e)||\"\"===e)throw new TypeError(e+\" is not a legal HTTP header name\")}function A(e){if(e=\"\"+e,T.test(e))throw new TypeError(e+\" is not a legal HTTP header value\")}function M(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const N=Symbol(\"map\");class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[N]=Object.create(null),e instanceof D){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if(\"object\"!=typeof e)throw new TypeError(\"Provided initializer must be an object\");{const t=e[Symbol.iterator];if(null!=t){if(\"function\"!=typeof t)throw new TypeError(\"Header pairs must be iterable\");const r=[];for(const t of e){if(\"object\"!=typeof t||\"function\"!=typeof t[Symbol.iterator])throw new TypeError(\"Each header pair must be iterable\");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError(\"Each header pair must be a name/value tuple\");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){P(e=\"\"+e);const t=M(this[N],e);return void 0===t?null:this[N][t].join(\", \")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=I(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],s=o[1];e.call(t,s,i,this),r=I(this),n++}}set(e,t){t=\"\"+t,P(e=\"\"+e),A(t);const r=M(this[N],e);this[N][void 0!==r?r:e]=[t]}append(e,t){t=\"\"+t,P(e=\"\"+e),A(t);const r=M(this[N],e);void 0!==r?this[N][r].push(t):this[N][e]=[t]}has(e){return P(e=\"\"+e),void 0!==M(this[N],e)}delete(e){P(e=\"\"+e);const t=M(this[N],e);void 0!==t&&delete this[N][t]}raw(){return this[N]}keys(){return L(this,\"key\")}values(){return L(this,\"value\")}[Symbol.iterator](){return L(this,\"key+value\")}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"key+value\";const r=Object.keys(e[N]).sort();return r.map(\"key\"===t?function(e){return e.toLowerCase()}:\"value\"===t?function(t){return e[N][t].join(\", \")}:function(t){return[t.toLowerCase(),e[N][t].join(\", \")]})}D.prototype.entries=D.prototype[Symbol.iterator],Object.defineProperty(D.prototype,Symbol.toStringTag,{value:\"Headers\",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(D.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const q=Symbol(\"internal\");function L(e,t){const r=Object.create(B);return r[q]={target:e,kind:t,index:0},r}const B=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==B)throw new TypeError(\"Value of `this` is not a HeadersIterator\");var e=this[q];const t=e.target,r=e.kind,n=e.index,o=I(t,r);return n>=o.length?{value:void 0,done:!0}:(this[q].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function U(e){const t=Object.assign({__proto__:null},e[N]),r=M(e[N],\"Host\");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(B,Symbol.toStringTag,{value:\"HeadersIterator\",writable:!1,enumerable:!1,configurable:!0});const F=Symbol(\"Response internals\"),z=l.STATUS_CODES;class H{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x.call(this,e,t);const r=t.status||200,n=new D(t.headers);if(null!=e&&!n.has(\"Content-Type\")){const t=k(e);t&&n.append(\"Content-Type\",t)}this[F]={url:t.url,status:r,statusText:t.statusText||z[r],headers:n,counter:t.counter}}get url(){return this[F].url||\"\"}get status(){return this[F].status}get ok(){return this[F].status>=200&&this[F].status<300}get redirected(){return this[F].counter>0}get statusText(){return this[F].statusText}get headers(){return this[F].headers}clone(){return new H(j(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}x.mixIn(H.prototype),Object.defineProperties(H.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(H.prototype,Symbol.toStringTag,{value:\"Response\",writable:!1,enumerable:!1,configurable:!0});const $=Symbol(\"Request internals\"),V=f.parse,G=f.format,Y=\"destroy\"in c.Readable.prototype;function W(e){return\"object\"==typeof e&&\"object\"==typeof e[$]}class J{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(e)?t=V(e.url):(t=e&&e.href?V(e.href):V(\"\"+e),e={});let n=r.method||e.method||\"GET\";if(n=n.toUpperCase(),(null!=r.body||W(e)&&null!==e.body)&&(\"GET\"===n||\"HEAD\"===n))throw new TypeError(\"Request with GET/HEAD method cannot have body\");let o=null!=r.body?r.body:W(e)&&null!==e.body?j(e):null;x.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new D(r.headers||e.headers||{});if(null!=o&&!i.has(\"Content-Type\")){const e=k(o);e&&i.append(\"Content-Type\",e)}let s=W(e)?e.signal:null;if(\"signal\"in r&&(s=r.signal),null!=s&&!function(e){const t=e&&\"object\"==typeof e&&Object.getPrototypeOf(e);return!(!t||\"AbortSignal\"!==t.constructor.name)}(s))throw new TypeError(\"Expected signal to be an instanceof AbortSignal\");this[$]={method:n,redirect:r.redirect||e.redirect||\"follow\",headers:i,parsedURL:t,signal:s},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[$].method}get url(){return G(this[$].parsedURL)}get headers(){return this[$].headers}get redirect(){return this[$].redirect}get signal(){return this[$].signal}clone(){return new J(this)}}function X(e){Error.call(this,e),this.type=\"aborted\",this.message=e,Error.captureStackTrace(this,this.constructor)}x.mixIn(J.prototype),Object.defineProperty(J.prototype,Symbol.toStringTag,{value:\"Request\",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(J.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X.prototype.name=\"AbortError\";const Q=c.PassThrough,K=f.resolve;function Z(e,t){if(!Z.Promise)throw new Error(\"native promise missing, set fetch.Promise to your favorite alternative\");return x.Promise=Z.Promise,new Z.Promise((function(r,n){const o=new J(e,t),i=function(e){const t=e[$].parsedURL,r=new D(e[$].headers);if(r.has(\"Accept\")||r.set(\"Accept\",\"*/*\"),!t.protocol||!t.hostname)throw new TypeError(\"Only absolute URLs are supported\");if(!/^https?:$/.test(t.protocol))throw new TypeError(\"Only HTTP(S) protocols are supported\");if(e.signal&&e.body instanceof c.Readable&&!Y)throw new Error(\"Cancellation of streamed requests with AbortSignal is not supported in node < 8\");let n=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(n=\"0\"),null!=e.body){const t=R(e);\"number\"==typeof t&&(n=String(t))}n&&r.set(\"Content-Length\",n),r.has(\"User-Agent\")||r.set(\"User-Agent\",\"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)\"),e.compress&&!r.has(\"Accept-Encoding\")&&r.set(\"Accept-Encoding\",\"gzip,deflate\");let o=e.agent;return\"function\"==typeof o&&(o=o(t)),r.has(\"Connection\")||o||r.set(\"Connection\",\"close\"),Object.assign({},t,{method:e.method,headers:U(r),agent:o})}(o),s=(\"https:\"===i.protocol?h:l).request,a=o.signal;let u=null;const f=function(){let e=new X(\"The user aborted a request.\");n(e),o.body&&o.body instanceof c.Readable&&o.body.destroy(e),u&&u.body&&u.body.emit(\"error\",e)};if(a&&a.aborted)return void f();const d=function(){f(),m()},g=s(i);let y;function m(){g.abort(),a&&a.removeEventListener(\"abort\",d),clearTimeout(y)}a&&a.addEventListener(\"abort\",d),o.timeout&&g.once(\"socket\",(function(e){y=setTimeout((function(){n(new v(\"network timeout at: \"+o.url,\"request-timeout\")),m()}),o.timeout)})),g.on(\"error\",(function(e){n(new v(`request to ${o.url} failed, reason: ${e.message}`,\"system\",e)),m()})),g.on(\"response\",(function(e){clearTimeout(y);const t=function(e){const t=new D;for(const r of Object.keys(e))if(!C.test(r))if(Array.isArray(e[r]))for(const n of e[r])T.test(n)||(void 0===t[N][r]?t[N][r]=[n]:t[N][r].push(n));else T.test(e[r])||(t[N][r]=[e[r]]);return t}(e.headers);if(Z.isRedirect(e.statusCode)){const i=t.get(\"Location\"),s=null===i?null:K(o.url,i);switch(o.redirect){case\"error\":return n(new v(\"uri requested responds with a redirect, redirect mode is set to error: \"+o.url,\"no-redirect\")),void m();case\"manual\":if(null!==s)try{t.set(\"Location\",s)}catch(e){n(e)}break;case\"follow\":if(null===s)break;if(o.counter>=o.follow)return n(new v(\"maximum redirect reached at: \"+o.url,\"max-redirect\")),void m();const i={headers:new D(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:o.body,signal:o.signal,timeout:o.timeout,size:o.size};return 303!==e.statusCode&&o.body&&null===R(o)?(n(new v(\"Cannot follow redirect with body being a readable stream\",\"unsupported-redirect\")),void m()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||\"POST\"!==o.method)||(i.method=\"GET\",i.body=void 0,i.headers.delete(\"content-length\")),r(Z(new J(s,i))),void m())}}e.once(\"end\",(function(){a&&a.removeEventListener(\"abort\",d)}));let i=e.pipe(new Q);const s={url:o.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:o.size,timeout:o.timeout,counter:o.counter},c=t.get(\"Content-Encoding\");if(!o.compress||\"HEAD\"===o.method||null===c||204===e.statusCode||304===e.statusCode)return u=new H(i,s),void r(u);const l={flush:p.Z_SYNC_FLUSH,finishFlush:p.Z_SYNC_FLUSH};if(\"gzip\"==c||\"x-gzip\"==c)return i=i.pipe(p.createGunzip(l)),u=new H(i,s),void r(u);if(\"deflate\"!=c&&\"x-deflate\"!=c){if(\"br\"==c&&\"function\"==typeof p.createBrotliDecompress)return i=i.pipe(p.createBrotliDecompress()),u=new H(i,s),void r(u);u=new H(i,s),r(u)}else{e.pipe(new Q).once(\"data\",(function(e){i=8==(15&e[0])?i.pipe(p.createInflate()):i.pipe(p.createInflateRaw()),u=new H(i,s),r(u)}))}})),function(e,t){const r=t.body;null===r?e.end():S(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(g,o)}))}Z.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Z.Promise=global.Promise;var ee=Z,te=r(1);r(93).config();const re=r(180),{SANITY_API_TOKEN:ne,SANITY_PROJECT_ID:oe,SANITY_DATASET:ie,SHOPIFY_API_PASSWORD:se,SHOPIFY_API_KEY:ae,SHOPIFY_URL:ue,SHOPIFY_SECRET:ce}=process.env,le=s()({projectId:oe,dataset:ie,token:ne,useCdn:!1}),fe=async(e,t)=>{const r={_type:\"product\",_id:e.id.toString()},n={\"content.shopify.productId\":e.id,\"content.shopify.title\":e.title,\"content.shopify.defaultPrice\":e.variants[0].price,\"content.shopify.defaultVariant.title\":e.variants[0].title,\"content.shopify.defaultVariant.price\":e.variants[0].price,\"content.shopify.defaultVariant.sku\":e.variants[0].sku,\"content.shopify.defaultVariant.variantId\":e.variants[0].id,\"content.shopify.defaultVariant.taxable\":e.variants[0].taxable,\"content.shopify.defaultVariant.inventoryQuantity\":e.variants[0].inventory_quantity,\"content.shopify.defaultVariant.inventoryPolicy\":e.variants[0].inventory_policy,\"content.shopify.defaultVariant.barcode\":e.variants[0].barcode,\"content.main.title\":e.title,\"content.main.slug.current\":e.handle},i=Object(te.preparePayload)(te.PRODUCT_UPDATE,t);await o()({url:`https://${ae}:${se}@${ue}/admin/api/2020-10/graphql.json`,method:\"POST\",headers:te.shopifyConfig,data:JSON.stringify(i)});try{let t=le.transaction();t=t.createIfNotExists(r),t=t.patch(e.id.toString(),e=>e.set(n)),console.log(`Successfully updated/patched Product ${e.id} in Sanity`);const o=e.image?e.image.src:null;try{o&&await ee(o).then(e=>e.buffer()).then(e=>le.assets.upload(\"image\",e)).then(r=>{const n={\"content.shopify.image\":{_type:\"image\",asset:{_ref:r._id,_type:\"reference\"}}};t=t.patch(e.id.toString(),e=>e.set(n)),console.log(`patching image ${e.id} in Sanity`)})}catch(e){console.log(e)}const i=e.variants.map(e=>({_type:\"productVariant\",_id:e.id.toString()})),s=e.variants.map(t=>({\"content.main.title\":e.title,\"content.shopify.productId\":e.id,\"content.shopify.variantId\":t.id,\"content.shopify.title\":e.title,\"content.shopify.variantTitle\":t.title,\"content.shopify.sku\":t.sku,\"content.shopify.price\":t.price}));i.forEach((e,r)=>{t=t.createIfNotExists(e),t=t.patch(e._id,e=>e.set(s[r]))}),console.log(`Updating/patching Variants ${e.variants.map(e=>e.id).join(\", \")} in Sanity`),t=t.patch(e.id.toString(),t=>t.set({\"content.shopify.variants\":e.variants.map(e=>({_type:\"reference\",_ref:e.id.toString(),_key:e.id.toString()}))})),console.log(`Adding variant references to ${e.id} in Sanity`);const a=await t.commit();return Object(te.statusReturn)(200,{body:JSON.stringify(a)})}catch(e){return console.log(\"this is an error\",e),{statusCode:500,body:JSON.stringify({error:\"An internal server error has occured\"})}}},he=async e=>{if(\"POST\"!==e.httpMethod||!e.body)return Object(te.statusReturn)(400,\"\");let t;const r=e.headers[\"x-shopify-hmac-sha256\"];try{t=JSON.parse(e.body);if(u.a.createHmac(\"sha256\",ce).update(e.body).digest(\"base64\")!==r)return Object(te.statusReturn)(400,{error:\"Invalid Webhook\"})}catch(e){return console.error(\"JSON parsing error:\",e),Object(te.statusReturn)(400,{error:\"Bad request body\"})}if(t.hasOwnProperty(\"title\")&&t.hasOwnProperty(\"handle\")){const e=Object(te.preparePayload)(te.PRODUCT_QUERY,{id:t.admin_graphql_api_id});try{const r=await o()({url:`https://${ae}:${se}@${ue}/admin/api/2020-10/graphql.json`,method:\"POST\",headers:te.shopifyConfig,data:JSON.stringify(e)}),{metafield:n,title:i,id:s,handle:a,totalVariants:u,images:c,variants:l}=r.data.data.node,f={id:s,title:i,handle:a,totalVariants:u,images:c,variants:l},h={input:{id:t.admin_graphql_api_id,metafields:[{id:n?n.id:null,namespace:\"sync\",key:\"productData\",value:JSON.stringify(f),valueType:\"STRING\"}]}};if(n){if(!re.diff(JSON.parse(n.value),f))return Object(te.statusReturn)(200,{body:\"nothing important changed\"});try{return fe(t,h)}catch(e){return Object(te.statusReturn)(200,{error:\"Problem with mutation\"})}}else try{return fe(t,h)}catch(e){return Object(te.statusReturn)(200,{error:\"Problem with mutation\"})}}catch(e){return console.log(e),Object(te.statusReturn)(200,{error:\"Problem looking up Product\"})}}else if(t.hasOwnProperty(\"id\")&&!t.hasOwnProperty(\"title\")&&!t.hasOwnProperty(\"handle\"))return le.patch(t.id.toString()).set({\"content.shopify.deleted\":!0}).commit().then(e=>{console.log(`successfully marked ${t.id} as 'deleted'`)}).catch(e=>(console.error(\"Sanity error:\",e),Object(te.statusReturn)(500,{error:e[0].message})))}}]));","extractedComments":[]}