!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.picostate=n()}(this,function(){return function(t){var n=Object.assign({},t),e=Object.assign({},t),o={};return{get state(){return Object.assign({},n)},hydrate:function(c){return n=c?Object.assign(this.state,"function"==typeof c?c(this.state):c):t,function(){var t=Object.keys(n).reduce(function(t,o){return n[o]!==e[o]?t.concat(o):t},[]);if(e=n,t.length)for(var c=[],i=0,r=t.concat("*");i<r.length;i+=1)for(var f=0,a=o[r[i]]||[];f<a.length;f+=1){var s=a[f];c.indexOf(s)>-1||(s(Object.assign({},n)),c.push(s))}}},listen:function(t,n){n||"function"!=typeof t||(n=t,t="*");for(var e=[].concat(t),c=0,i=e;c<i.length;c+=1){var r=i[c];o[r]=(o[r]||[]).concat(n)}return function(){for(var t=0,c=e;t<c.length;t+=1){var i=c[t];o[i].splice(o[i].indexOf(n),1)}}}}}});
//# sourceMappingURL=picostate.umd.js.map
